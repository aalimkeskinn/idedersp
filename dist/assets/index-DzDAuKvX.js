function OF(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const A of i.addedNodes)A.tagName==="LINK"&&A.rel==="modulepreload"&&n(A)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var KV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function HF(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var PC={exports:{}},mg={},DC={exports:{}},jt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qh=Symbol.for("react.element"),MF=Symbol.for("react.portal"),VF=Symbol.for("react.fragment"),KF=Symbol.for("react.strict_mode"),zF=Symbol.for("react.profiler"),GF=Symbol.for("react.provider"),qF=Symbol.for("react.context"),WF=Symbol.for("react.forward_ref"),$F=Symbol.for("react.suspense"),YF=Symbol.for("react.memo"),JF=Symbol.for("react.lazy"),Ux=Symbol.iterator;function XF(t){return t===null||typeof t!="object"?null:(t=Ux&&t[Ux]||t["@@iterator"],typeof t=="function"?t:null)}var RC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},OC=Object.assign,HC={};function Pu(t,e,r){this.props=t,this.context=e,this.refs=HC,this.updater=r||RC}Pu.prototype.isReactComponent={};Pu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Pu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function MC(){}MC.prototype=Pu.prototype;function tw(t,e,r){this.props=t,this.context=e,this.refs=HC,this.updater=r||RC}var rw=tw.prototype=new MC;rw.constructor=tw;OC(rw,Pu.prototype);rw.isPureReactComponent=!0;var Qx=Array.isArray,VC=Object.prototype.hasOwnProperty,nw={current:null},KC={key:!0,ref:!0,__self:!0,__source:!0};function zC(t,e,r){var n,s={},i=null,A=null;if(e!=null)for(n in e.ref!==void 0&&(A=e.ref),e.key!==void 0&&(i=""+e.key),e)VC.call(e,n)&&!KC.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var o=Array(a),c=0;c<a;c++)o[c]=arguments[c+2];s.children=o}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:qh,type:t,key:i,ref:A,props:s,_owner:nw.current}}function ZF(t,e){return{$$typeof:qh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function sw(t){return typeof t=="object"&&t!==null&&t.$$typeof===qh}function e3(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Lx=/\/+/g;function j0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?e3(""+t.key):e.toString(36)}function Dp(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var A=!1;if(t===null)A=!0;else switch(i){case"string":case"number":A=!0;break;case"object":switch(t.$$typeof){case qh:case MF:A=!0}}if(A)return A=t,s=s(A),t=n===""?"."+j0(A,0):n,Qx(s)?(r="",t!=null&&(r=t.replace(Lx,"$&/")+"/"),Dp(s,e,r,"",function(c){return c})):s!=null&&(sw(s)&&(s=ZF(s,r+(!s.key||A&&A.key===s.key?"":(""+s.key).replace(Lx,"$&/")+"/")+t)),e.push(s)),1;if(A=0,n=n===""?".":n+":",Qx(t))for(var a=0;a<t.length;a++){i=t[a];var o=n+j0(i,a);A+=Dp(i,e,r,o,s)}else if(o=XF(t),typeof o=="function")for(t=o.call(t),a=0;!(i=t.next()).done;)i=i.value,o=n+j0(i,a++),A+=Dp(i,e,r,o,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return A}function Rf(t,e,r){if(t==null)return t;var n=[],s=0;return Dp(t,n,"","",function(i){return e.call(r,i,s++)}),n}function t3(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var hs={current:null},Rp={transition:null},r3={ReactCurrentDispatcher:hs,ReactCurrentBatchConfig:Rp,ReactCurrentOwner:nw};function GC(){throw Error("act(...) is not supported in production builds of React.")}jt.Children={map:Rf,forEach:function(t,e,r){Rf(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Rf(t,function(){e++}),e},toArray:function(t){return Rf(t,function(e){return e})||[]},only:function(t){if(!sw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};jt.Component=Pu;jt.Fragment=VF;jt.Profiler=zF;jt.PureComponent=tw;jt.StrictMode=KF;jt.Suspense=$F;jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r3;jt.act=GC;jt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=OC({},t.props),s=t.key,i=t.ref,A=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,A=nw.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(o in e)VC.call(e,o)&&!KC.hasOwnProperty(o)&&(n[o]=e[o]===void 0&&a!==void 0?a[o]:e[o])}var o=arguments.length-2;if(o===1)n.children=r;else if(1<o){a=Array(o);for(var c=0;c<o;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:qh,type:t.type,key:s,ref:i,props:n,_owner:A}};jt.createContext=function(t){return t={$$typeof:qF,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:GF,_context:t},t.Consumer=t};jt.createElement=zC;jt.createFactory=function(t){var e=zC.bind(null,t);return e.type=t,e};jt.createRef=function(){return{current:null}};jt.forwardRef=function(t){return{$$typeof:WF,render:t}};jt.isValidElement=sw;jt.lazy=function(t){return{$$typeof:JF,_payload:{_status:-1,_result:t},_init:t3}};jt.memo=function(t,e){return{$$typeof:YF,type:t,compare:e===void 0?null:e}};jt.startTransition=function(t){var e=Rp.transition;Rp.transition={};try{t()}finally{Rp.transition=e}};jt.unstable_act=GC;jt.useCallback=function(t,e){return hs.current.useCallback(t,e)};jt.useContext=function(t){return hs.current.useContext(t)};jt.useDebugValue=function(){};jt.useDeferredValue=function(t){return hs.current.useDeferredValue(t)};jt.useEffect=function(t,e){return hs.current.useEffect(t,e)};jt.useId=function(){return hs.current.useId()};jt.useImperativeHandle=function(t,e,r){return hs.current.useImperativeHandle(t,e,r)};jt.useInsertionEffect=function(t,e){return hs.current.useInsertionEffect(t,e)};jt.useLayoutEffect=function(t,e){return hs.current.useLayoutEffect(t,e)};jt.useMemo=function(t,e){return hs.current.useMemo(t,e)};jt.useReducer=function(t,e,r){return hs.current.useReducer(t,e,r)};jt.useRef=function(t){return hs.current.useRef(t)};jt.useState=function(t){return hs.current.useState(t)};jt.useSyncExternalStore=function(t,e,r){return hs.current.useSyncExternalStore(t,e,r)};jt.useTransition=function(){return hs.current.useTransition()};jt.version="18.3.1";DC.exports=jt;var ue=DC.exports;const hi=HF(ue),n3=OF({__proto__:null,default:hi},[ue]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s3=ue,i3=Symbol.for("react.element"),A3=Symbol.for("react.fragment"),a3=Object.prototype.hasOwnProperty,o3=s3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l3={key:!0,ref:!0,__self:!0,__source:!0};function qC(t,e,r){var n,s={},i=null,A=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(A=e.ref);for(n in e)a3.call(e,n)&&!l3.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:i3,type:t,key:i,ref:A,props:s,_owner:o3.current}}mg.Fragment=A3;mg.jsx=qC;mg.jsxs=qC;PC.exports=mg;var l=PC.exports,WC={exports:{}},Ws={},$C={exports:{}},YC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ee,ce){var ye=ee.length;ee.push(ce);e:for(;0<ye;){var _e=ye-1>>>1,P=ee[_e];if(0<s(P,ce))ee[_e]=ce,ee[ye]=P,ye=_e;else break e}}function r(ee){return ee.length===0?null:ee[0]}function n(ee){if(ee.length===0)return null;var ce=ee[0],ye=ee.pop();if(ye!==ce){ee[0]=ye;e:for(var _e=0,P=ee.length,q=P>>>1;_e<q;){var Z=2*(_e+1)-1,Y=ee[Z],X=Z+1,J=ee[X];if(0>s(Y,ye))X<P&&0>s(J,Y)?(ee[_e]=J,ee[X]=ye,_e=X):(ee[_e]=Y,ee[Z]=ye,_e=Z);else if(X<P&&0>s(J,ye))ee[_e]=J,ee[X]=ye,_e=X;else break e}}return ce}function s(ee,ce){var ye=ee.sortIndex-ce.sortIndex;return ye!==0?ye:ee.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var A=Date,a=A.now();t.unstable_now=function(){return A.now()-a}}var o=[],c=[],h=1,f=null,g=3,m=!1,B=!1,b=!1,F=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(ee){for(var ce=r(c);ce!==null;){if(ce.callback===null)n(c);else if(ce.startTime<=ee)n(c),ce.sortIndex=ce.expirationTime,e(o,ce);else break;ce=r(c)}}function D(ee){if(b=!1,S(ee),!B)if(r(o)!==null)B=!0,ae(V);else{var ce=r(c);ce!==null&&ne(D,ce.startTime-ee)}}function V(ee,ce){B=!1,b&&(b=!1,y(_),_=-1),m=!0;var ye=g;try{for(S(ce),f=r(o);f!==null&&(!(f.expirationTime>ce)||ee&&!E());){var _e=f.callback;if(typeof _e=="function"){f.callback=null,g=f.priorityLevel;var P=_e(f.expirationTime<=ce);ce=t.unstable_now(),typeof P=="function"?f.callback=P:f===r(o)&&n(o),S(ce)}else n(o);f=r(o)}if(f!==null)var q=!0;else{var Z=r(c);Z!==null&&ne(D,Z.startTime-ce),q=!1}return q}finally{f=null,g=ye,m=!1}}var G=!1,Q=null,_=-1,k=5,N=-1;function E(){return!(t.unstable_now()-N<k)}function U(){if(Q!==null){var ee=t.unstable_now();N=ee;var ce=!0;try{ce=Q(!0,ee)}finally{ce?I():(G=!1,Q=null)}}else G=!1}var I;if(typeof x=="function")I=function(){x(U)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,$=j.port2;j.port1.onmessage=U,I=function(){$.postMessage(null)}}else I=function(){F(U,0)};function ae(ee){Q=ee,G||(G=!0,I())}function ne(ee,ce){_=F(function(){ee(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ee){ee.callback=null},t.unstable_continueExecution=function(){B||m||(B=!0,ae(V))},t.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<ee?Math.floor(1e3/ee):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return r(o)},t.unstable_next=function(ee){switch(g){case 1:case 2:case 3:var ce=3;break;default:ce=g}var ye=g;g=ce;try{return ee()}finally{g=ye}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ee,ce){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ye=g;g=ee;try{return ce()}finally{g=ye}},t.unstable_scheduleCallback=function(ee,ce,ye){var _e=t.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?_e+ye:_e):ye=_e,ee){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=ye+P,ee={id:h++,callback:ce,priorityLevel:ee,startTime:ye,expirationTime:P,sortIndex:-1},ye>_e?(ee.sortIndex=ye,e(c,ee),r(o)===null&&ee===r(c)&&(b?(y(_),_=-1):b=!0,ne(D,ye-_e))):(ee.sortIndex=P,e(o,ee),B||m||(B=!0,ae(V))),ee},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(ee){var ce=g;return function(){var ye=g;g=ce;try{return ee.apply(this,arguments)}finally{g=ye}}}})(YC);$C.exports=YC;var c3=$C.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u3=ue,qs=c3;function qe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var JC=new Set,uh={};function Wl(t,e){vu(t,e),vu(t+"Capture",e)}function vu(t,e){for(uh[t]=e,t=0;t<e.length;t++)JC.add(e[t])}var ra=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),X1=Object.prototype.hasOwnProperty,d3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jx={},Px={};function h3(t){return X1.call(Px,t)?!0:X1.call(jx,t)?!1:d3.test(t)?Px[t]=!0:(jx[t]=!0,!1)}function f3(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function p3(t,e,r,n){if(e===null||typeof e>"u"||f3(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function fs(t,e,r,n,s,i,A){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=A}var Tn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Tn[t]=new fs(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Tn[e]=new fs(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Tn[t]=new fs(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Tn[t]=new fs(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Tn[t]=new fs(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Tn[t]=new fs(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Tn[t]=new fs(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Tn[t]=new fs(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Tn[t]=new fs(t,5,!1,t.toLowerCase(),null,!1,!1)});var iw=/[\-:]([a-z])/g;function Aw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(iw,Aw);Tn[e]=new fs(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(iw,Aw);Tn[e]=new fs(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(iw,Aw);Tn[e]=new fs(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Tn[t]=new fs(t,1,!1,t.toLowerCase(),null,!1,!1)});Tn.xlinkHref=new fs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Tn[t]=new fs(t,1,!1,t.toLowerCase(),null,!0,!0)});function aw(t,e,r,n){var s=Tn.hasOwnProperty(e)?Tn[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(p3(e,r,s,n)&&(r=null),n||s===null?h3(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var da=u3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Of=Symbol.for("react.element"),Hc=Symbol.for("react.portal"),Mc=Symbol.for("react.fragment"),ow=Symbol.for("react.strict_mode"),Z1=Symbol.for("react.profiler"),XC=Symbol.for("react.provider"),ZC=Symbol.for("react.context"),lw=Symbol.for("react.forward_ref"),ev=Symbol.for("react.suspense"),tv=Symbol.for("react.suspense_list"),cw=Symbol.for("react.memo"),Xa=Symbol.for("react.lazy"),eE=Symbol.for("react.offscreen"),Dx=Symbol.iterator;function hd(t){return t===null||typeof t!="object"?null:(t=Dx&&t[Dx]||t["@@iterator"],typeof t=="function"?t:null)}var Nr=Object.assign,P0;function Sd(t){if(P0===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);P0=e&&e[1]||""}return`
`+P0+t}var D0=!1;function R0(t,e){if(!t||D0)return"";D0=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),A=s.length-1,a=i.length-1;1<=A&&0<=a&&s[A]!==i[a];)a--;for(;1<=A&&0<=a;A--,a--)if(s[A]!==i[a]){if(A!==1||a!==1)do if(A--,a--,0>a||s[A]!==i[a]){var o=`
`+s[A].replace(" at new "," at ");return t.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",t.displayName)),o}while(1<=A&&0<=a);break}}}finally{D0=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Sd(t):""}function m3(t){switch(t.tag){case 5:return Sd(t.type);case 16:return Sd("Lazy");case 13:return Sd("Suspense");case 19:return Sd("SuspenseList");case 0:case 2:case 15:return t=R0(t.type,!1),t;case 11:return t=R0(t.type.render,!1),t;case 1:return t=R0(t.type,!0),t;default:return""}}function rv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Mc:return"Fragment";case Hc:return"Portal";case Z1:return"Profiler";case ow:return"StrictMode";case ev:return"Suspense";case tv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ZC:return(t.displayName||"Context")+".Consumer";case XC:return(t._context.displayName||"Context")+".Provider";case lw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case cw:return e=t.displayName||null,e!==null?e:rv(t.type)||"Memo";case Xa:e=t._payload,t=t._init;try{return rv(t(e))}catch{}}return null}function g3(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rv(e);case 8:return e===ow?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Uo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function tE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function v3(t){var e=tE(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(A){n=""+A,i.call(this,A)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(A){n=""+A},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Hf(t){t._valueTracker||(t._valueTracker=v3(t))}function rE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=tE(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function hm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function nv(t,e){var r=e.checked;return Nr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Rx(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Uo(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function nE(t,e){e=e.checked,e!=null&&aw(t,"checked",e,!1)}function sv(t,e){nE(t,e);var r=Uo(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?iv(t,e.type,r):e.hasOwnProperty("defaultValue")&&iv(t,e.type,Uo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ox(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function iv(t,e,r){(e!=="number"||hm(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Nd=Array.isArray;function ru(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Uo(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Av(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(qe(91));return Nr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Hx(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(qe(92));if(Nd(r)){if(1<r.length)throw Error(qe(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Uo(r)}}function sE(t,e){var r=Uo(e.value),n=Uo(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Mx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function iE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function av(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?iE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Mf,AE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Mf=Mf||document.createElement("div"),Mf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Mf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function dh(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var zd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},y3=["Webkit","ms","Moz","O"];Object.keys(zd).forEach(function(t){y3.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),zd[e]=zd[t]})});function aE(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||zd.hasOwnProperty(t)&&zd[t]?(""+e).trim():e+"px"}function oE(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=aE(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var w3=Nr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ov(t,e){if(e){if(w3[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(qe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(qe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(qe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(qe(62))}}function lv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cv=null;function uw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var uv=null,nu=null,su=null;function Vx(t){if(t=Yh(t)){if(typeof uv!="function")throw Error(qe(280));var e=t.stateNode;e&&(e=xg(e),uv(t.stateNode,t.type,e))}}function lE(t){nu?su?su.push(t):su=[t]:nu=t}function cE(){if(nu){var t=nu,e=su;if(su=nu=null,Vx(t),e)for(t=0;t<e.length;t++)Vx(e[t])}}function uE(t,e){return t(e)}function dE(){}var O0=!1;function hE(t,e,r){if(O0)return t(e,r);O0=!0;try{return uE(t,e,r)}finally{O0=!1,(nu!==null||su!==null)&&(dE(),cE())}}function hh(t,e){var r=t.stateNode;if(r===null)return null;var n=xg(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(qe(231,e,typeof r));return r}var dv=!1;if(ra)try{var fd={};Object.defineProperty(fd,"passive",{get:function(){dv=!0}}),window.addEventListener("test",fd,fd),window.removeEventListener("test",fd,fd)}catch{dv=!1}function x3(t,e,r,n,s,i,A,a,o){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(h){this.onError(h)}}var Gd=!1,fm=null,pm=!1,hv=null,B3={onError:function(t){Gd=!0,fm=t}};function b3(t,e,r,n,s,i,A,a,o){Gd=!1,fm=null,x3.apply(B3,arguments)}function C3(t,e,r,n,s,i,A,a,o){if(b3.apply(this,arguments),Gd){if(Gd){var c=fm;Gd=!1,fm=null}else throw Error(qe(198));pm||(pm=!0,hv=c)}}function $l(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function fE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Kx(t){if($l(t)!==t)throw Error(qe(188))}function E3(t){var e=t.alternate;if(!e){if(e=$l(t),e===null)throw Error(qe(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Kx(s),t;if(i===n)return Kx(s),e;i=i.sibling}throw Error(qe(188))}if(r.return!==n.return)r=s,n=i;else{for(var A=!1,a=s.child;a;){if(a===r){A=!0,r=s,n=i;break}if(a===n){A=!0,n=s,r=i;break}a=a.sibling}if(!A){for(a=i.child;a;){if(a===r){A=!0,r=i,n=s;break}if(a===n){A=!0,n=i,r=s;break}a=a.sibling}if(!A)throw Error(qe(189))}}if(r.alternate!==n)throw Error(qe(190))}if(r.tag!==3)throw Error(qe(188));return r.stateNode.current===r?t:e}function pE(t){return t=E3(t),t!==null?mE(t):null}function mE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=mE(t);if(e!==null)return e;t=t.sibling}return null}var gE=qs.unstable_scheduleCallback,zx=qs.unstable_cancelCallback,_3=qs.unstable_shouldYield,I3=qs.unstable_requestPaint,zr=qs.unstable_now,S3=qs.unstable_getCurrentPriorityLevel,dw=qs.unstable_ImmediatePriority,vE=qs.unstable_UserBlockingPriority,mm=qs.unstable_NormalPriority,N3=qs.unstable_LowPriority,yE=qs.unstable_IdlePriority,gg=null,dA=null;function F3(t){if(dA&&typeof dA.onCommitFiberRoot=="function")try{dA.onCommitFiberRoot(gg,t,void 0,(t.current.flags&128)===128)}catch{}}var Li=Math.clz32?Math.clz32:U3,T3=Math.log,k3=Math.LN2;function U3(t){return t>>>=0,t===0?32:31-(T3(t)/k3|0)|0}var Vf=64,Kf=4194304;function Fd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function gm(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,A=r&268435455;if(A!==0){var a=A&~s;a!==0?n=Fd(a):(i&=A,i!==0&&(n=Fd(i)))}else A=r&~s,A!==0?n=Fd(A):i!==0&&(n=Fd(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Li(e),s=1<<r,n|=t[r],e&=~s;return n}function Q3(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function L3(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var A=31-Li(i),a=1<<A,o=s[A];o===-1?(!(a&r)||a&n)&&(s[A]=Q3(a,e)):o<=e&&(t.expiredLanes|=a),i&=~a}}function fv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function wE(){var t=Vf;return Vf<<=1,!(Vf&4194240)&&(Vf=64),t}function H0(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Wh(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Li(e),t[e]=r}function j3(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Li(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function hw(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Li(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var sr=0;function xE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var BE,fw,bE,CE,EE,pv=!1,zf=[],mo=null,go=null,vo=null,fh=new Map,ph=new Map,to=[],P3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gx(t,e){switch(t){case"focusin":case"focusout":mo=null;break;case"dragenter":case"dragleave":go=null;break;case"mouseover":case"mouseout":vo=null;break;case"pointerover":case"pointerout":fh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ph.delete(e.pointerId)}}function pd(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Yh(e),e!==null&&fw(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function D3(t,e,r,n,s){switch(e){case"focusin":return mo=pd(mo,t,e,r,n,s),!0;case"dragenter":return go=pd(go,t,e,r,n,s),!0;case"mouseover":return vo=pd(vo,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return fh.set(i,pd(fh.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,ph.set(i,pd(ph.get(i)||null,t,e,r,n,s)),!0}return!1}function _E(t){var e=Cl(t.target);if(e!==null){var r=$l(e);if(r!==null){if(e=r.tag,e===13){if(e=fE(r),e!==null){t.blockedOn=e,EE(t.priority,function(){bE(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Op(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=mv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);cv=n,r.target.dispatchEvent(n),cv=null}else return e=Yh(r),e!==null&&fw(e),t.blockedOn=r,!1;e.shift()}return!0}function qx(t,e,r){Op(t)&&r.delete(e)}function R3(){pv=!1,mo!==null&&Op(mo)&&(mo=null),go!==null&&Op(go)&&(go=null),vo!==null&&Op(vo)&&(vo=null),fh.forEach(qx),ph.forEach(qx)}function md(t,e){t.blockedOn===e&&(t.blockedOn=null,pv||(pv=!0,qs.unstable_scheduleCallback(qs.unstable_NormalPriority,R3)))}function mh(t){function e(s){return md(s,t)}if(0<zf.length){md(zf[0],t);for(var r=1;r<zf.length;r++){var n=zf[r];n.blockedOn===t&&(n.blockedOn=null)}}for(mo!==null&&md(mo,t),go!==null&&md(go,t),vo!==null&&md(vo,t),fh.forEach(e),ph.forEach(e),r=0;r<to.length;r++)n=to[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<to.length&&(r=to[0],r.blockedOn===null);)_E(r),r.blockedOn===null&&to.shift()}var iu=da.ReactCurrentBatchConfig,vm=!0;function O3(t,e,r,n){var s=sr,i=iu.transition;iu.transition=null;try{sr=1,pw(t,e,r,n)}finally{sr=s,iu.transition=i}}function H3(t,e,r,n){var s=sr,i=iu.transition;iu.transition=null;try{sr=4,pw(t,e,r,n)}finally{sr=s,iu.transition=i}}function pw(t,e,r,n){if(vm){var s=mv(t,e,r,n);if(s===null)J0(t,e,n,ym,r),Gx(t,n);else if(D3(s,t,e,r,n))n.stopPropagation();else if(Gx(t,n),e&4&&-1<P3.indexOf(t)){for(;s!==null;){var i=Yh(s);if(i!==null&&BE(i),i=mv(t,e,r,n),i===null&&J0(t,e,n,ym,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else J0(t,e,n,null,r)}}var ym=null;function mv(t,e,r,n){if(ym=null,t=uw(n),t=Cl(t),t!==null)if(e=$l(t),e===null)t=null;else if(r=e.tag,r===13){if(t=fE(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ym=t,null}function IE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(S3()){case dw:return 1;case vE:return 4;case mm:case N3:return 16;case yE:return 536870912;default:return 16}default:return 16}}var ao=null,mw=null,Hp=null;function SE(){if(Hp)return Hp;var t,e=mw,r=e.length,n,s="value"in ao?ao.value:ao.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var A=r-t;for(n=1;n<=A&&e[r-n]===s[i-n];n++);return Hp=s.slice(t,1<n?1-n:void 0)}function Mp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Gf(){return!0}function Wx(){return!1}function $s(t){function e(r,n,s,i,A){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=A,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Gf:Wx,this.isPropagationStopped=Wx,this}return Nr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Gf)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Gf)},persist:function(){},isPersistent:Gf}),e}var Du={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gw=$s(Du),$h=Nr({},Du,{view:0,detail:0}),M3=$s($h),M0,V0,gd,vg=Nr({},$h,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gd&&(gd&&t.type==="mousemove"?(M0=t.screenX-gd.screenX,V0=t.screenY-gd.screenY):V0=M0=0,gd=t),M0)},movementY:function(t){return"movementY"in t?t.movementY:V0}}),$x=$s(vg),V3=Nr({},vg,{dataTransfer:0}),K3=$s(V3),z3=Nr({},$h,{relatedTarget:0}),K0=$s(z3),G3=Nr({},Du,{animationName:0,elapsedTime:0,pseudoElement:0}),q3=$s(G3),W3=Nr({},Du,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$3=$s(W3),Y3=Nr({},Du,{data:0}),Yx=$s(Y3),J3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},X3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Z3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eT(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Z3[t])?!!e[t]:!1}function vw(){return eT}var tT=Nr({},$h,{key:function(t){if(t.key){var e=J3[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Mp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?X3[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vw,charCode:function(t){return t.type==="keypress"?Mp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Mp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),rT=$s(tT),nT=Nr({},vg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jx=$s(nT),sT=Nr({},$h,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vw}),iT=$s(sT),AT=Nr({},Du,{propertyName:0,elapsedTime:0,pseudoElement:0}),aT=$s(AT),oT=Nr({},vg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),lT=$s(oT),cT=[9,13,27,32],yw=ra&&"CompositionEvent"in window,qd=null;ra&&"documentMode"in document&&(qd=document.documentMode);var uT=ra&&"TextEvent"in window&&!qd,NE=ra&&(!yw||qd&&8<qd&&11>=qd),Xx=" ",Zx=!1;function FE(t,e){switch(t){case"keyup":return cT.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function TE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vc=!1;function dT(t,e){switch(t){case"compositionend":return TE(e);case"keypress":return e.which!==32?null:(Zx=!0,Xx);case"textInput":return t=e.data,t===Xx&&Zx?null:t;default:return null}}function hT(t,e){if(Vc)return t==="compositionend"||!yw&&FE(t,e)?(t=SE(),Hp=mw=ao=null,Vc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return NE&&e.locale!=="ko"?null:e.data;default:return null}}var fT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eB(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!fT[t.type]:e==="textarea"}function kE(t,e,r,n){lE(n),e=wm(e,"onChange"),0<e.length&&(r=new gw("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Wd=null,gh=null;function pT(t){VE(t,0)}function yg(t){var e=Gc(t);if(rE(e))return t}function mT(t,e){if(t==="change")return e}var UE=!1;if(ra){var z0;if(ra){var G0="oninput"in document;if(!G0){var tB=document.createElement("div");tB.setAttribute("oninput","return;"),G0=typeof tB.oninput=="function"}z0=G0}else z0=!1;UE=z0&&(!document.documentMode||9<document.documentMode)}function rB(){Wd&&(Wd.detachEvent("onpropertychange",QE),gh=Wd=null)}function QE(t){if(t.propertyName==="value"&&yg(gh)){var e=[];kE(e,gh,t,uw(t)),hE(pT,e)}}function gT(t,e,r){t==="focusin"?(rB(),Wd=e,gh=r,Wd.attachEvent("onpropertychange",QE)):t==="focusout"&&rB()}function vT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yg(gh)}function yT(t,e){if(t==="click")return yg(e)}function wT(t,e){if(t==="input"||t==="change")return yg(e)}function xT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ri=typeof Object.is=="function"?Object.is:xT;function vh(t,e){if(Ri(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!X1.call(e,s)||!Ri(t[s],e[s]))return!1}return!0}function nB(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sB(t,e){var r=nB(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=nB(r)}}function LE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?LE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function jE(){for(var t=window,e=hm();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=hm(t.document)}return e}function ww(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function BT(t){var e=jE(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&LE(r.ownerDocument.documentElement,r)){if(n!==null&&ww(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=sB(r,i);var A=sB(r,n);s&&A&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==A.node||t.focusOffset!==A.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(A.node,A.offset)):(e.setEnd(A.node,A.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var bT=ra&&"documentMode"in document&&11>=document.documentMode,Kc=null,gv=null,$d=null,vv=!1;function iB(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;vv||Kc==null||Kc!==hm(n)||(n=Kc,"selectionStart"in n&&ww(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),$d&&vh($d,n)||($d=n,n=wm(gv,"onSelect"),0<n.length&&(e=new gw("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Kc)))}function qf(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var zc={animationend:qf("Animation","AnimationEnd"),animationiteration:qf("Animation","AnimationIteration"),animationstart:qf("Animation","AnimationStart"),transitionend:qf("Transition","TransitionEnd")},q0={},PE={};ra&&(PE=document.createElement("div").style,"AnimationEvent"in window||(delete zc.animationend.animation,delete zc.animationiteration.animation,delete zc.animationstart.animation),"TransitionEvent"in window||delete zc.transitionend.transition);function wg(t){if(q0[t])return q0[t];if(!zc[t])return t;var e=zc[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in PE)return q0[t]=e[r];return t}var DE=wg("animationend"),RE=wg("animationiteration"),OE=wg("animationstart"),HE=wg("transitionend"),ME=new Map,AB="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mo(t,e){ME.set(t,e),Wl(e,[t])}for(var W0=0;W0<AB.length;W0++){var $0=AB[W0],CT=$0.toLowerCase(),ET=$0[0].toUpperCase()+$0.slice(1);Mo(CT,"on"+ET)}Mo(DE,"onAnimationEnd");Mo(RE,"onAnimationIteration");Mo(OE,"onAnimationStart");Mo("dblclick","onDoubleClick");Mo("focusin","onFocus");Mo("focusout","onBlur");Mo(HE,"onTransitionEnd");vu("onMouseEnter",["mouseout","mouseover"]);vu("onMouseLeave",["mouseout","mouseover"]);vu("onPointerEnter",["pointerout","pointerover"]);vu("onPointerLeave",["pointerout","pointerover"]);Wl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Td="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_T=new Set("cancel close invalid load scroll toggle".split(" ").concat(Td));function aB(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,C3(n,e,void 0,t),t.currentTarget=null}function VE(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var A=n.length-1;0<=A;A--){var a=n[A],o=a.instance,c=a.currentTarget;if(a=a.listener,o!==i&&s.isPropagationStopped())break e;aB(s,a,c),i=o}else for(A=0;A<n.length;A++){if(a=n[A],o=a.instance,c=a.currentTarget,a=a.listener,o!==i&&s.isPropagationStopped())break e;aB(s,a,c),i=o}}}if(pm)throw t=hv,pm=!1,hv=null,t}function wr(t,e){var r=e[bv];r===void 0&&(r=e[bv]=new Set);var n=t+"__bubble";r.has(n)||(KE(e,t,2,!1),r.add(n))}function Y0(t,e,r){var n=0;e&&(n|=4),KE(r,t,n,e)}var Wf="_reactListening"+Math.random().toString(36).slice(2);function yh(t){if(!t[Wf]){t[Wf]=!0,JC.forEach(function(r){r!=="selectionchange"&&(_T.has(r)||Y0(r,!1,t),Y0(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Wf]||(e[Wf]=!0,Y0("selectionchange",!1,e))}}function KE(t,e,r,n){switch(IE(e)){case 1:var s=O3;break;case 4:s=H3;break;default:s=pw}r=s.bind(null,e,r,t),s=void 0,!dv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function J0(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var A=n.tag;if(A===3||A===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(A===4)for(A=n.return;A!==null;){var o=A.tag;if((o===3||o===4)&&(o=A.stateNode.containerInfo,o===s||o.nodeType===8&&o.parentNode===s))return;A=A.return}for(;a!==null;){if(A=Cl(a),A===null)return;if(o=A.tag,o===5||o===6){n=i=A;continue e}a=a.parentNode}}n=n.return}hE(function(){var c=i,h=uw(r),f=[];e:{var g=ME.get(t);if(g!==void 0){var m=gw,B=t;switch(t){case"keypress":if(Mp(r)===0)break e;case"keydown":case"keyup":m=rT;break;case"focusin":B="focus",m=K0;break;case"focusout":B="blur",m=K0;break;case"beforeblur":case"afterblur":m=K0;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=$x;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=K3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=iT;break;case DE:case RE:case OE:m=q3;break;case HE:m=aT;break;case"scroll":m=M3;break;case"wheel":m=lT;break;case"copy":case"cut":case"paste":m=$3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Jx}var b=(e&4)!==0,F=!b&&t==="scroll",y=b?g!==null?g+"Capture":null:g;b=[];for(var x=c,S;x!==null;){S=x;var D=S.stateNode;if(S.tag===5&&D!==null&&(S=D,y!==null&&(D=hh(x,y),D!=null&&b.push(wh(x,D,S)))),F)break;x=x.return}0<b.length&&(g=new m(g,B,null,r,h),f.push({event:g,listeners:b}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",g&&r!==cv&&(B=r.relatedTarget||r.fromElement)&&(Cl(B)||B[na]))break e;if((m||g)&&(g=h.window===h?h:(g=h.ownerDocument)?g.defaultView||g.parentWindow:window,m?(B=r.relatedTarget||r.toElement,m=c,B=B?Cl(B):null,B!==null&&(F=$l(B),B!==F||B.tag!==5&&B.tag!==6)&&(B=null)):(m=null,B=c),m!==B)){if(b=$x,D="onMouseLeave",y="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(b=Jx,D="onPointerLeave",y="onPointerEnter",x="pointer"),F=m==null?g:Gc(m),S=B==null?g:Gc(B),g=new b(D,x+"leave",m,r,h),g.target=F,g.relatedTarget=S,D=null,Cl(h)===c&&(b=new b(y,x+"enter",B,r,h),b.target=S,b.relatedTarget=F,D=b),F=D,m&&B)t:{for(b=m,y=B,x=0,S=b;S;S=Ec(S))x++;for(S=0,D=y;D;D=Ec(D))S++;for(;0<x-S;)b=Ec(b),x--;for(;0<S-x;)y=Ec(y),S--;for(;x--;){if(b===y||y!==null&&b===y.alternate)break t;b=Ec(b),y=Ec(y)}b=null}else b=null;m!==null&&oB(f,g,m,b,!1),B!==null&&F!==null&&oB(f,F,B,b,!0)}}e:{if(g=c?Gc(c):window,m=g.nodeName&&g.nodeName.toLowerCase(),m==="select"||m==="input"&&g.type==="file")var V=mT;else if(eB(g))if(UE)V=wT;else{V=vT;var G=gT}else(m=g.nodeName)&&m.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(V=yT);if(V&&(V=V(t,c))){kE(f,V,r,h);break e}G&&G(t,g,c),t==="focusout"&&(G=g._wrapperState)&&G.controlled&&g.type==="number"&&iv(g,"number",g.value)}switch(G=c?Gc(c):window,t){case"focusin":(eB(G)||G.contentEditable==="true")&&(Kc=G,gv=c,$d=null);break;case"focusout":$d=gv=Kc=null;break;case"mousedown":vv=!0;break;case"contextmenu":case"mouseup":case"dragend":vv=!1,iB(f,r,h);break;case"selectionchange":if(bT)break;case"keydown":case"keyup":iB(f,r,h)}var Q;if(yw)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Vc?FE(t,r)&&(_="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(NE&&r.locale!=="ko"&&(Vc||_!=="onCompositionStart"?_==="onCompositionEnd"&&Vc&&(Q=SE()):(ao=h,mw="value"in ao?ao.value:ao.textContent,Vc=!0)),G=wm(c,_),0<G.length&&(_=new Yx(_,t,null,r,h),f.push({event:_,listeners:G}),Q?_.data=Q:(Q=TE(r),Q!==null&&(_.data=Q)))),(Q=uT?dT(t,r):hT(t,r))&&(c=wm(c,"onBeforeInput"),0<c.length&&(h=new Yx("onBeforeInput","beforeinput",null,r,h),f.push({event:h,listeners:c}),h.data=Q))}VE(f,e)})}function wh(t,e,r){return{instance:t,listener:e,currentTarget:r}}function wm(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=hh(t,r),i!=null&&n.unshift(wh(t,i,s)),i=hh(t,e),i!=null&&n.push(wh(t,i,s))),t=t.return}return n}function Ec(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function oB(t,e,r,n,s){for(var i=e._reactName,A=[];r!==null&&r!==n;){var a=r,o=a.alternate,c=a.stateNode;if(o!==null&&o===n)break;a.tag===5&&c!==null&&(a=c,s?(o=hh(r,i),o!=null&&A.unshift(wh(r,o,a))):s||(o=hh(r,i),o!=null&&A.push(wh(r,o,a)))),r=r.return}A.length!==0&&t.push({event:e,listeners:A})}var IT=/\r\n?/g,ST=/\u0000|\uFFFD/g;function lB(t){return(typeof t=="string"?t:""+t).replace(IT,`
`).replace(ST,"")}function $f(t,e,r){if(e=lB(e),lB(t)!==e&&r)throw Error(qe(425))}function xm(){}var yv=null,wv=null;function xv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Bv=typeof setTimeout=="function"?setTimeout:void 0,NT=typeof clearTimeout=="function"?clearTimeout:void 0,cB=typeof Promise=="function"?Promise:void 0,FT=typeof queueMicrotask=="function"?queueMicrotask:typeof cB<"u"?function(t){return cB.resolve(null).then(t).catch(TT)}:Bv;function TT(t){setTimeout(function(){throw t})}function X0(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),mh(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);mh(e)}function yo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function uB(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Ru=Math.random().toString(36).slice(2),cA="__reactFiber$"+Ru,xh="__reactProps$"+Ru,na="__reactContainer$"+Ru,bv="__reactEvents$"+Ru,kT="__reactListeners$"+Ru,UT="__reactHandles$"+Ru;function Cl(t){var e=t[cA];if(e)return e;for(var r=t.parentNode;r;){if(e=r[na]||r[cA]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=uB(t);t!==null;){if(r=t[cA])return r;t=uB(t)}return e}t=r,r=t.parentNode}return null}function Yh(t){return t=t[cA]||t[na],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Gc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(qe(33))}function xg(t){return t[xh]||null}var Cv=[],qc=-1;function Vo(t){return{current:t}}function br(t){0>qc||(t.current=Cv[qc],Cv[qc]=null,qc--)}function gr(t,e){qc++,Cv[qc]=t.current,t.current=e}var Qo={},Xn=Vo(Qo),Es=Vo(!1),Pl=Qo;function yu(t,e){var r=t.type.contextTypes;if(!r)return Qo;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function _s(t){return t=t.childContextTypes,t!=null}function Bm(){br(Es),br(Xn)}function dB(t,e,r){if(Xn.current!==Qo)throw Error(qe(168));gr(Xn,e),gr(Es,r)}function zE(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(qe(108,g3(t)||"Unknown",s));return Nr({},r,n)}function bm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Qo,Pl=Xn.current,gr(Xn,t),gr(Es,Es.current),!0}function hB(t,e,r){var n=t.stateNode;if(!n)throw Error(qe(169));r?(t=zE(t,e,Pl),n.__reactInternalMemoizedMergedChildContext=t,br(Es),br(Xn),gr(Xn,t)):br(Es),gr(Es,r)}var zA=null,Bg=!1,Z0=!1;function GE(t){zA===null?zA=[t]:zA.push(t)}function QT(t){Bg=!0,GE(t)}function Ko(){if(!Z0&&zA!==null){Z0=!0;var t=0,e=sr;try{var r=zA;for(sr=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}zA=null,Bg=!1}catch(s){throw zA!==null&&(zA=zA.slice(t+1)),gE(dw,Ko),s}finally{sr=e,Z0=!1}}return null}var Wc=[],$c=0,Cm=null,Em=0,Ai=[],ai=0,Dl=null,qA=1,WA="";function vl(t,e){Wc[$c++]=Em,Wc[$c++]=Cm,Cm=t,Em=e}function qE(t,e,r){Ai[ai++]=qA,Ai[ai++]=WA,Ai[ai++]=Dl,Dl=t;var n=qA;t=WA;var s=32-Li(n)-1;n&=~(1<<s),r+=1;var i=32-Li(e)+s;if(30<i){var A=s-s%5;i=(n&(1<<A)-1).toString(32),n>>=A,s-=A,qA=1<<32-Li(e)+s|r<<s|n,WA=i+t}else qA=1<<i|r<<s|n,WA=t}function xw(t){t.return!==null&&(vl(t,1),qE(t,1,0))}function Bw(t){for(;t===Cm;)Cm=Wc[--$c],Wc[$c]=null,Em=Wc[--$c],Wc[$c]=null;for(;t===Dl;)Dl=Ai[--ai],Ai[ai]=null,WA=Ai[--ai],Ai[ai]=null,qA=Ai[--ai],Ai[ai]=null}var Gs=null,Vs=null,_r=!1,Qi=null;function WE(t,e){var r=li(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function fB(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Gs=t,Vs=yo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Gs=t,Vs=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Dl!==null?{id:qA,overflow:WA}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=li(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Gs=t,Vs=null,!0):!1;default:return!1}}function Ev(t){return(t.mode&1)!==0&&(t.flags&128)===0}function _v(t){if(_r){var e=Vs;if(e){var r=e;if(!fB(t,e)){if(Ev(t))throw Error(qe(418));e=yo(r.nextSibling);var n=Gs;e&&fB(t,e)?WE(n,r):(t.flags=t.flags&-4097|2,_r=!1,Gs=t)}}else{if(Ev(t))throw Error(qe(418));t.flags=t.flags&-4097|2,_r=!1,Gs=t}}}function pB(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Gs=t}function Yf(t){if(t!==Gs)return!1;if(!_r)return pB(t),_r=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!xv(t.type,t.memoizedProps)),e&&(e=Vs)){if(Ev(t))throw $E(),Error(qe(418));for(;e;)WE(t,e),e=yo(e.nextSibling)}if(pB(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(qe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Vs=yo(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Vs=null}}else Vs=Gs?yo(t.stateNode.nextSibling):null;return!0}function $E(){for(var t=Vs;t;)t=yo(t.nextSibling)}function wu(){Vs=Gs=null,_r=!1}function bw(t){Qi===null?Qi=[t]:Qi.push(t)}var LT=da.ReactCurrentBatchConfig;function vd(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(qe(309));var n=r.stateNode}if(!n)throw Error(qe(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(A){var a=s.refs;A===null?delete a[i]:a[i]=A},e._stringRef=i,e)}if(typeof t!="string")throw Error(qe(284));if(!r._owner)throw Error(qe(290,t))}return t}function Jf(t,e){throw t=Object.prototype.toString.call(e),Error(qe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function mB(t){var e=t._init;return e(t._payload)}function YE(t){function e(y,x){if(t){var S=y.deletions;S===null?(y.deletions=[x],y.flags|=16):S.push(x)}}function r(y,x){if(!t)return null;for(;x!==null;)e(y,x),x=x.sibling;return null}function n(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function s(y,x){return y=bo(y,x),y.index=0,y.sibling=null,y}function i(y,x,S){return y.index=S,t?(S=y.alternate,S!==null?(S=S.index,S<x?(y.flags|=2,x):S):(y.flags|=2,x)):(y.flags|=1048576,x)}function A(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,x,S,D){return x===null||x.tag!==6?(x=A1(S,y.mode,D),x.return=y,x):(x=s(x,S),x.return=y,x)}function o(y,x,S,D){var V=S.type;return V===Mc?h(y,x,S.props.children,D,S.key):x!==null&&(x.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===Xa&&mB(V)===x.type)?(D=s(x,S.props),D.ref=vd(y,x,S),D.return=y,D):(D=$p(S.type,S.key,S.props,null,y.mode,D),D.ref=vd(y,x,S),D.return=y,D)}function c(y,x,S,D){return x===null||x.tag!==4||x.stateNode.containerInfo!==S.containerInfo||x.stateNode.implementation!==S.implementation?(x=a1(S,y.mode,D),x.return=y,x):(x=s(x,S.children||[]),x.return=y,x)}function h(y,x,S,D,V){return x===null||x.tag!==7?(x=Tl(S,y.mode,D,V),x.return=y,x):(x=s(x,S),x.return=y,x)}function f(y,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return x=A1(""+x,y.mode,S),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Of:return S=$p(x.type,x.key,x.props,null,y.mode,S),S.ref=vd(y,null,x),S.return=y,S;case Hc:return x=a1(x,y.mode,S),x.return=y,x;case Xa:var D=x._init;return f(y,D(x._payload),S)}if(Nd(x)||hd(x))return x=Tl(x,y.mode,S,null),x.return=y,x;Jf(y,x)}return null}function g(y,x,S,D){var V=x!==null?x.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return V!==null?null:a(y,x,""+S,D);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Of:return S.key===V?o(y,x,S,D):null;case Hc:return S.key===V?c(y,x,S,D):null;case Xa:return V=S._init,g(y,x,V(S._payload),D)}if(Nd(S)||hd(S))return V!==null?null:h(y,x,S,D,null);Jf(y,S)}return null}function m(y,x,S,D,V){if(typeof D=="string"&&D!==""||typeof D=="number")return y=y.get(S)||null,a(x,y,""+D,V);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Of:return y=y.get(D.key===null?S:D.key)||null,o(x,y,D,V);case Hc:return y=y.get(D.key===null?S:D.key)||null,c(x,y,D,V);case Xa:var G=D._init;return m(y,x,S,G(D._payload),V)}if(Nd(D)||hd(D))return y=y.get(S)||null,h(x,y,D,V,null);Jf(x,D)}return null}function B(y,x,S,D){for(var V=null,G=null,Q=x,_=x=0,k=null;Q!==null&&_<S.length;_++){Q.index>_?(k=Q,Q=null):k=Q.sibling;var N=g(y,Q,S[_],D);if(N===null){Q===null&&(Q=k);break}t&&Q&&N.alternate===null&&e(y,Q),x=i(N,x,_),G===null?V=N:G.sibling=N,G=N,Q=k}if(_===S.length)return r(y,Q),_r&&vl(y,_),V;if(Q===null){for(;_<S.length;_++)Q=f(y,S[_],D),Q!==null&&(x=i(Q,x,_),G===null?V=Q:G.sibling=Q,G=Q);return _r&&vl(y,_),V}for(Q=n(y,Q);_<S.length;_++)k=m(Q,y,_,S[_],D),k!==null&&(t&&k.alternate!==null&&Q.delete(k.key===null?_:k.key),x=i(k,x,_),G===null?V=k:G.sibling=k,G=k);return t&&Q.forEach(function(E){return e(y,E)}),_r&&vl(y,_),V}function b(y,x,S,D){var V=hd(S);if(typeof V!="function")throw Error(qe(150));if(S=V.call(S),S==null)throw Error(qe(151));for(var G=V=null,Q=x,_=x=0,k=null,N=S.next();Q!==null&&!N.done;_++,N=S.next()){Q.index>_?(k=Q,Q=null):k=Q.sibling;var E=g(y,Q,N.value,D);if(E===null){Q===null&&(Q=k);break}t&&Q&&E.alternate===null&&e(y,Q),x=i(E,x,_),G===null?V=E:G.sibling=E,G=E,Q=k}if(N.done)return r(y,Q),_r&&vl(y,_),V;if(Q===null){for(;!N.done;_++,N=S.next())N=f(y,N.value,D),N!==null&&(x=i(N,x,_),G===null?V=N:G.sibling=N,G=N);return _r&&vl(y,_),V}for(Q=n(y,Q);!N.done;_++,N=S.next())N=m(Q,y,_,N.value,D),N!==null&&(t&&N.alternate!==null&&Q.delete(N.key===null?_:N.key),x=i(N,x,_),G===null?V=N:G.sibling=N,G=N);return t&&Q.forEach(function(U){return e(y,U)}),_r&&vl(y,_),V}function F(y,x,S,D){if(typeof S=="object"&&S!==null&&S.type===Mc&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Of:e:{for(var V=S.key,G=x;G!==null;){if(G.key===V){if(V=S.type,V===Mc){if(G.tag===7){r(y,G.sibling),x=s(G,S.props.children),x.return=y,y=x;break e}}else if(G.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===Xa&&mB(V)===G.type){r(y,G.sibling),x=s(G,S.props),x.ref=vd(y,G,S),x.return=y,y=x;break e}r(y,G);break}else e(y,G);G=G.sibling}S.type===Mc?(x=Tl(S.props.children,y.mode,D,S.key),x.return=y,y=x):(D=$p(S.type,S.key,S.props,null,y.mode,D),D.ref=vd(y,x,S),D.return=y,y=D)}return A(y);case Hc:e:{for(G=S.key;x!==null;){if(x.key===G)if(x.tag===4&&x.stateNode.containerInfo===S.containerInfo&&x.stateNode.implementation===S.implementation){r(y,x.sibling),x=s(x,S.children||[]),x.return=y,y=x;break e}else{r(y,x);break}else e(y,x);x=x.sibling}x=a1(S,y.mode,D),x.return=y,y=x}return A(y);case Xa:return G=S._init,F(y,x,G(S._payload),D)}if(Nd(S))return B(y,x,S,D);if(hd(S))return b(y,x,S,D);Jf(y,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,x!==null&&x.tag===6?(r(y,x.sibling),x=s(x,S),x.return=y,y=x):(r(y,x),x=A1(S,y.mode,D),x.return=y,y=x),A(y)):r(y,x)}return F}var xu=YE(!0),JE=YE(!1),_m=Vo(null),Im=null,Yc=null,Cw=null;function Ew(){Cw=Yc=Im=null}function _w(t){var e=_m.current;br(_m),t._currentValue=e}function Iv(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Au(t,e){Im=t,Cw=Yc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Cs=!0),t.firstContext=null)}function fi(t){var e=t._currentValue;if(Cw!==t)if(t={context:t,memoizedValue:e,next:null},Yc===null){if(Im===null)throw Error(qe(308));Yc=t,Im.dependencies={lanes:0,firstContext:t}}else Yc=Yc.next=t;return e}var El=null;function Iw(t){El===null?El=[t]:El.push(t)}function XE(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Iw(e)):(r.next=s.next,s.next=r),e.interleaved=r,sa(t,n)}function sa(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Za=!1;function Sw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ZE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ea(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wo(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Gt&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,sa(t,r)}return s=n.interleaved,s===null?(e.next=e,Iw(n)):(e.next=s.next,s.next=e),n.interleaved=e,sa(t,r)}function Vp(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,hw(t,r)}}function gB(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var A={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=A:i=i.next=A,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Sm(t,e,r,n){var s=t.updateQueue;Za=!1;var i=s.firstBaseUpdate,A=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var o=a,c=o.next;o.next=null,A===null?i=c:A.next=c,A=o;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==A&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=o))}if(i!==null){var f=s.baseState;A=0,h=c=o=null,a=i;do{var g=a.lane,m=a.eventTime;if((n&g)===g){h!==null&&(h=h.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var B=t,b=a;switch(g=e,m=r,b.tag){case 1:if(B=b.payload,typeof B=="function"){f=B.call(m,f,g);break e}f=B;break e;case 3:B.flags=B.flags&-65537|128;case 0:if(B=b.payload,g=typeof B=="function"?B.call(m,f,g):B,g==null)break e;f=Nr({},f,g);break e;case 2:Za=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,g=s.effects,g===null?s.effects=[a]:g.push(a))}else m={eventTime:m,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=m,o=f):h=h.next=m,A|=g;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;g=a,a=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(h===null&&(o=f),s.baseState=o,s.firstBaseUpdate=c,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do A|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ol|=A,t.lanes=A,t.memoizedState=f}}function vB(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(qe(191,s));s.call(n)}}}var Jh={},hA=Vo(Jh),Bh=Vo(Jh),bh=Vo(Jh);function _l(t){if(t===Jh)throw Error(qe(174));return t}function Nw(t,e){switch(gr(bh,e),gr(Bh,t),gr(hA,Jh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:av(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=av(e,t)}br(hA),gr(hA,e)}function Bu(){br(hA),br(Bh),br(bh)}function e4(t){_l(bh.current);var e=_l(hA.current),r=av(e,t.type);e!==r&&(gr(Bh,t),gr(hA,r))}function Fw(t){Bh.current===t&&(br(hA),br(Bh))}var Ir=Vo(0);function Nm(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var e1=[];function Tw(){for(var t=0;t<e1.length;t++)e1[t]._workInProgressVersionPrimary=null;e1.length=0}var Kp=da.ReactCurrentDispatcher,t1=da.ReactCurrentBatchConfig,Rl=0,Sr=null,cn=null,gn=null,Fm=!1,Yd=!1,Ch=0,jT=0;function Pn(){throw Error(qe(321))}function kw(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Ri(t[r],e[r]))return!1;return!0}function Uw(t,e,r,n,s,i){if(Rl=i,Sr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Kp.current=t===null||t.memoizedState===null?OT:HT,t=r(n,s),Yd){i=0;do{if(Yd=!1,Ch=0,25<=i)throw Error(qe(301));i+=1,gn=cn=null,e.updateQueue=null,Kp.current=MT,t=r(n,s)}while(Yd)}if(Kp.current=Tm,e=cn!==null&&cn.next!==null,Rl=0,gn=cn=Sr=null,Fm=!1,e)throw Error(qe(300));return t}function Qw(){var t=Ch!==0;return Ch=0,t}function lA(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gn===null?Sr.memoizedState=gn=t:gn=gn.next=t,gn}function pi(){if(cn===null){var t=Sr.alternate;t=t!==null?t.memoizedState:null}else t=cn.next;var e=gn===null?Sr.memoizedState:gn.next;if(e!==null)gn=e,cn=t;else{if(t===null)throw Error(qe(310));cn=t,t={memoizedState:cn.memoizedState,baseState:cn.baseState,baseQueue:cn.baseQueue,queue:cn.queue,next:null},gn===null?Sr.memoizedState=gn=t:gn=gn.next=t}return gn}function Eh(t,e){return typeof e=="function"?e(t):e}function r1(t){var e=pi(),r=e.queue;if(r===null)throw Error(qe(311));r.lastRenderedReducer=t;var n=cn,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var A=s.next;s.next=i.next,i.next=A}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=A=null,o=null,c=i;do{var h=c.lane;if((Rl&h)===h)o!==null&&(o=o.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};o===null?(a=o=f,A=n):o=o.next=f,Sr.lanes|=h,Ol|=h}c=c.next}while(c!==null&&c!==i);o===null?A=n:o.next=a,Ri(n,e.memoizedState)||(Cs=!0),e.memoizedState=n,e.baseState=A,e.baseQueue=o,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,Sr.lanes|=i,Ol|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function n1(t){var e=pi(),r=e.queue;if(r===null)throw Error(qe(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var A=s=s.next;do i=t(i,A.action),A=A.next;while(A!==s);Ri(i,e.memoizedState)||(Cs=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function t4(){}function r4(t,e){var r=Sr,n=pi(),s=e(),i=!Ri(n.memoizedState,s);if(i&&(n.memoizedState=s,Cs=!0),n=n.queue,Lw(i4.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||gn!==null&&gn.memoizedState.tag&1){if(r.flags|=2048,_h(9,s4.bind(null,r,n,s,e),void 0,null),yn===null)throw Error(qe(349));Rl&30||n4(r,e,s)}return s}function n4(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Sr.updateQueue,e===null?(e={lastEffect:null,stores:null},Sr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function s4(t,e,r,n){e.value=r,e.getSnapshot=n,A4(e)&&a4(t)}function i4(t,e,r){return r(function(){A4(e)&&a4(t)})}function A4(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ri(t,r)}catch{return!0}}function a4(t){var e=sa(t,1);e!==null&&ji(e,t,1,-1)}function yB(t){var e=lA();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Eh,lastRenderedState:t},e.queue=t,t=t.dispatch=RT.bind(null,Sr,t),[e.memoizedState,t]}function _h(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Sr.updateQueue,e===null?(e={lastEffect:null,stores:null},Sr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function o4(){return pi().memoizedState}function zp(t,e,r,n){var s=lA();Sr.flags|=t,s.memoizedState=_h(1|e,r,void 0,n===void 0?null:n)}function bg(t,e,r,n){var s=pi();n=n===void 0?null:n;var i=void 0;if(cn!==null){var A=cn.memoizedState;if(i=A.destroy,n!==null&&kw(n,A.deps)){s.memoizedState=_h(e,r,i,n);return}}Sr.flags|=t,s.memoizedState=_h(1|e,r,i,n)}function wB(t,e){return zp(8390656,8,t,e)}function Lw(t,e){return bg(2048,8,t,e)}function l4(t,e){return bg(4,2,t,e)}function c4(t,e){return bg(4,4,t,e)}function u4(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function d4(t,e,r){return r=r!=null?r.concat([t]):null,bg(4,4,u4.bind(null,e,t),r)}function jw(){}function h4(t,e){var r=pi();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&kw(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function f4(t,e){var r=pi();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&kw(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function p4(t,e,r){return Rl&21?(Ri(r,e)||(r=wE(),Sr.lanes|=r,Ol|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Cs=!0),t.memoizedState=r)}function PT(t,e){var r=sr;sr=r!==0&&4>r?r:4,t(!0);var n=t1.transition;t1.transition={};try{t(!1),e()}finally{sr=r,t1.transition=n}}function m4(){return pi().memoizedState}function DT(t,e,r){var n=Bo(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},g4(t))v4(e,r);else if(r=XE(t,e,r,n),r!==null){var s=us();ji(r,t,n,s),y4(r,e,n)}}function RT(t,e,r){var n=Bo(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(g4(t))v4(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var A=e.lastRenderedState,a=i(A,r);if(s.hasEagerState=!0,s.eagerState=a,Ri(a,A)){var o=e.interleaved;o===null?(s.next=s,Iw(e)):(s.next=o.next,o.next=s),e.interleaved=s;return}}catch{}finally{}r=XE(t,e,s,n),r!==null&&(s=us(),ji(r,t,n,s),y4(r,e,n))}}function g4(t){var e=t.alternate;return t===Sr||e!==null&&e===Sr}function v4(t,e){Yd=Fm=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function y4(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,hw(t,r)}}var Tm={readContext:fi,useCallback:Pn,useContext:Pn,useEffect:Pn,useImperativeHandle:Pn,useInsertionEffect:Pn,useLayoutEffect:Pn,useMemo:Pn,useReducer:Pn,useRef:Pn,useState:Pn,useDebugValue:Pn,useDeferredValue:Pn,useTransition:Pn,useMutableSource:Pn,useSyncExternalStore:Pn,useId:Pn,unstable_isNewReconciler:!1},OT={readContext:fi,useCallback:function(t,e){return lA().memoizedState=[t,e===void 0?null:e],t},useContext:fi,useEffect:wB,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,zp(4194308,4,u4.bind(null,e,t),r)},useLayoutEffect:function(t,e){return zp(4194308,4,t,e)},useInsertionEffect:function(t,e){return zp(4,2,t,e)},useMemo:function(t,e){var r=lA();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=lA();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=DT.bind(null,Sr,t),[n.memoizedState,t]},useRef:function(t){var e=lA();return t={current:t},e.memoizedState=t},useState:yB,useDebugValue:jw,useDeferredValue:function(t){return lA().memoizedState=t},useTransition:function(){var t=yB(!1),e=t[0];return t=PT.bind(null,t[1]),lA().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Sr,s=lA();if(_r){if(r===void 0)throw Error(qe(407));r=r()}else{if(r=e(),yn===null)throw Error(qe(349));Rl&30||n4(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,wB(i4.bind(null,n,i,t),[t]),n.flags|=2048,_h(9,s4.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=lA(),e=yn.identifierPrefix;if(_r){var r=WA,n=qA;r=(n&~(1<<32-Li(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Ch++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=jT++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},HT={readContext:fi,useCallback:h4,useContext:fi,useEffect:Lw,useImperativeHandle:d4,useInsertionEffect:l4,useLayoutEffect:c4,useMemo:f4,useReducer:r1,useRef:o4,useState:function(){return r1(Eh)},useDebugValue:jw,useDeferredValue:function(t){var e=pi();return p4(e,cn.memoizedState,t)},useTransition:function(){var t=r1(Eh)[0],e=pi().memoizedState;return[t,e]},useMutableSource:t4,useSyncExternalStore:r4,useId:m4,unstable_isNewReconciler:!1},MT={readContext:fi,useCallback:h4,useContext:fi,useEffect:Lw,useImperativeHandle:d4,useInsertionEffect:l4,useLayoutEffect:c4,useMemo:f4,useReducer:n1,useRef:o4,useState:function(){return n1(Eh)},useDebugValue:jw,useDeferredValue:function(t){var e=pi();return cn===null?e.memoizedState=t:p4(e,cn.memoizedState,t)},useTransition:function(){var t=n1(Eh)[0],e=pi().memoizedState;return[t,e]},useMutableSource:t4,useSyncExternalStore:r4,useId:m4,unstable_isNewReconciler:!1};function Ti(t,e){if(t&&t.defaultProps){e=Nr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Sv(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Nr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Cg={isMounted:function(t){return(t=t._reactInternals)?$l(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=us(),s=Bo(t),i=ea(n,s);i.payload=e,r!=null&&(i.callback=r),e=wo(t,i,s),e!==null&&(ji(e,t,s,n),Vp(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=us(),s=Bo(t),i=ea(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=wo(t,i,s),e!==null&&(ji(e,t,s,n),Vp(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=us(),n=Bo(t),s=ea(r,n);s.tag=2,e!=null&&(s.callback=e),e=wo(t,s,n),e!==null&&(ji(e,t,n,r),Vp(e,t,n))}};function xB(t,e,r,n,s,i,A){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,A):e.prototype&&e.prototype.isPureReactComponent?!vh(r,n)||!vh(s,i):!0}function w4(t,e,r){var n=!1,s=Qo,i=e.contextType;return typeof i=="object"&&i!==null?i=fi(i):(s=_s(e)?Pl:Xn.current,n=e.contextTypes,i=(n=n!=null)?yu(t,s):Qo),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Cg,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function BB(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Cg.enqueueReplaceState(e,e.state,null)}function Nv(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Sw(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=fi(i):(i=_s(e)?Pl:Xn.current,s.context=yu(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Sv(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Cg.enqueueReplaceState(s,s.state,null),Sm(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function bu(t,e){try{var r="",n=e;do r+=m3(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function s1(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Fv(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var VT=typeof WeakMap=="function"?WeakMap:Map;function x4(t,e,r){r=ea(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Um||(Um=!0,Ov=n),Fv(t,e)},r}function B4(t,e,r){r=ea(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Fv(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Fv(t,e),typeof n!="function"&&(xo===null?xo=new Set([this]):xo.add(this));var A=e.stack;this.componentDidCatch(e.value,{componentStack:A!==null?A:""})}),r}function bB(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new VT;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=nk.bind(null,t,e,r),e.then(t,t))}function CB(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function EB(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ea(-1,1),e.tag=2,wo(r,e,1))),r.lanes|=1),t)}var KT=da.ReactCurrentOwner,Cs=!1;function os(t,e,r,n){e.child=t===null?JE(e,null,r,n):xu(e,t.child,r,n)}function _B(t,e,r,n,s){r=r.render;var i=e.ref;return Au(e,s),n=Uw(t,e,r,n,i,s),r=Qw(),t!==null&&!Cs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ia(t,e,s)):(_r&&r&&xw(e),e.flags|=1,os(t,e,n,s),e.child)}function IB(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!Kw(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,b4(t,e,i,n,s)):(t=$p(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var A=i.memoizedProps;if(r=r.compare,r=r!==null?r:vh,r(A,n)&&t.ref===e.ref)return ia(t,e,s)}return e.flags|=1,t=bo(i,n),t.ref=e.ref,t.return=e,e.child=t}function b4(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(vh(i,n)&&t.ref===e.ref)if(Cs=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(Cs=!0);else return e.lanes=t.lanes,ia(t,e,s)}return Tv(t,e,r,n,s)}function C4(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},gr(Xc,Hs),Hs|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,gr(Xc,Hs),Hs|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,gr(Xc,Hs),Hs|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,gr(Xc,Hs),Hs|=n;return os(t,e,s,r),e.child}function E4(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Tv(t,e,r,n,s){var i=_s(r)?Pl:Xn.current;return i=yu(e,i),Au(e,s),r=Uw(t,e,r,n,i,s),n=Qw(),t!==null&&!Cs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ia(t,e,s)):(_r&&n&&xw(e),e.flags|=1,os(t,e,r,s),e.child)}function SB(t,e,r,n,s){if(_s(r)){var i=!0;bm(e)}else i=!1;if(Au(e,s),e.stateNode===null)Gp(t,e),w4(e,r,n),Nv(e,r,n,s),n=!0;else if(t===null){var A=e.stateNode,a=e.memoizedProps;A.props=a;var o=A.context,c=r.contextType;typeof c=="object"&&c!==null?c=fi(c):(c=_s(r)?Pl:Xn.current,c=yu(e,c));var h=r.getDerivedStateFromProps,f=typeof h=="function"||typeof A.getSnapshotBeforeUpdate=="function";f||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(a!==n||o!==c)&&BB(e,A,n,c),Za=!1;var g=e.memoizedState;A.state=g,Sm(e,n,A,s),o=e.memoizedState,a!==n||g!==o||Es.current||Za?(typeof h=="function"&&(Sv(e,r,h,n),o=e.memoizedState),(a=Za||xB(e,r,a,n,g,o,c))?(f||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(e.flags|=4194308)):(typeof A.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=o),A.props=n,A.state=o,A.context=c,n=a):(typeof A.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{A=e.stateNode,ZE(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Ti(e.type,a),A.props=c,f=e.pendingProps,g=A.context,o=r.contextType,typeof o=="object"&&o!==null?o=fi(o):(o=_s(r)?Pl:Xn.current,o=yu(e,o));var m=r.getDerivedStateFromProps;(h=typeof m=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(a!==f||g!==o)&&BB(e,A,n,o),Za=!1,g=e.memoizedState,A.state=g,Sm(e,n,A,s);var B=e.memoizedState;a!==f||g!==B||Es.current||Za?(typeof m=="function"&&(Sv(e,r,m,n),B=e.memoizedState),(c=Za||xB(e,r,c,n,g,B,o)||!1)?(h||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(n,B,o),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(n,B,o)),typeof A.componentDidUpdate=="function"&&(e.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof A.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=B),A.props=n,A.state=B,A.context=o,n=c):(typeof A.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),n=!1)}return kv(t,e,r,n,i,s)}function kv(t,e,r,n,s,i){E4(t,e);var A=(e.flags&128)!==0;if(!n&&!A)return s&&hB(e,r,!1),ia(t,e,i);n=e.stateNode,KT.current=e;var a=A&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&A?(e.child=xu(e,t.child,null,i),e.child=xu(e,null,a,i)):os(t,e,a,i),e.memoizedState=n.state,s&&hB(e,r,!0),e.child}function _4(t){var e=t.stateNode;e.pendingContext?dB(t,e.pendingContext,e.pendingContext!==e.context):e.context&&dB(t,e.context,!1),Nw(t,e.containerInfo)}function NB(t,e,r,n,s){return wu(),bw(s),e.flags|=256,os(t,e,r,n),e.child}var Uv={dehydrated:null,treeContext:null,retryLane:0};function Qv(t){return{baseLanes:t,cachePool:null,transitions:null}}function I4(t,e,r){var n=e.pendingProps,s=Ir.current,i=!1,A=(e.flags&128)!==0,a;if((a=A)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),gr(Ir,s&1),t===null)return _v(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(A=n.children,t=n.fallback,i?(n=e.mode,i=e.child,A={mode:"hidden",children:A},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=A):i=Ig(A,n,0,null),t=Tl(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Qv(r),e.memoizedState=Uv,t):Pw(e,A));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return zT(t,e,A,n,a,s,r);if(i){i=n.fallback,A=e.mode,s=t.child,a=s.sibling;var o={mode:"hidden",children:n.children};return!(A&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=o,e.deletions=null):(n=bo(s,o),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=bo(a,i):(i=Tl(i,A,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,A=t.child.memoizedState,A=A===null?Qv(r):{baseLanes:A.baseLanes|r,cachePool:null,transitions:A.transitions},i.memoizedState=A,i.childLanes=t.childLanes&~r,e.memoizedState=Uv,n}return i=t.child,t=i.sibling,n=bo(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Pw(t,e){return e=Ig({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Xf(t,e,r,n){return n!==null&&bw(n),xu(e,t.child,null,r),t=Pw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function zT(t,e,r,n,s,i,A){if(r)return e.flags&256?(e.flags&=-257,n=s1(Error(qe(422))),Xf(t,e,A,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=Ig({mode:"visible",children:n.children},s,0,null),i=Tl(i,s,A,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&xu(e,t.child,null,A),e.child.memoizedState=Qv(A),e.memoizedState=Uv,i);if(!(e.mode&1))return Xf(t,e,A,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(qe(419)),n=s1(i,n,void 0),Xf(t,e,A,n)}if(a=(A&t.childLanes)!==0,Cs||a){if(n=yn,n!==null){switch(A&-A){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|A)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,sa(t,s),ji(n,t,s,-1))}return Vw(),n=s1(Error(qe(421))),Xf(t,e,A,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=sk.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Vs=yo(s.nextSibling),Gs=e,_r=!0,Qi=null,t!==null&&(Ai[ai++]=qA,Ai[ai++]=WA,Ai[ai++]=Dl,qA=t.id,WA=t.overflow,Dl=e),e=Pw(e,n.children),e.flags|=4096,e)}function FB(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Iv(t.return,e,r)}function i1(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function S4(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(os(t,e,n.children,r),n=Ir.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&FB(t,r,e);else if(t.tag===19)FB(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(gr(Ir,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Nm(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),i1(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Nm(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}i1(e,!0,r,null,i);break;case"together":i1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ia(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Ol|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(qe(153));if(e.child!==null){for(t=e.child,r=bo(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=bo(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function GT(t,e,r){switch(e.tag){case 3:_4(e),wu();break;case 5:e4(e);break;case 1:_s(e.type)&&bm(e);break;case 4:Nw(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;gr(_m,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(gr(Ir,Ir.current&1),e.flags|=128,null):r&e.child.childLanes?I4(t,e,r):(gr(Ir,Ir.current&1),t=ia(t,e,r),t!==null?t.sibling:null);gr(Ir,Ir.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return S4(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),gr(Ir,Ir.current),n)break;return null;case 22:case 23:return e.lanes=0,C4(t,e,r)}return ia(t,e,r)}var N4,Lv,F4,T4;N4=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Lv=function(){};F4=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,_l(hA.current);var i=null;switch(r){case"input":s=nv(t,s),n=nv(t,n),i=[];break;case"select":s=Nr({},s,{value:void 0}),n=Nr({},n,{value:void 0}),i=[];break;case"textarea":s=Av(t,s),n=Av(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=xm)}ov(r,n);var A;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(A in a)a.hasOwnProperty(A)&&(r||(r={}),r[A]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(uh.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var o=n[c];if(a=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&o!==a&&(o!=null||a!=null))if(c==="style")if(a){for(A in a)!a.hasOwnProperty(A)||o&&o.hasOwnProperty(A)||(r||(r={}),r[A]="");for(A in o)o.hasOwnProperty(A)&&a[A]!==o[A]&&(r||(r={}),r[A]=o[A])}else r||(i||(i=[]),i.push(c,r)),r=o;else c==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,a=a?a.__html:void 0,o!=null&&a!==o&&(i=i||[]).push(c,o)):c==="children"?typeof o!="string"&&typeof o!="number"||(i=i||[]).push(c,""+o):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(uh.hasOwnProperty(c)?(o!=null&&c==="onScroll"&&wr("scroll",t),i||a===o||(i=[])):(i=i||[]).push(c,o))}r&&(i=i||[]).push("style",r);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};T4=function(t,e,r,n){r!==n&&(e.flags|=4)};function yd(t,e){if(!_r)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Dn(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function qT(t,e,r){var n=e.pendingProps;switch(Bw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dn(e),null;case 1:return _s(e.type)&&Bm(),Dn(e),null;case 3:return n=e.stateNode,Bu(),br(Es),br(Xn),Tw(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Yf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qi!==null&&(Vv(Qi),Qi=null))),Lv(t,e),Dn(e),null;case 5:Fw(e);var s=_l(bh.current);if(r=e.type,t!==null&&e.stateNode!=null)F4(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(qe(166));return Dn(e),null}if(t=_l(hA.current),Yf(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[cA]=e,n[xh]=i,t=(e.mode&1)!==0,r){case"dialog":wr("cancel",n),wr("close",n);break;case"iframe":case"object":case"embed":wr("load",n);break;case"video":case"audio":for(s=0;s<Td.length;s++)wr(Td[s],n);break;case"source":wr("error",n);break;case"img":case"image":case"link":wr("error",n),wr("load",n);break;case"details":wr("toggle",n);break;case"input":Rx(n,i),wr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},wr("invalid",n);break;case"textarea":Hx(n,i),wr("invalid",n)}ov(r,i),s=null;for(var A in i)if(i.hasOwnProperty(A)){var a=i[A];A==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&$f(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&$f(n.textContent,a,t),s=["children",""+a]):uh.hasOwnProperty(A)&&a!=null&&A==="onScroll"&&wr("scroll",n)}switch(r){case"input":Hf(n),Ox(n,i,!0);break;case"textarea":Hf(n),Mx(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=xm)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{A=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=iE(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=A.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=A.createElement(r,{is:n.is}):(t=A.createElement(r),r==="select"&&(A=t,n.multiple?A.multiple=!0:n.size&&(A.size=n.size))):t=A.createElementNS(t,r),t[cA]=e,t[xh]=n,N4(t,e,!1,!1),e.stateNode=t;e:{switch(A=lv(r,n),r){case"dialog":wr("cancel",t),wr("close",t),s=n;break;case"iframe":case"object":case"embed":wr("load",t),s=n;break;case"video":case"audio":for(s=0;s<Td.length;s++)wr(Td[s],t);s=n;break;case"source":wr("error",t),s=n;break;case"img":case"image":case"link":wr("error",t),wr("load",t),s=n;break;case"details":wr("toggle",t),s=n;break;case"input":Rx(t,n),s=nv(t,n),wr("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=Nr({},n,{value:void 0}),wr("invalid",t);break;case"textarea":Hx(t,n),s=Av(t,n),wr("invalid",t);break;default:s=n}ov(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var o=a[i];i==="style"?oE(t,o):i==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&AE(t,o)):i==="children"?typeof o=="string"?(r!=="textarea"||o!=="")&&dh(t,o):typeof o=="number"&&dh(t,""+o):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(uh.hasOwnProperty(i)?o!=null&&i==="onScroll"&&wr("scroll",t):o!=null&&aw(t,i,o,A))}switch(r){case"input":Hf(t),Ox(t,n,!1);break;case"textarea":Hf(t),Mx(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Uo(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?ru(t,!!n.multiple,i,!1):n.defaultValue!=null&&ru(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=xm)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Dn(e),null;case 6:if(t&&e.stateNode!=null)T4(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(qe(166));if(r=_l(bh.current),_l(hA.current),Yf(e)){if(n=e.stateNode,r=e.memoizedProps,n[cA]=e,(i=n.nodeValue!==r)&&(t=Gs,t!==null))switch(t.tag){case 3:$f(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&$f(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[cA]=e,e.stateNode=n}return Dn(e),null;case 13:if(br(Ir),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(_r&&Vs!==null&&e.mode&1&&!(e.flags&128))$E(),wu(),e.flags|=98560,i=!1;else if(i=Yf(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(qe(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(qe(317));i[cA]=e}else wu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Dn(e),i=!1}else Qi!==null&&(Vv(Qi),Qi=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Ir.current&1?dn===0&&(dn=3):Vw())),e.updateQueue!==null&&(e.flags|=4),Dn(e),null);case 4:return Bu(),Lv(t,e),t===null&&yh(e.stateNode.containerInfo),Dn(e),null;case 10:return _w(e.type._context),Dn(e),null;case 17:return _s(e.type)&&Bm(),Dn(e),null;case 19:if(br(Ir),i=e.memoizedState,i===null)return Dn(e),null;if(n=(e.flags&128)!==0,A=i.rendering,A===null)if(n)yd(i,!1);else{if(dn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(A=Nm(t),A!==null){for(e.flags|=128,yd(i,!1),n=A.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,A=i.alternate,A===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=A.childLanes,i.lanes=A.lanes,i.child=A.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=A.memoizedProps,i.memoizedState=A.memoizedState,i.updateQueue=A.updateQueue,i.type=A.type,t=A.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return gr(Ir,Ir.current&1|2),e.child}t=t.sibling}i.tail!==null&&zr()>Cu&&(e.flags|=128,n=!0,yd(i,!1),e.lanes=4194304)}else{if(!n)if(t=Nm(A),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),yd(i,!0),i.tail===null&&i.tailMode==="hidden"&&!A.alternate&&!_r)return Dn(e),null}else 2*zr()-i.renderingStartTime>Cu&&r!==1073741824&&(e.flags|=128,n=!0,yd(i,!1),e.lanes=4194304);i.isBackwards?(A.sibling=e.child,e.child=A):(r=i.last,r!==null?r.sibling=A:e.child=A,i.last=A)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=zr(),e.sibling=null,r=Ir.current,gr(Ir,n?r&1|2:r&1),e):(Dn(e),null);case 22:case 23:return Mw(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Hs&1073741824&&(Dn(e),e.subtreeFlags&6&&(e.flags|=8192)):Dn(e),null;case 24:return null;case 25:return null}throw Error(qe(156,e.tag))}function WT(t,e){switch(Bw(e),e.tag){case 1:return _s(e.type)&&Bm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Bu(),br(Es),br(Xn),Tw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Fw(e),null;case 13:if(br(Ir),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(qe(340));wu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return br(Ir),null;case 4:return Bu(),null;case 10:return _w(e.type._context),null;case 22:case 23:return Mw(),null;case 24:return null;default:return null}}var Zf=!1,qn=!1,$T=typeof WeakSet=="function"?WeakSet:Set,it=null;function Jc(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){jr(t,e,n)}else r.current=null}function jv(t,e,r){try{r()}catch(n){jr(t,e,n)}}var TB=!1;function YT(t,e){if(yv=vm,t=jE(),ww(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var A=0,a=-1,o=-1,c=0,h=0,f=t,g=null;t:for(;;){for(var m;f!==r||s!==0&&f.nodeType!==3||(a=A+s),f!==i||n!==0&&f.nodeType!==3||(o=A+n),f.nodeType===3&&(A+=f.nodeValue.length),(m=f.firstChild)!==null;)g=f,f=m;for(;;){if(f===t)break t;if(g===r&&++c===s&&(a=A),g===i&&++h===n&&(o=A),(m=f.nextSibling)!==null)break;f=g,g=f.parentNode}f=m}r=a===-1||o===-1?null:{start:a,end:o}}else r=null}r=r||{start:0,end:0}}else r=null;for(wv={focusedElem:t,selectionRange:r},vm=!1,it=e;it!==null;)if(e=it,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,it=t;else for(;it!==null;){e=it;try{var B=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(B!==null){var b=B.memoizedProps,F=B.memoizedState,y=e.stateNode,x=y.getSnapshotBeforeUpdate(e.elementType===e.type?b:Ti(e.type,b),F);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(qe(163))}}catch(D){jr(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,it=t;break}it=e.return}return B=TB,TB=!1,B}function Jd(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&jv(e,r,i)}s=s.next}while(s!==n)}}function Eg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Pv(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function k4(t){var e=t.alternate;e!==null&&(t.alternate=null,k4(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[cA],delete e[xh],delete e[bv],delete e[kT],delete e[UT])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function U4(t){return t.tag===5||t.tag===3||t.tag===4}function kB(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||U4(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Dv(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=xm));else if(n!==4&&(t=t.child,t!==null))for(Dv(t,e,r),t=t.sibling;t!==null;)Dv(t,e,r),t=t.sibling}function Rv(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Rv(t,e,r),t=t.sibling;t!==null;)Rv(t,e,r),t=t.sibling}var Cn=null,Ui=!1;function Ga(t,e,r){for(r=r.child;r!==null;)Q4(t,e,r),r=r.sibling}function Q4(t,e,r){if(dA&&typeof dA.onCommitFiberUnmount=="function")try{dA.onCommitFiberUnmount(gg,r)}catch{}switch(r.tag){case 5:qn||Jc(r,e);case 6:var n=Cn,s=Ui;Cn=null,Ga(t,e,r),Cn=n,Ui=s,Cn!==null&&(Ui?(t=Cn,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Cn.removeChild(r.stateNode));break;case 18:Cn!==null&&(Ui?(t=Cn,r=r.stateNode,t.nodeType===8?X0(t.parentNode,r):t.nodeType===1&&X0(t,r),mh(t)):X0(Cn,r.stateNode));break;case 4:n=Cn,s=Ui,Cn=r.stateNode.containerInfo,Ui=!0,Ga(t,e,r),Cn=n,Ui=s;break;case 0:case 11:case 14:case 15:if(!qn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,A=i.destroy;i=i.tag,A!==void 0&&(i&2||i&4)&&jv(r,e,A),s=s.next}while(s!==n)}Ga(t,e,r);break;case 1:if(!qn&&(Jc(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){jr(r,e,a)}Ga(t,e,r);break;case 21:Ga(t,e,r);break;case 22:r.mode&1?(qn=(n=qn)||r.memoizedState!==null,Ga(t,e,r),qn=n):Ga(t,e,r);break;default:Ga(t,e,r)}}function UB(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new $T),e.forEach(function(n){var s=ik.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ii(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,A=e,a=A;e:for(;a!==null;){switch(a.tag){case 5:Cn=a.stateNode,Ui=!1;break e;case 3:Cn=a.stateNode.containerInfo,Ui=!0;break e;case 4:Cn=a.stateNode.containerInfo,Ui=!0;break e}a=a.return}if(Cn===null)throw Error(qe(160));Q4(i,A,s),Cn=null,Ui=!1;var o=s.alternate;o!==null&&(o.return=null),s.return=null}catch(c){jr(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)L4(e,t),e=e.sibling}function L4(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ii(e,t),AA(t),n&4){try{Jd(3,t,t.return),Eg(3,t)}catch(b){jr(t,t.return,b)}try{Jd(5,t,t.return)}catch(b){jr(t,t.return,b)}}break;case 1:Ii(e,t),AA(t),n&512&&r!==null&&Jc(r,r.return);break;case 5:if(Ii(e,t),AA(t),n&512&&r!==null&&Jc(r,r.return),t.flags&32){var s=t.stateNode;try{dh(s,"")}catch(b){jr(t,t.return,b)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,A=r!==null?r.memoizedProps:i,a=t.type,o=t.updateQueue;if(t.updateQueue=null,o!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&nE(s,i),lv(a,A);var c=lv(a,i);for(A=0;A<o.length;A+=2){var h=o[A],f=o[A+1];h==="style"?oE(s,f):h==="dangerouslySetInnerHTML"?AE(s,f):h==="children"?dh(s,f):aw(s,h,f,c)}switch(a){case"input":sv(s,i);break;case"textarea":sE(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?ru(s,!!i.multiple,m,!1):g!==!!i.multiple&&(i.defaultValue!=null?ru(s,!!i.multiple,i.defaultValue,!0):ru(s,!!i.multiple,i.multiple?[]:"",!1))}s[xh]=i}catch(b){jr(t,t.return,b)}}break;case 6:if(Ii(e,t),AA(t),n&4){if(t.stateNode===null)throw Error(qe(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(b){jr(t,t.return,b)}}break;case 3:if(Ii(e,t),AA(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{mh(e.containerInfo)}catch(b){jr(t,t.return,b)}break;case 4:Ii(e,t),AA(t);break;case 13:Ii(e,t),AA(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ow=zr())),n&4&&UB(t);break;case 22:if(h=r!==null&&r.memoizedState!==null,t.mode&1?(qn=(c=qn)||h,Ii(e,t),qn=c):Ii(e,t),AA(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(it=t,h=t.child;h!==null;){for(f=it=h;it!==null;){switch(g=it,m=g.child,g.tag){case 0:case 11:case 14:case 15:Jd(4,g,g.return);break;case 1:Jc(g,g.return);var B=g.stateNode;if(typeof B.componentWillUnmount=="function"){n=g,r=g.return;try{e=n,B.props=e.memoizedProps,B.state=e.memoizedState,B.componentWillUnmount()}catch(b){jr(n,r,b)}}break;case 5:Jc(g,g.return);break;case 22:if(g.memoizedState!==null){LB(f);continue}}m!==null?(m.return=g,it=m):LB(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,o=f.memoizedProps.style,A=o!=null&&o.hasOwnProperty("display")?o.display:null,a.style.display=aE("display",A))}catch(b){jr(t,t.return,b)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(b){jr(t,t.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ii(e,t),AA(t),n&4&&UB(t);break;case 21:break;default:Ii(e,t),AA(t)}}function AA(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(U4(r)){var n=r;break e}r=r.return}throw Error(qe(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(dh(s,""),n.flags&=-33);var i=kB(t);Rv(t,i,s);break;case 3:case 4:var A=n.stateNode.containerInfo,a=kB(t);Dv(t,a,A);break;default:throw Error(qe(161))}}catch(o){jr(t,t.return,o)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function JT(t,e,r){it=t,j4(t)}function j4(t,e,r){for(var n=(t.mode&1)!==0;it!==null;){var s=it,i=s.child;if(s.tag===22&&n){var A=s.memoizedState!==null||Zf;if(!A){var a=s.alternate,o=a!==null&&a.memoizedState!==null||qn;a=Zf;var c=qn;if(Zf=A,(qn=o)&&!c)for(it=s;it!==null;)A=it,o=A.child,A.tag===22&&A.memoizedState!==null?jB(s):o!==null?(o.return=A,it=o):jB(s);for(;i!==null;)it=i,j4(i),i=i.sibling;it=s,Zf=a,qn=c}QB(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,it=i):QB(t)}}function QB(t){for(;it!==null;){var e=it;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:qn||Eg(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!qn)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Ti(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&vB(e,i,n);break;case 3:var A=e.updateQueue;if(A!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}vB(e,A,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var o=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&r.focus();break;case"img":o.src&&(r.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&mh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(qe(163))}qn||e.flags&512&&Pv(e)}catch(g){jr(e,e.return,g)}}if(e===t){it=null;break}if(r=e.sibling,r!==null){r.return=e.return,it=r;break}it=e.return}}function LB(t){for(;it!==null;){var e=it;if(e===t){it=null;break}var r=e.sibling;if(r!==null){r.return=e.return,it=r;break}it=e.return}}function jB(t){for(;it!==null;){var e=it;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Eg(4,e)}catch(o){jr(e,r,o)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(o){jr(e,s,o)}}var i=e.return;try{Pv(e)}catch(o){jr(e,i,o)}break;case 5:var A=e.return;try{Pv(e)}catch(o){jr(e,A,o)}}}catch(o){jr(e,e.return,o)}if(e===t){it=null;break}var a=e.sibling;if(a!==null){a.return=e.return,it=a;break}it=e.return}}var XT=Math.ceil,km=da.ReactCurrentDispatcher,Dw=da.ReactCurrentOwner,di=da.ReactCurrentBatchConfig,Gt=0,yn=null,nn=null,Nn=0,Hs=0,Xc=Vo(0),dn=0,Ih=null,Ol=0,_g=0,Rw=0,Xd=null,Bs=null,Ow=0,Cu=1/0,KA=null,Um=!1,Ov=null,xo=null,ep=!1,oo=null,Qm=0,Zd=0,Hv=null,qp=-1,Wp=0;function us(){return Gt&6?zr():qp!==-1?qp:qp=zr()}function Bo(t){return t.mode&1?Gt&2&&Nn!==0?Nn&-Nn:LT.transition!==null?(Wp===0&&(Wp=wE()),Wp):(t=sr,t!==0||(t=window.event,t=t===void 0?16:IE(t.type)),t):1}function ji(t,e,r,n){if(50<Zd)throw Zd=0,Hv=null,Error(qe(185));Wh(t,r,n),(!(Gt&2)||t!==yn)&&(t===yn&&(!(Gt&2)&&(_g|=r),dn===4&&ro(t,Nn)),Is(t,n),r===1&&Gt===0&&!(e.mode&1)&&(Cu=zr()+500,Bg&&Ko()))}function Is(t,e){var r=t.callbackNode;L3(t,e);var n=gm(t,t===yn?Nn:0);if(n===0)r!==null&&zx(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&zx(r),e===1)t.tag===0?QT(PB.bind(null,t)):GE(PB.bind(null,t)),FT(function(){!(Gt&6)&&Ko()}),r=null;else{switch(xE(n)){case 1:r=dw;break;case 4:r=vE;break;case 16:r=mm;break;case 536870912:r=yE;break;default:r=mm}r=K4(r,P4.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function P4(t,e){if(qp=-1,Wp=0,Gt&6)throw Error(qe(327));var r=t.callbackNode;if(au()&&t.callbackNode!==r)return null;var n=gm(t,t===yn?Nn:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Lm(t,n);else{e=n;var s=Gt;Gt|=2;var i=R4();(yn!==t||Nn!==e)&&(KA=null,Cu=zr()+500,Fl(t,e));do try{tk();break}catch(a){D4(t,a)}while(!0);Ew(),km.current=i,Gt=s,nn!==null?e=0:(yn=null,Nn=0,e=dn)}if(e!==0){if(e===2&&(s=fv(t),s!==0&&(n=s,e=Mv(t,s))),e===1)throw r=Ih,Fl(t,0),ro(t,n),Is(t,zr()),r;if(e===6)ro(t,n);else{if(s=t.current.alternate,!(n&30)&&!ZT(s)&&(e=Lm(t,n),e===2&&(i=fv(t),i!==0&&(n=i,e=Mv(t,i))),e===1))throw r=Ih,Fl(t,0),ro(t,n),Is(t,zr()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(qe(345));case 2:yl(t,Bs,KA);break;case 3:if(ro(t,n),(n&130023424)===n&&(e=Ow+500-zr(),10<e)){if(gm(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){us(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Bv(yl.bind(null,t,Bs,KA),e);break}yl(t,Bs,KA);break;case 4:if(ro(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var A=31-Li(n);i=1<<A,A=e[A],A>s&&(s=A),n&=~i}if(n=s,n=zr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*XT(n/1960))-n,10<n){t.timeoutHandle=Bv(yl.bind(null,t,Bs,KA),n);break}yl(t,Bs,KA);break;case 5:yl(t,Bs,KA);break;default:throw Error(qe(329))}}}return Is(t,zr()),t.callbackNode===r?P4.bind(null,t):null}function Mv(t,e){var r=Xd;return t.current.memoizedState.isDehydrated&&(Fl(t,e).flags|=256),t=Lm(t,e),t!==2&&(e=Bs,Bs=r,e!==null&&Vv(e)),t}function Vv(t){Bs===null?Bs=t:Bs.push.apply(Bs,t)}function ZT(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Ri(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ro(t,e){for(e&=~Rw,e&=~_g,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Li(e),n=1<<r;t[r]=-1,e&=~n}}function PB(t){if(Gt&6)throw Error(qe(327));au();var e=gm(t,0);if(!(e&1))return Is(t,zr()),null;var r=Lm(t,e);if(t.tag!==0&&r===2){var n=fv(t);n!==0&&(e=n,r=Mv(t,n))}if(r===1)throw r=Ih,Fl(t,0),ro(t,e),Is(t,zr()),r;if(r===6)throw Error(qe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,yl(t,Bs,KA),Is(t,zr()),null}function Hw(t,e){var r=Gt;Gt|=1;try{return t(e)}finally{Gt=r,Gt===0&&(Cu=zr()+500,Bg&&Ko())}}function Hl(t){oo!==null&&oo.tag===0&&!(Gt&6)&&au();var e=Gt;Gt|=1;var r=di.transition,n=sr;try{if(di.transition=null,sr=1,t)return t()}finally{sr=n,di.transition=r,Gt=e,!(Gt&6)&&Ko()}}function Mw(){Hs=Xc.current,br(Xc)}function Fl(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,NT(r)),nn!==null)for(r=nn.return;r!==null;){var n=r;switch(Bw(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Bm();break;case 3:Bu(),br(Es),br(Xn),Tw();break;case 5:Fw(n);break;case 4:Bu();break;case 13:br(Ir);break;case 19:br(Ir);break;case 10:_w(n.type._context);break;case 22:case 23:Mw()}r=r.return}if(yn=t,nn=t=bo(t.current,null),Nn=Hs=e,dn=0,Ih=null,Rw=_g=Ol=0,Bs=Xd=null,El!==null){for(e=0;e<El.length;e++)if(r=El[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var A=i.next;i.next=s,n.next=A}r.pending=n}El=null}return t}function D4(t,e){do{var r=nn;try{if(Ew(),Kp.current=Tm,Fm){for(var n=Sr.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Fm=!1}if(Rl=0,gn=cn=Sr=null,Yd=!1,Ch=0,Dw.current=null,r===null||r.return===null){dn=1,Ih=e,nn=null;break}e:{var i=t,A=r.return,a=r,o=e;if(e=Nn,a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var c=o,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var g=h.alternate;g?(h.updateQueue=g.updateQueue,h.memoizedState=g.memoizedState,h.lanes=g.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=CB(A);if(m!==null){m.flags&=-257,EB(m,A,a,i,e),m.mode&1&&bB(i,c,e),e=m,o=c;var B=e.updateQueue;if(B===null){var b=new Set;b.add(o),e.updateQueue=b}else B.add(o);break e}else{if(!(e&1)){bB(i,c,e),Vw();break e}o=Error(qe(426))}}else if(_r&&a.mode&1){var F=CB(A);if(F!==null){!(F.flags&65536)&&(F.flags|=256),EB(F,A,a,i,e),bw(bu(o,a));break e}}i=o=bu(o,a),dn!==4&&(dn=2),Xd===null?Xd=[i]:Xd.push(i),i=A;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=x4(i,o,e);gB(i,y);break e;case 1:a=o;var x=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(xo===null||!xo.has(S)))){i.flags|=65536,e&=-e,i.lanes|=e;var D=B4(i,a,e);gB(i,D);break e}}i=i.return}while(i!==null)}H4(r)}catch(V){e=V,nn===r&&r!==null&&(nn=r=r.return);continue}break}while(!0)}function R4(){var t=km.current;return km.current=Tm,t===null?Tm:t}function Vw(){(dn===0||dn===3||dn===2)&&(dn=4),yn===null||!(Ol&268435455)&&!(_g&268435455)||ro(yn,Nn)}function Lm(t,e){var r=Gt;Gt|=2;var n=R4();(yn!==t||Nn!==e)&&(KA=null,Fl(t,e));do try{ek();break}catch(s){D4(t,s)}while(!0);if(Ew(),Gt=r,km.current=n,nn!==null)throw Error(qe(261));return yn=null,Nn=0,dn}function ek(){for(;nn!==null;)O4(nn)}function tk(){for(;nn!==null&&!_3();)O4(nn)}function O4(t){var e=V4(t.alternate,t,Hs);t.memoizedProps=t.pendingProps,e===null?H4(t):nn=e,Dw.current=null}function H4(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=WT(r,e),r!==null){r.flags&=32767,nn=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{dn=6,nn=null;return}}else if(r=qT(r,e,Hs),r!==null){nn=r;return}if(e=e.sibling,e!==null){nn=e;return}nn=e=t}while(e!==null);dn===0&&(dn=5)}function yl(t,e,r){var n=sr,s=di.transition;try{di.transition=null,sr=1,rk(t,e,r,n)}finally{di.transition=s,sr=n}return null}function rk(t,e,r,n){do au();while(oo!==null);if(Gt&6)throw Error(qe(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(qe(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(j3(t,i),t===yn&&(nn=yn=null,Nn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ep||(ep=!0,K4(mm,function(){return au(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=di.transition,di.transition=null;var A=sr;sr=1;var a=Gt;Gt|=4,Dw.current=null,YT(t,r),L4(r,t),BT(wv),vm=!!yv,wv=yv=null,t.current=r,JT(r),I3(),Gt=a,sr=A,di.transition=i}else t.current=r;if(ep&&(ep=!1,oo=t,Qm=s),i=t.pendingLanes,i===0&&(xo=null),F3(r.stateNode),Is(t,zr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Um)throw Um=!1,t=Ov,Ov=null,t;return Qm&1&&t.tag!==0&&au(),i=t.pendingLanes,i&1?t===Hv?Zd++:(Zd=0,Hv=t):Zd=0,Ko(),null}function au(){if(oo!==null){var t=xE(Qm),e=di.transition,r=sr;try{if(di.transition=null,sr=16>t?16:t,oo===null)var n=!1;else{if(t=oo,oo=null,Qm=0,Gt&6)throw Error(qe(331));var s=Gt;for(Gt|=4,it=t.current;it!==null;){var i=it,A=i.child;if(it.flags&16){var a=i.deletions;if(a!==null){for(var o=0;o<a.length;o++){var c=a[o];for(it=c;it!==null;){var h=it;switch(h.tag){case 0:case 11:case 15:Jd(8,h,i)}var f=h.child;if(f!==null)f.return=h,it=f;else for(;it!==null;){h=it;var g=h.sibling,m=h.return;if(k4(h),h===c){it=null;break}if(g!==null){g.return=m,it=g;break}it=m}}}var B=i.alternate;if(B!==null){var b=B.child;if(b!==null){B.child=null;do{var F=b.sibling;b.sibling=null,b=F}while(b!==null)}}it=i}}if(i.subtreeFlags&2064&&A!==null)A.return=i,it=A;else e:for(;it!==null;){if(i=it,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Jd(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,it=y;break e}it=i.return}}var x=t.current;for(it=x;it!==null;){A=it;var S=A.child;if(A.subtreeFlags&2064&&S!==null)S.return=A,it=S;else e:for(A=x;it!==null;){if(a=it,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Eg(9,a)}}catch(V){jr(a,a.return,V)}if(a===A){it=null;break e}var D=a.sibling;if(D!==null){D.return=a.return,it=D;break e}it=a.return}}if(Gt=s,Ko(),dA&&typeof dA.onPostCommitFiberRoot=="function")try{dA.onPostCommitFiberRoot(gg,t)}catch{}n=!0}return n}finally{sr=r,di.transition=e}}return!1}function DB(t,e,r){e=bu(r,e),e=x4(t,e,1),t=wo(t,e,1),e=us(),t!==null&&(Wh(t,1,e),Is(t,e))}function jr(t,e,r){if(t.tag===3)DB(t,t,r);else for(;e!==null;){if(e.tag===3){DB(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(xo===null||!xo.has(n))){t=bu(r,t),t=B4(e,t,1),e=wo(e,t,1),t=us(),e!==null&&(Wh(e,1,t),Is(e,t));break}}e=e.return}}function nk(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=us(),t.pingedLanes|=t.suspendedLanes&r,yn===t&&(Nn&r)===r&&(dn===4||dn===3&&(Nn&130023424)===Nn&&500>zr()-Ow?Fl(t,0):Rw|=r),Is(t,e)}function M4(t,e){e===0&&(t.mode&1?(e=Kf,Kf<<=1,!(Kf&130023424)&&(Kf=4194304)):e=1);var r=us();t=sa(t,e),t!==null&&(Wh(t,e,r),Is(t,r))}function sk(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),M4(t,r)}function ik(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(qe(314))}n!==null&&n.delete(e),M4(t,r)}var V4;V4=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Es.current)Cs=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Cs=!1,GT(t,e,r);Cs=!!(t.flags&131072)}else Cs=!1,_r&&e.flags&1048576&&qE(e,Em,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Gp(t,e),t=e.pendingProps;var s=yu(e,Xn.current);Au(e,r),s=Uw(null,e,n,t,s,r);var i=Qw();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,_s(n)?(i=!0,bm(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Sw(e),s.updater=Cg,e.stateNode=s,s._reactInternals=e,Nv(e,n,t,r),e=kv(null,e,n,!0,i,r)):(e.tag=0,_r&&i&&xw(e),os(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Gp(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=ak(n),t=Ti(n,t),s){case 0:e=Tv(null,e,n,t,r);break e;case 1:e=SB(null,e,n,t,r);break e;case 11:e=_B(null,e,n,t,r);break e;case 14:e=IB(null,e,n,Ti(n.type,t),r);break e}throw Error(qe(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ti(n,s),Tv(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ti(n,s),SB(t,e,n,s,r);case 3:e:{if(_4(e),t===null)throw Error(qe(387));n=e.pendingProps,i=e.memoizedState,s=i.element,ZE(t,e),Sm(e,n,null,r);var A=e.memoizedState;if(n=A.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=bu(Error(qe(423)),e),e=NB(t,e,n,r,s);break e}else if(n!==s){s=bu(Error(qe(424)),e),e=NB(t,e,n,r,s);break e}else for(Vs=yo(e.stateNode.containerInfo.firstChild),Gs=e,_r=!0,Qi=null,r=JE(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(wu(),n===s){e=ia(t,e,r);break e}os(t,e,n,r)}e=e.child}return e;case 5:return e4(e),t===null&&_v(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,A=s.children,xv(n,s)?A=null:i!==null&&xv(n,i)&&(e.flags|=32),E4(t,e),os(t,e,A,r),e.child;case 6:return t===null&&_v(e),null;case 13:return I4(t,e,r);case 4:return Nw(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=xu(e,null,n,r):os(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ti(n,s),_B(t,e,n,s,r);case 7:return os(t,e,e.pendingProps,r),e.child;case 8:return os(t,e,e.pendingProps.children,r),e.child;case 12:return os(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,A=s.value,gr(_m,n._currentValue),n._currentValue=A,i!==null)if(Ri(i.value,A)){if(i.children===s.children&&!Es.current){e=ia(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){A=i.child;for(var o=a.firstContext;o!==null;){if(o.context===n){if(i.tag===1){o=ea(-1,r&-r),o.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?o.next=o:(o.next=h.next,h.next=o),c.pending=o}}i.lanes|=r,o=i.alternate,o!==null&&(o.lanes|=r),Iv(i.return,r,e),a.lanes|=r;break}o=o.next}}else if(i.tag===10)A=i.type===e.type?null:i.child;else if(i.tag===18){if(A=i.return,A===null)throw Error(qe(341));A.lanes|=r,a=A.alternate,a!==null&&(a.lanes|=r),Iv(A,r,e),A=i.sibling}else A=i.child;if(A!==null)A.return=i;else for(A=i;A!==null;){if(A===e){A=null;break}if(i=A.sibling,i!==null){i.return=A.return,A=i;break}A=A.return}i=A}os(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Au(e,r),s=fi(s),n=n(s),e.flags|=1,os(t,e,n,r),e.child;case 14:return n=e.type,s=Ti(n,e.pendingProps),s=Ti(n.type,s),IB(t,e,n,s,r);case 15:return b4(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ti(n,s),Gp(t,e),e.tag=1,_s(n)?(t=!0,bm(e)):t=!1,Au(e,r),w4(e,n,s),Nv(e,n,s,r),kv(null,e,n,!0,t,r);case 19:return S4(t,e,r);case 22:return C4(t,e,r)}throw Error(qe(156,e.tag))};function K4(t,e){return gE(t,e)}function Ak(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function li(t,e,r,n){return new Ak(t,e,r,n)}function Kw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ak(t){if(typeof t=="function")return Kw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===lw)return 11;if(t===cw)return 14}return 2}function bo(t,e){var r=t.alternate;return r===null?(r=li(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function $p(t,e,r,n,s,i){var A=2;if(n=t,typeof t=="function")Kw(t)&&(A=1);else if(typeof t=="string")A=5;else e:switch(t){case Mc:return Tl(r.children,s,i,e);case ow:A=8,s|=8;break;case Z1:return t=li(12,r,e,s|2),t.elementType=Z1,t.lanes=i,t;case ev:return t=li(13,r,e,s),t.elementType=ev,t.lanes=i,t;case tv:return t=li(19,r,e,s),t.elementType=tv,t.lanes=i,t;case eE:return Ig(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case XC:A=10;break e;case ZC:A=9;break e;case lw:A=11;break e;case cw:A=14;break e;case Xa:A=16,n=null;break e}throw Error(qe(130,t==null?t:typeof t,""))}return e=li(A,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function Tl(t,e,r,n){return t=li(7,t,n,e),t.lanes=r,t}function Ig(t,e,r,n){return t=li(22,t,n,e),t.elementType=eE,t.lanes=r,t.stateNode={isHidden:!1},t}function A1(t,e,r){return t=li(6,t,null,e),t.lanes=r,t}function a1(t,e,r){return e=li(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ok(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=H0(0),this.expirationTimes=H0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=H0(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function zw(t,e,r,n,s,i,A,a,o){return t=new ok(t,e,r,a,o),e===1?(e=1,i===!0&&(e|=8)):e=0,i=li(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sw(i),t}function lk(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hc,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function z4(t){if(!t)return Qo;t=t._reactInternals;e:{if($l(t)!==t||t.tag!==1)throw Error(qe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(_s(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(qe(171))}if(t.tag===1){var r=t.type;if(_s(r))return zE(t,r,e)}return e}function G4(t,e,r,n,s,i,A,a,o){return t=zw(r,n,!0,t,s,i,A,a,o),t.context=z4(null),r=t.current,n=us(),s=Bo(r),i=ea(n,s),i.callback=e??null,wo(r,i,s),t.current.lanes=s,Wh(t,s,n),Is(t,n),t}function Sg(t,e,r,n){var s=e.current,i=us(),A=Bo(s);return r=z4(r),e.context===null?e.context=r:e.pendingContext=r,e=ea(i,A),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=wo(s,e,A),t!==null&&(ji(t,s,A,i),Vp(t,s,A)),A}function jm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function RB(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Gw(t,e){RB(t,e),(t=t.alternate)&&RB(t,e)}function ck(){return null}var q4=typeof reportError=="function"?reportError:function(t){console.error(t)};function qw(t){this._internalRoot=t}Ng.prototype.render=qw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(qe(409));Sg(t,e,null,null)};Ng.prototype.unmount=qw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Hl(function(){Sg(null,t,null,null)}),e[na]=null}};function Ng(t){this._internalRoot=t}Ng.prototype.unstable_scheduleHydration=function(t){if(t){var e=CE();t={blockedOn:null,target:t,priority:e};for(var r=0;r<to.length&&e!==0&&e<to[r].priority;r++);to.splice(r,0,t),r===0&&_E(t)}};function Ww(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Fg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function OB(){}function uk(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=jm(A);i.call(c)}}var A=G4(e,n,t,0,null,!1,!1,"",OB);return t._reactRootContainer=A,t[na]=A.current,yh(t.nodeType===8?t.parentNode:t),Hl(),A}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var c=jm(o);a.call(c)}}var o=zw(t,0,!1,null,null,!1,!1,"",OB);return t._reactRootContainer=o,t[na]=o.current,yh(t.nodeType===8?t.parentNode:t),Hl(function(){Sg(e,o,r,n)}),o}function Tg(t,e,r,n,s){var i=r._reactRootContainer;if(i){var A=i;if(typeof s=="function"){var a=s;s=function(){var o=jm(A);a.call(o)}}Sg(e,A,t,s)}else A=uk(r,e,t,s,n);return jm(A)}BE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Fd(e.pendingLanes);r!==0&&(hw(e,r|1),Is(e,zr()),!(Gt&6)&&(Cu=zr()+500,Ko()))}break;case 13:Hl(function(){var n=sa(t,1);if(n!==null){var s=us();ji(n,t,1,s)}}),Gw(t,1)}};fw=function(t){if(t.tag===13){var e=sa(t,134217728);if(e!==null){var r=us();ji(e,t,134217728,r)}Gw(t,134217728)}};bE=function(t){if(t.tag===13){var e=Bo(t),r=sa(t,e);if(r!==null){var n=us();ji(r,t,e,n)}Gw(t,e)}};CE=function(){return sr};EE=function(t,e){var r=sr;try{return sr=t,e()}finally{sr=r}};uv=function(t,e,r){switch(e){case"input":if(sv(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=xg(n);if(!s)throw Error(qe(90));rE(n),sv(n,s)}}}break;case"textarea":sE(t,r);break;case"select":e=r.value,e!=null&&ru(t,!!r.multiple,e,!1)}};uE=Hw;dE=Hl;var dk={usingClientEntryPoint:!1,Events:[Yh,Gc,xg,lE,cE,Hw]},wd={findFiberByHostInstance:Cl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hk={bundleType:wd.bundleType,version:wd.version,rendererPackageName:wd.rendererPackageName,rendererConfig:wd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:da.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=pE(t),t===null?null:t.stateNode},findFiberByHostInstance:wd.findFiberByHostInstance||ck,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tp.isDisabled&&tp.supportsFiber)try{gg=tp.inject(hk),dA=tp}catch{}}Ws.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dk;Ws.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ww(e))throw Error(qe(200));return lk(t,e,null,r)};Ws.createRoot=function(t,e){if(!Ww(t))throw Error(qe(299));var r=!1,n="",s=q4;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=zw(t,1,!1,null,null,r,!1,n,s),t[na]=e.current,yh(t.nodeType===8?t.parentNode:t),new qw(e)};Ws.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(qe(188)):(t=Object.keys(t).join(","),Error(qe(268,t)));return t=pE(e),t=t===null?null:t.stateNode,t};Ws.flushSync=function(t){return Hl(t)};Ws.hydrate=function(t,e,r){if(!Fg(e))throw Error(qe(200));return Tg(null,t,e,!0,r)};Ws.hydrateRoot=function(t,e,r){if(!Ww(t))throw Error(qe(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",A=q4;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(A=r.onRecoverableError)),e=G4(e,null,t,1,r??null,s,!1,i,A),t[na]=e.current,yh(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Ng(e)};Ws.render=function(t,e,r){if(!Fg(e))throw Error(qe(200));return Tg(null,t,e,!1,r)};Ws.unmountComponentAtNode=function(t){if(!Fg(t))throw Error(qe(40));return t._reactRootContainer?(Hl(function(){Tg(null,null,t,!1,function(){t._reactRootContainer=null,t[na]=null})}),!0):!1};Ws.unstable_batchedUpdates=Hw;Ws.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Fg(r))throw Error(qe(200));if(t==null||t._reactInternals===void 0)throw Error(qe(38));return Tg(t,e,r,!1,n)};Ws.version="18.3.1-next-f1338f8080-20240426";function W4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(W4)}catch(t){console.error(t)}}W4(),WC.exports=Ws;var fk=WC.exports,$4,HB=fk;$4=HB.createRoot,HB.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sh(){return Sh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sh.apply(this,arguments)}var lo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(lo||(lo={}));const MB="popstate";function pk(t){t===void 0&&(t={});function e(n,s){let{pathname:i,search:A,hash:a}=n.location;return Kv("",{pathname:i,search:A,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Pm(s)}return gk(e,r,null,t)}function Pr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Y4(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mk(){return Math.random().toString(36).substr(2,8)}function VB(t,e){return{usr:t.state,key:t.key,idx:e}}function Kv(t,e,r,n){return r===void 0&&(r=null),Sh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ou(e):e,{state:r,key:e&&e.key||n||mk()})}function Pm(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ou(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function gk(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,A=s.history,a=lo.Pop,o=null,c=h();c==null&&(c=0,A.replaceState(Sh({},A.state,{idx:c}),""));function h(){return(A.state||{idx:null}).idx}function f(){a=lo.Pop;let F=h(),y=F==null?null:F-c;c=F,o&&o({action:a,location:b.location,delta:y})}function g(F,y){a=lo.Push;let x=Kv(b.location,F,y);c=h()+1;let S=VB(x,c),D=b.createHref(x);try{A.pushState(S,"",D)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;s.location.assign(D)}i&&o&&o({action:a,location:b.location,delta:1})}function m(F,y){a=lo.Replace;let x=Kv(b.location,F,y);c=h();let S=VB(x,c),D=b.createHref(x);A.replaceState(S,"",D),i&&o&&o({action:a,location:b.location,delta:0})}function B(F){let y=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof F=="string"?F:Pm(F);return x=x.replace(/ $/,"%20"),Pr(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let b={get action(){return a},get location(){return t(s,A)},listen(F){if(o)throw new Error("A history only accepts one active listener");return s.addEventListener(MB,f),o=F,()=>{s.removeEventListener(MB,f),o=null}},createHref(F){return e(s,F)},createURL:B,encodeLocation(F){let y=B(F);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:g,replace:m,go(F){return A.go(F)}};return b}var KB;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(KB||(KB={}));function vk(t,e,r){return r===void 0&&(r="/"),yk(t,e,r,!1)}function yk(t,e,r,n){let s=typeof e=="string"?Ou(e):e,i=Eu(s.pathname||"/",r);if(i==null)return null;let A=J4(t);wk(A);let a=null;for(let o=0;a==null&&o<A.length;++o){let c=Tk(i);a=Nk(A[o],c,n)}return a}function J4(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,A,a)=>{let o={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:A,route:i};o.relativePath.startsWith("/")&&(Pr(o.relativePath.startsWith(n),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(n.length));let c=Co([n,o.relativePath]),h=r.concat(o);i.children&&i.children.length>0&&(Pr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),J4(i.children,e,h,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:Ik(c,i.index),routesMeta:h})};return t.forEach((i,A)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,A);else for(let o of X4(i.path))s(i,A,o)}),e}function X4(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let A=X4(n.join("/")),a=[];return a.push(...A.map(o=>o===""?i:[i,o].join("/"))),s&&a.push(...A),a.map(o=>t.startsWith("/")&&o===""?"/":o)}function wk(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Sk(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const xk=/^:[\w-]+$/,Bk=3,bk=2,Ck=1,Ek=10,_k=-2,zB=t=>t==="*";function Ik(t,e){let r=t.split("/"),n=r.length;return r.some(zB)&&(n+=_k),e&&(n+=bk),r.filter(s=>!zB(s)).reduce((s,i)=>s+(xk.test(i)?Bk:i===""?Ck:Ek),n)}function Sk(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function Nk(t,e,r){let{routesMeta:n}=t,s={},i="/",A=[];for(let a=0;a<n.length;++a){let o=n[a],c=a===n.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=Dm({path:o.relativePath,caseSensitive:o.caseSensitive,end:c},h),g=o.route;if(!f&&c&&r&&!n[n.length-1].route.index&&(f=Dm({path:o.relativePath,caseSensitive:o.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),A.push({params:s,pathname:Co([i,f.pathname]),pathnameBase:Lk(Co([i,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(i=Co([i,f.pathnameBase]))}return A}function Dm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Fk(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],A=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((c,h,f)=>{let{paramName:g,isOptional:m}=h;if(g==="*"){let b=a[f]||"";A=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const B=a[f];return m&&!B?c[g]=void 0:c[g]=(B||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:A,pattern:t}}function Fk(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Y4(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(A,a,o)=>(n.push({paramName:a,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function Tk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Y4(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Eu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function kk(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?Ou(t):t;return{pathname:r?r.startsWith("/")?r:Uk(r,e):e,search:jk(n),hash:Pk(s)}}function Uk(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function o1(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Qk(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Z4(t,e){let r=Qk(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function e_(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=Ou(t):(s=Sh({},t),Pr(!s.pathname||!s.pathname.includes("?"),o1("?","pathname","search",s)),Pr(!s.pathname||!s.pathname.includes("#"),o1("#","pathname","hash",s)),Pr(!s.search||!s.search.includes("#"),o1("#","search","hash",s)));let i=t===""||s.pathname==="",A=i?"/":s.pathname,a;if(A==null)a=r;else{let f=e.length-1;if(!n&&A.startsWith("..")){let g=A.split("/");for(;g[0]==="..";)g.shift(),f-=1;s.pathname=g.join("/")}a=f>=0?e[f]:"/"}let o=kk(s,a),c=A&&A!=="/"&&A.endsWith("/"),h=(i||A===".")&&r.endsWith("/");return!o.pathname.endsWith("/")&&(c||h)&&(o.pathname+="/"),o}const Co=t=>t.join("/").replace(/\/\/+/g,"/"),Lk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),jk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Pk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Dk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const t_=["post","put","patch","delete"];new Set(t_);const Rk=["get",...t_];new Set(Rk);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nh(){return Nh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nh.apply(this,arguments)}const kg=ue.createContext(null),r_=ue.createContext(null),zo=ue.createContext(null),Ug=ue.createContext(null),Go=ue.createContext({outlet:null,matches:[],isDataRoute:!1}),n_=ue.createContext(null);function Ok(t,e){let{relative:r}=e===void 0?{}:e;Xh()||Pr(!1);let{basename:n,navigator:s}=ue.useContext(zo),{hash:i,pathname:A,search:a}=Qg(t,{relative:r}),o=A;return n!=="/"&&(o=A==="/"?n:Co([n,A])),s.createHref({pathname:o,search:a,hash:i})}function Xh(){return ue.useContext(Ug)!=null}function qo(){return Xh()||Pr(!1),ue.useContext(Ug).location}function s_(t){ue.useContext(zo).static||ue.useLayoutEffect(t)}function Yl(){let{isDataRoute:t}=ue.useContext(Go);return t?tU():Hk()}function Hk(){Xh()||Pr(!1);let t=ue.useContext(kg),{basename:e,future:r,navigator:n}=ue.useContext(zo),{matches:s}=ue.useContext(Go),{pathname:i}=qo(),A=JSON.stringify(Z4(s,r.v7_relativeSplatPath)),a=ue.useRef(!1);return s_(()=>{a.current=!0}),ue.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){n.go(c);return}let f=e_(c,JSON.parse(A),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Co([e,f.pathname])),(h.replace?n.replace:n.push)(f,h.state,h)},[e,n,A,i,t])}const Mk=ue.createContext(null);function Vk(t){let e=ue.useContext(Go).outlet;return e&&ue.createElement(Mk.Provider,{value:t},e)}function Qg(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=ue.useContext(zo),{matches:s}=ue.useContext(Go),{pathname:i}=qo(),A=JSON.stringify(Z4(s,n.v7_relativeSplatPath));return ue.useMemo(()=>e_(t,JSON.parse(A),i,r==="path"),[t,A,i,r])}function Kk(t,e){return zk(t,e)}function zk(t,e,r,n){Xh()||Pr(!1);let{navigator:s}=ue.useContext(zo),{matches:i}=ue.useContext(Go),A=i[i.length-1],a=A?A.params:{};A&&A.pathname;let o=A?A.pathnameBase:"/";A&&A.route;let c=qo(),h;if(e){var f;let F=typeof e=="string"?Ou(e):e;o==="/"||(f=F.pathname)!=null&&f.startsWith(o)||Pr(!1),h=F}else h=c;let g=h.pathname||"/",m=g;if(o!=="/"){let F=o.replace(/^\//,"").split("/");m="/"+g.replace(/^\//,"").split("/").slice(F.length).join("/")}let B=vk(t,{pathname:m}),b=Yk(B&&B.map(F=>Object.assign({},F,{params:Object.assign({},a,F.params),pathname:Co([o,s.encodeLocation?s.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?o:Co([o,s.encodeLocation?s.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),i,r,n);return e&&b?ue.createElement(Ug.Provider,{value:{location:Nh({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:lo.Pop}},b):b}function Gk(){let t=eU(),e=Dk(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ue.createElement(ue.Fragment,null,ue.createElement("h2",null,"Unexpected Application Error!"),ue.createElement("h3",{style:{fontStyle:"italic"}},e),r?ue.createElement("pre",{style:s},r):null,null)}const qk=ue.createElement(Gk,null);class Wk extends ue.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?ue.createElement(Go.Provider,{value:this.props.routeContext},ue.createElement(n_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $k(t){let{routeContext:e,match:r,children:n}=t,s=ue.useContext(kg);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),ue.createElement(Go.Provider,{value:e},n)}function Yk(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let A=t,a=(s=r)==null?void 0:s.errors;if(a!=null){let h=A.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||Pr(!1),A=A.slice(0,Math.min(A.length,h+1))}let o=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let h=0;h<A.length;h++){let f=A[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:g,errors:m}=r,B=f.route.loader&&g[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||B){o=!0,c>=0?A=A.slice(0,c+1):A=[A[0]];break}}}return A.reduceRight((h,f,g)=>{let m,B=!1,b=null,F=null;r&&(m=a&&f.route.id?a[f.route.id]:void 0,b=f.route.errorElement||qk,o&&(c<0&&g===0?(B=!0,F=null):c===g&&(B=!0,F=f.route.hydrateFallbackElement||null)));let y=e.concat(A.slice(0,g+1)),x=()=>{let S;return m?S=b:B?S=F:f.route.Component?S=ue.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=h,ue.createElement($k,{match:f,routeContext:{outlet:h,matches:y,isDataRoute:r!=null},children:S})};return r&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?ue.createElement(Wk,{location:r.location,revalidation:r.revalidation,component:b,error:m,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var i_=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(i_||{}),Rm=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Rm||{});function Jk(t){let e=ue.useContext(kg);return e||Pr(!1),e}function Xk(t){let e=ue.useContext(r_);return e||Pr(!1),e}function Zk(t){let e=ue.useContext(Go);return e||Pr(!1),e}function A_(t){let e=Zk(),r=e.matches[e.matches.length-1];return r.route.id||Pr(!1),r.route.id}function eU(){var t;let e=ue.useContext(n_),r=Xk(Rm.UseRouteError),n=A_(Rm.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function tU(){let{router:t}=Jk(i_.UseNavigateStable),e=A_(Rm.UseNavigateStable),r=ue.useRef(!1);return s_(()=>{r.current=!0}),ue.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Nh({fromRouteId:e},i)))},[t,e])}function rU(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function nU(t){return Vk(t.context)}function Rs(t){Pr(!1)}function sU(t){let{basename:e="/",children:r=null,location:n,navigationType:s=lo.Pop,navigator:i,static:A=!1,future:a}=t;Xh()&&Pr(!1);let o=e.replace(/^\/*/,"/"),c=ue.useMemo(()=>({basename:o,navigator:i,static:A,future:Nh({v7_relativeSplatPath:!1},a)}),[o,a,i,A]);typeof n=="string"&&(n=Ou(n));let{pathname:h="/",search:f="",hash:g="",state:m=null,key:B="default"}=n,b=ue.useMemo(()=>{let F=Eu(h,o);return F==null?null:{location:{pathname:F,search:f,hash:g,state:m,key:B},navigationType:s}},[o,h,f,g,m,B,s]);return b==null?null:ue.createElement(zo.Provider,{value:c},ue.createElement(Ug.Provider,{children:r,value:b}))}function iU(t){let{children:e,location:r}=t;return Kk(zv(e),r)}new Promise(()=>{});function zv(t,e){e===void 0&&(e=[]);let r=[];return ue.Children.forEach(t,(n,s)=>{if(!ue.isValidElement(n))return;let i=[...e,s];if(n.type===ue.Fragment){r.push.apply(r,zv(n.props.children,i));return}n.type!==Rs&&Pr(!1),!n.props.index||!n.props.children||Pr(!1);let A={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(A.children=zv(n.props.children,i)),r.push(A)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Om(){return Om=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Om.apply(this,arguments)}function a_(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function AU(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function aU(t,e){return t.button===0&&(!e||e==="_self")&&!AU(t)}const oU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],lU=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],cU="6";try{window.__reactRouterVersion=cU}catch{}const uU=ue.createContext({isTransitioning:!1}),dU="startTransition",GB=n3[dU];function hU(t){let{basename:e,children:r,future:n,window:s}=t,i=ue.useRef();i.current==null&&(i.current=pk({window:s,v5Compat:!0}));let A=i.current,[a,o]=ue.useState({action:A.action,location:A.location}),{v7_startTransition:c}=n||{},h=ue.useCallback(f=>{c&&GB?GB(()=>o(f)):o(f)},[o,c]);return ue.useLayoutEffect(()=>A.listen(h),[A,h]),ue.useEffect(()=>rU(n),[n]),ue.createElement(sU,{basename:e,children:r,location:a.location,navigationType:a.action,navigator:A,future:n})}const fU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mU=ue.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:A,state:a,target:o,to:c,preventScrollReset:h,viewTransition:f}=e,g=a_(e,oU),{basename:m}=ue.useContext(zo),B,b=!1;if(typeof c=="string"&&pU.test(c)&&(B=c,fU))try{let S=new URL(window.location.href),D=c.startsWith("//")?new URL(S.protocol+c):new URL(c),V=Eu(D.pathname,m);D.origin===S.origin&&V!=null?c=V+D.search+D.hash:b=!0}catch{}let F=Ok(c,{relative:s}),y=yU(c,{replace:A,state:a,target:o,preventScrollReset:h,relative:s,viewTransition:f});function x(S){n&&n(S),S.defaultPrevented||y(S)}return ue.createElement("a",Om({},g,{href:B||F,onClick:b||i?n:x,ref:r,target:o}))}),gU=ue.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:A=!1,style:a,to:o,viewTransition:c,children:h}=e,f=a_(e,lU),g=Qg(o,{relative:f.relative}),m=qo(),B=ue.useContext(r_),{navigator:b,basename:F}=ue.useContext(zo),y=B!=null&&wU(g)&&c===!0,x=b.encodeLocation?b.encodeLocation(g).pathname:g.pathname,S=m.pathname,D=B&&B.navigation&&B.navigation.location?B.navigation.location.pathname:null;s||(S=S.toLowerCase(),D=D?D.toLowerCase():null,x=x.toLowerCase()),D&&F&&(D=Eu(D,F)||D);const V=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let G=S===x||!A&&S.startsWith(x)&&S.charAt(V)==="/",Q=D!=null&&(D===x||!A&&D.startsWith(x)&&D.charAt(x.length)==="/"),_={isActive:G,isPending:Q,isTransitioning:y},k=G?n:void 0,N;typeof i=="function"?N=i(_):N=[i,G?"active":null,Q?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let E=typeof a=="function"?a(_):a;return ue.createElement(mU,Om({},f,{"aria-current":k,className:N,ref:r,style:E,to:o,viewTransition:c}),typeof h=="function"?h(_):h)});var Gv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Gv||(Gv={}));var qB;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(qB||(qB={}));function vU(t){let e=ue.useContext(kg);return e||Pr(!1),e}function yU(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:A,viewTransition:a}=e===void 0?{}:e,o=Yl(),c=qo(),h=Qg(t,{relative:A});return ue.useCallback(f=>{if(aU(f,r)){f.preventDefault();let g=n!==void 0?n:Pm(c)===Pm(h);o(t,{replace:g,state:s,preventScrollReset:i,relative:A,viewTransition:a})}},[c,o,h,n,s,r,t,i,A,a])}function wU(t,e){e===void 0&&(e={});let r=ue.useContext(uU);r==null&&Pr(!1);let{basename:n}=vU(Gv.useViewTransitionState),s=Qg(t,{relative:e.relative});if(!r.isTransitioning)return!1;let i=Eu(r.currentLocation.pathname,n)||r.currentLocation.pathname,A=Eu(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Dm(s.pathname,A)!=null||Dm(s.pathname,i)!=null}var WB={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);s<128?e[r++]=s:s<2048?(e[r++]=s>>6|192,e[r++]=s&63|128):(s&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=s>>18|240,e[r++]=s>>12&63|128,e[r++]=s>>6&63|128,e[r++]=s&63|128):(e[r++]=s>>12|224,e[r++]=s>>6&63|128,e[r++]=s&63|128)}return e},xU=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const s=t[r++];if(s<128)e[n++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[r++];e[n++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[r++],A=t[r++],a=t[r++],o=((s&7)<<18|(i&63)<<12|(A&63)<<6|a&63)-65536;e[n++]=String.fromCharCode(55296+(o>>10)),e[n++]=String.fromCharCode(56320+(o&1023))}else{const i=t[r++],A=t[r++];e[n++]=String.fromCharCode((s&15)<<12|(i&63)<<6|A&63)}}return e.join("")},l_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<t.length;s+=3){const i=t[s],A=s+1<t.length,a=A?t[s+1]:0,o=s+2<t.length,c=o?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let g=(a&15)<<2|c>>6,m=c&63;o||(m=64,A||(g=64)),n.push(r[h],r[f],r[g],r[m])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(o_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):xU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<t.length;){const i=r[t.charAt(s++)],a=s<t.length?r[t.charAt(s)]:0;++s;const c=s<t.length?r[t.charAt(s)]:64;++s;const f=s<t.length?r[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||f==null)throw new BU;const g=i<<2|a>>4;if(n.push(g),c!==64){const m=a<<4&240|c>>2;if(n.push(m),f!==64){const B=c<<6&192|f;n.push(B)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class BU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bU=function(t){const e=o_(t);return l_.encodeByteArray(e,!0)},Hm=function(t){return bU(t).replace(/\./g,"")},c_=function(t){try{return l_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EU=()=>CU().__FIREBASE_DEFAULTS__,_U=()=>{if(typeof process>"u"||typeof WB>"u")return;const t=WB.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},IU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&c_(t[1]);return e&&JSON.parse(e)},Lg=()=>{try{return EU()||_U()||IU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},u_=t=>{var e,r;return(r=(e=Lg())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},SU=t=>{const e=u_(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},d_=()=>{var t;return(t=Lg())===null||t===void 0?void 0:t.config},h_=t=>{var e;return(e=Lg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FU(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const A=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Hm(JSON.stringify(r)),Hm(JSON.stringify(A)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zn())}function kU(){var t;const e=(t=Lg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UU(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QU(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function LU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jU(){const t=Zn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function PU(){return!kU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function DU(){try{return typeof indexedDB=="object"}catch{return!1}}function RU(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},s.onupgradeneeded=()=>{r=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OU="FirebaseError";class ha extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=OU,Object.setPrototypeOf(this,ha.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zh.prototype.create)}}class Zh{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},s=`${this.service}/${e}`,i=this.errors[e],A=i?HU(i,n):"Error",a=`${this.serviceName}: ${A} (${s}).`;return new ha(s,a,n)}}function HU(t,e){return t.replace(MU,(r,n)=>{const s=e[n];return s!=null?String(s):`<${n}?>`})}const MU=/\{\$([^}]+)}/g;function VU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Mm(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const s of r){if(!n.includes(s))return!1;const i=t[s],A=e[s];if($B(i)&&$B(A)){if(!Mm(i,A))return!1}else if(i!==A)return!1}for(const s of n)if(!r.includes(s))return!1;return!0}function $B(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(s=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function kd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[s,i]=n.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Ud(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function KU(t,e){const r=new zU(t,e);return r.subscribe.bind(r)}class zU{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let s;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");GU(e,["next","error","complete"])?s=e:s={next:e,error:r,complete:n},s.next===void 0&&(s.next=l1),s.error===void 0&&(s.error=l1),s.complete===void 0&&(s.complete=l1);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GU(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function l1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(t){return t&&t._delegate?t._delegate:t}class Ml{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new NU;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:r});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($U(e))try{this.getOrInitializeService({instanceIdentifier:wl})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:s});n.resolve(i)}catch{}}}}clearInstance(e=wl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wl){return this.instances.has(e)}getOptions(e=wl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,A]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);n===a&&A.resolve(s)}return s}onInit(e,r){var n;const s=this.normalizeInstanceIdentifier(r),i=(n=this.onInitCallbacks.get(s))!==null&&n!==void 0?n:new Set;i.add(e),this.onInitCallbacks.set(s,i);const A=this.instances.get(s);return A&&e(A,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const s of n)try{s(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:WU(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=wl){return this.component?this.component.multipleInstances?e:wl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WU(t){return t===wl?void 0:t}function $U(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new qU(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Mt||(Mt={}));const JU={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},XU=Mt.INFO,ZU={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},eQ=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),s=ZU[e];if(s)console[s](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let $w=class{constructor(e){this.name=e,this._logLevel=XU,this._logHandler=eQ,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?JU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...e),this._logHandler(this,Mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...e),this._logHandler(this,Mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...e),this._logHandler(this,Mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...e),this._logHandler(this,Mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...e),this._logHandler(this,Mt.ERROR,...e)}};const tQ=(t,e)=>e.some(r=>t instanceof r);let YB,JB;function rQ(){return YB||(YB=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nQ(){return JB||(JB=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const f_=new WeakMap,qv=new WeakMap,p_=new WeakMap,c1=new WeakMap,Yw=new WeakMap;function sQ(t){const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",A)},i=()=>{r(Eo(t.result)),s()},A=()=>{n(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",A)});return e.then(r=>{r instanceof IDBCursor&&f_.set(r,t)}).catch(()=>{}),Yw.set(e,t),e}function iQ(t){if(qv.has(t))return;const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",A),t.removeEventListener("abort",A)},i=()=>{r(),s()},A=()=>{n(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",A),t.addEventListener("abort",A)});qv.set(t,e)}let Wv={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return qv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||p_.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Eo(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function AQ(t){Wv=t(Wv)}function aQ(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(u1(this),e,...r);return p_.set(n,e.sort?e.sort():[e]),Eo(n)}:nQ().includes(t)?function(...e){return t.apply(u1(this),e),Eo(f_.get(this))}:function(...e){return Eo(t.apply(u1(this),e))}}function oQ(t){return typeof t=="function"?aQ(t):(t instanceof IDBTransaction&&iQ(t),tQ(t,rQ())?new Proxy(t,Wv):t)}function Eo(t){if(t instanceof IDBRequest)return sQ(t);if(c1.has(t))return c1.get(t);const e=oQ(t);return e!==t&&(c1.set(t,e),Yw.set(e,t)),e}const u1=t=>Yw.get(t);function lQ(t,e,{blocked:r,upgrade:n,blocking:s,terminated:i}={}){const A=indexedDB.open(t,e),a=Eo(A);return n&&A.addEventListener("upgradeneeded",o=>{n(Eo(A.result),o.oldVersion,o.newVersion,Eo(A.transaction),o)}),r&&A.addEventListener("blocked",o=>r(o.oldVersion,o.newVersion,o)),a.then(o=>{i&&o.addEventListener("close",()=>i()),s&&o.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const cQ=["get","getKey","getAll","getAllKeys","count"],uQ=["put","add","delete","clear"],d1=new Map;function XB(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(d1.get(e))return d1.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,s=uQ.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(s||cQ.includes(r)))return;const i=async function(A,...a){const o=this.transaction(A,s?"readwrite":"readonly");let c=o.store;return n&&(c=c.index(a.shift())),(await Promise.all([c[r](...a),s&&o.done]))[0]};return d1.set(e,i),i}AQ(t=>({...t,get:(e,r,n)=>XB(e,r)||t.get(e,r,n),has:(e,r)=>!!XB(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dQ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(hQ(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function hQ(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $v="@firebase/app",ZB="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa=new $w("@firebase/app"),fQ="@firebase/app-compat",pQ="@firebase/analytics-compat",mQ="@firebase/analytics",gQ="@firebase/app-check-compat",vQ="@firebase/app-check",yQ="@firebase/auth",wQ="@firebase/auth-compat",xQ="@firebase/database",BQ="@firebase/data-connect",bQ="@firebase/database-compat",CQ="@firebase/functions",EQ="@firebase/functions-compat",_Q="@firebase/installations",IQ="@firebase/installations-compat",SQ="@firebase/messaging",NQ="@firebase/messaging-compat",FQ="@firebase/performance",TQ="@firebase/performance-compat",kQ="@firebase/remote-config",UQ="@firebase/remote-config-compat",QQ="@firebase/storage",LQ="@firebase/storage-compat",jQ="@firebase/firestore",PQ="@firebase/vertexai-preview",DQ="@firebase/firestore-compat",RQ="firebase",OQ="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv="[DEFAULT]",HQ={[$v]:"fire-core",[fQ]:"fire-core-compat",[mQ]:"fire-analytics",[pQ]:"fire-analytics-compat",[vQ]:"fire-app-check",[gQ]:"fire-app-check-compat",[yQ]:"fire-auth",[wQ]:"fire-auth-compat",[xQ]:"fire-rtdb",[BQ]:"fire-data-connect",[bQ]:"fire-rtdb-compat",[CQ]:"fire-fn",[EQ]:"fire-fn-compat",[_Q]:"fire-iid",[IQ]:"fire-iid-compat",[SQ]:"fire-fcm",[NQ]:"fire-fcm-compat",[FQ]:"fire-perf",[TQ]:"fire-perf-compat",[kQ]:"fire-rc",[UQ]:"fire-rc-compat",[QQ]:"fire-gcs",[LQ]:"fire-gcs-compat",[jQ]:"fire-fst",[DQ]:"fire-fst-compat",[PQ]:"fire-vertex","fire-js":"fire-js",[RQ]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm=new Map,MQ=new Map,Jv=new Map;function eb(t,e){try{t.container.addComponent(e)}catch(r){Aa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function _u(t){const e=t.name;if(Jv.has(e))return Aa.debug(`There were multiple attempts to register component ${e}.`),!1;Jv.set(e,t);for(const r of Vm.values())eb(r,t);for(const r of MQ.values())eb(r,t);return!0}function Jw(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function $A(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VQ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_o=new Zh("app","Firebase",VQ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KQ{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ml("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _o.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hu=OQ;function m_(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Yv,automaticDataCollectionEnabled:!1},e),s=n.name;if(typeof s!="string"||!s)throw _o.create("bad-app-name",{appName:String(s)});if(r||(r=d_()),!r)throw _o.create("no-options");const i=Vm.get(s);if(i){if(Mm(r,i.options)&&Mm(n,i.config))return i;throw _o.create("duplicate-app",{appName:s})}const A=new YU(s);for(const o of Jv.values())A.addComponent(o);const a=new KQ(r,n,A);return Vm.set(s,a),a}function g_(t=Yv){const e=Vm.get(t);if(!e&&t===Yv&&d_())return m_();if(!e)throw _o.create("no-app",{appName:t});return e}function Io(t,e,r){var n;let s=(n=HQ[t])!==null&&n!==void 0?n:t;r&&(s+=`-${r}`);const i=s.match(/\s|\//),A=e.match(/\s|\//);if(i||A){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&A&&a.push("and"),A&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Aa.warn(a.join(" "));return}_u(new Ml(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zQ="firebase-heartbeat-database",GQ=1,Fh="firebase-heartbeat-store";let h1=null;function v_(){return h1||(h1=lQ(zQ,GQ,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Fh)}catch(r){console.warn(r)}}}}).catch(t=>{throw _o.create("idb-open",{originalErrorMessage:t.message})})),h1}async function qQ(t){try{const r=(await v_()).transaction(Fh),n=await r.objectStore(Fh).get(y_(t));return await r.done,n}catch(e){if(e instanceof ha)Aa.warn(e.message);else{const r=_o.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Aa.warn(r.message)}}}async function tb(t,e){try{const n=(await v_()).transaction(Fh,"readwrite");await n.objectStore(Fh).put(e,y_(t)),await n.done}catch(r){if(r instanceof ha)Aa.warn(r.message);else{const n=_o.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Aa.warn(n.message)}}}function y_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WQ=1024,$Q=30*24*60*60*1e3;class YQ{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new XQ(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=rb();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(A=>A.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(A=>{const a=new Date(A.date).valueOf();return Date.now()-a<=$Q}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Aa.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=rb(),{heartbeatsToSend:n,unsentEntries:s}=JQ(this._heartbeatsCache.heartbeats),i=Hm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(r){return Aa.warn(r),""}}}function rb(){return new Date().toISOString().substring(0,10)}function JQ(t,e=WQ){const r=[];let n=t.slice();for(const s of t){const i=r.find(A=>A.agent===s.agent);if(i){if(i.dates.push(s.date),nb(r)>e){i.dates.pop();break}}else if(r.push({agent:s.agent,dates:[s.date]}),nb(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class XQ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return DU()?RU().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await qQ(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return tb(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return tb(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function nb(t){return Hm(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZQ(t){_u(new Ml("platform-logger",e=>new dQ(e),"PRIVATE")),_u(new Ml("heartbeat",e=>new YQ(e),"PRIVATE")),Io($v,ZB,t),Io($v,ZB,"esm2017"),Io("fire-js","")}ZQ("");function Xw(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function w_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const eL=w_,x_=new Zh("auth","Firebase",w_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km=new $w("@firebase/auth");function tL(t,...e){Km.logLevel<=Mt.WARN&&Km.warn(`Auth (${Hu}): ${t}`,...e)}function Yp(t,...e){Km.logLevel<=Mt.ERROR&&Km.error(`Auth (${Hu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(t,...e){throw Zw(t,...e)}function fA(t,...e){return Zw(t,...e)}function B_(t,e,r){const n=Object.assign(Object.assign({},eL()),{[e]:r});return new Zh("auth","Firebase",n).create(e,{appName:t.name})}function So(t){return B_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Zw(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return x_.create(t,...e)}function vt(t,e,...r){if(!t)throw Zw(e,...r)}function YA(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Yp(e),new Error(e)}function aa(t,e){t||YA(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function rL(){return sb()==="http:"||sb()==="https:"}function sb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rL()||QU()||"connection"in navigator)?navigator.onLine:!0}function sL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,r){this.shortDelay=e,this.longDelay=r,aa(r>e,"Short delay should be less than long delay!"),this.isMobile=TU()||LU()}get(){return nL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(t,e){aa(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;YA("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;YA("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;YA("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL=new tf(3e4,6e4);function Jl(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Wo(t,e,r,n,s={}){return C_(t,s,async()=>{let i={},A={};n&&(e==="GET"?A=n:i={body:JSON.stringify(n)});const a=ef(Object.assign({key:t.config.apiKey},A)).slice(1),o=await t._getAdditionalHeaders();o["Content-Type"]="application/json",t.languageCode&&(o["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:o},i);return UU()||(c.referrerPolicy="no-referrer"),b_.fetch()(E_(t,t.config.apiHost,r,a),c)})}async function C_(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},iL),e);try{const s=new oL(t),i=await Promise.race([r(),s.promise]);s.clearNetworkTimeout();const A=await i.json();if("needConfirmation"in A)throw rp(t,"account-exists-with-different-credential",A);if(i.ok&&!("errorMessage"in A))return A;{const a=i.ok?A.errorMessage:A.error.message,[o,c]=a.split(" : ");if(o==="FEDERATED_USER_ID_ALREADY_LINKED")throw rp(t,"credential-already-in-use",A);if(o==="EMAIL_EXISTS")throw rp(t,"email-already-in-use",A);if(o==="USER_DISABLED")throw rp(t,"user-disabled",A);const h=n[o]||o.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw B_(t,h,c);Oi(t,h)}}catch(s){if(s instanceof ha)throw s;Oi(t,"network-request-failed",{message:String(s)})}}async function jg(t,e,r,n,s={}){const i=await Wo(t,e,r,n,s);return"mfaPendingCredential"in i&&Oi(t,"multi-factor-auth-required",{_serverResponse:i}),i}function E_(t,e,r,n){const s=`${e}${r}?${n}`;return t.config.emulator?e2(t.config,s):`${t.config.apiScheme}://${s}`}function aL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class oL{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(fA(this.auth,"network-request-failed")),AL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function rp(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const s=fA(t,e,n);return s.customData._tokenResponse=r,s}function ib(t){return t!==void 0&&t.enterprise!==void 0}class lL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return aL(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function cL(t,e){return Wo(t,"GET","/v2/recaptchaConfig",Jl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uL(t,e){return Wo(t,"POST","/v1/accounts:delete",e)}async function __(t,e){return Wo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function dL(t,e=!1){const r=an(t),n=await r.getIdToken(e),s=t2(n);vt(s&&s.exp&&s.auth_time&&s.iat,r.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,A=i==null?void 0:i.sign_in_provider;return{claims:s,token:n,authTime:eh(f1(s.auth_time)),issuedAtTime:eh(f1(s.iat)),expirationTime:eh(f1(s.exp)),signInProvider:A||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function f1(t){return Number(t)*1e3}function t2(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Yp("JWT malformed, contained fewer than 3 sections"),null;try{const s=c_(r);return s?JSON.parse(s):(Yp("Failed to decode base64 JWT payload"),null)}catch(s){return Yp("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Ab(t){const e=t2(t);return vt(e,"internal-error"),vt(typeof e.exp<"u","internal-error"),vt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Th(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof ha&&hL(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function hL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=eh(this.lastLoginAt),this.creationTime=eh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zm(t){var e;const r=t.auth,n=await t.getIdToken(),s=await Th(t,__(r,{idToken:n}));vt(s==null?void 0:s.users.length,r,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const A=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?I_(i.providerUserInfo):[],a=mL(t.providerData,A),o=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),h=o?c:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Zv(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function pL(t){const e=an(t);await zm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mL(t,e){return[...t.filter(n=>!e.some(s=>s.providerId===n.providerId)),...e]}function I_(t){return t.map(e=>{var{providerId:r}=e,n=Xw(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gL(t,e){const r=await C_(t,{},async()=>{const n=ef({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,A=E_(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",b_.fetch()(A,{method:"POST",headers:a,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function vL(t,e){return Wo(t,"POST","/v2/accounts:revokeToken",Jl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){vt(e.idToken,"internal-error"),vt(typeof e.idToken<"u","internal-error"),vt(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ab(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){vt(e.length!==0,"internal-error");const r=Ab(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:s,expiresIn:i}=await gL(e,r);this.updateTokensAndExpiration(n,s,Number(i))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:s,expirationTime:i}=r,A=new ou;return n&&(vt(typeof n=="string","internal-error",{appName:e}),A.refreshToken=n),s&&(vt(typeof s=="string","internal-error",{appName:e}),A.accessToken=s),i&&(vt(typeof i=="number","internal-error",{appName:e}),A.expirationTime=i),A}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ou,this.toJSON())}_performRefresh(){return YA("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qa(t,e){vt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class JA{constructor(e){var{uid:r,auth:n,stsTokenManager:s}=e,i=Xw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Zv(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await Th(this,this.stsTokenManager.getToken(this.auth,e));return vt(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return dL(this,e)}reload(){return pL(this)}_assign(e){this!==e&&(vt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new JA(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await zm(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($A(this.auth.app))return Promise.reject(So(this.auth));const e=await this.getIdToken();return await Th(this,uL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,s,i,A,a,o,c,h;const f=(n=r.displayName)!==null&&n!==void 0?n:void 0,g=(s=r.email)!==null&&s!==void 0?s:void 0,m=(i=r.phoneNumber)!==null&&i!==void 0?i:void 0,B=(A=r.photoURL)!==null&&A!==void 0?A:void 0,b=(a=r.tenantId)!==null&&a!==void 0?a:void 0,F=(o=r._redirectEventId)!==null&&o!==void 0?o:void 0,y=(c=r.createdAt)!==null&&c!==void 0?c:void 0,x=(h=r.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:S,emailVerified:D,isAnonymous:V,providerData:G,stsTokenManager:Q}=r;vt(S&&Q,e,"internal-error");const _=ou.fromJSON(this.name,Q);vt(typeof S=="string",e,"internal-error"),qa(f,e.name),qa(g,e.name),vt(typeof D=="boolean",e,"internal-error"),vt(typeof V=="boolean",e,"internal-error"),qa(m,e.name),qa(B,e.name),qa(b,e.name),qa(F,e.name),qa(y,e.name),qa(x,e.name);const k=new JA({uid:S,auth:e,email:g,emailVerified:D,displayName:f,isAnonymous:V,photoURL:B,phoneNumber:m,tenantId:b,stsTokenManager:_,createdAt:y,lastLoginAt:x});return G&&Array.isArray(G)&&(k.providerData=G.map(N=>Object.assign({},N))),F&&(k._redirectEventId=F),k}static async _fromIdTokenResponse(e,r,n=!1){const s=new ou;s.updateFromServerResponse(r);const i=new JA({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:n});return await zm(i),i}static async _fromGetAccountInfoResponse(e,r,n){const s=r.users[0];vt(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?I_(s.providerUserInfo):[],A=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new ou;a.updateFromIdToken(n);const o=new JA({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:A}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Zv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(o,c),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab=new Map;function XA(t){aa(t instanceof Function,"Expected a class definition");let e=ab.get(t);return e?(aa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ab.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}S_.type="NONE";const ob=S_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(t,e,r){return`firebase:${t}:${e}:${r}`}class lu{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:s,name:i}=this.auth;this.fullUserKey=Jp(this.userKey,s.apiKey,i),this.fullPersistenceKey=Jp("persistence",s.apiKey,i),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?JA._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new lu(XA(ob),e,n);const s=(await Promise.all(r.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||XA(ob);const A=Jp(n,e.config.apiKey,e.name);let a=null;for(const c of r)try{const h=await c._get(A);if(h){const f=JA._fromJSON(e,h);c!==i&&(a=f),i=c;break}}catch{}const o=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!o.length?new lu(i,e,n):(i=o[0],a&&await i._set(A,a.toJSON()),await Promise.all(r.map(async c=>{if(c!==i)try{await c._remove(A)}catch{}})),new lu(i,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(k_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(N_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Q_(e))return"Blackberry";if(L_(e))return"Webos";if(F_(e))return"Safari";if((e.includes("chrome/")||T_(e))&&!e.includes("edge/"))return"Chrome";if(U_(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function N_(t=Zn()){return/firefox\//i.test(t)}function F_(t=Zn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function T_(t=Zn()){return/crios\//i.test(t)}function k_(t=Zn()){return/iemobile/i.test(t)}function U_(t=Zn()){return/android/i.test(t)}function Q_(t=Zn()){return/blackberry/i.test(t)}function L_(t=Zn()){return/webos/i.test(t)}function r2(t=Zn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function yL(t=Zn()){var e;return r2(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function wL(){return jU()&&document.documentMode===10}function j_(t=Zn()){return r2(t)||U_(t)||L_(t)||Q_(t)||/windows phone/i.test(t)||k_(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(t,e=[]){let r;switch(t){case"Browser":r=lb(Zn());break;case"Worker":r=`${lb(Zn())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Hu}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=i=>new Promise((A,a)=>{try{const o=e(i);A(o)}catch(o){a(o)}});n.onAbort=r,this.queue.push(n);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const s of r)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BL(t,e={}){return Wo(t,"GET","/v2/passwordPolicy",Jl(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL=6;class CL{constructor(e){var r,n,s,i;const A=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=A.minPasswordLength)!==null&&r!==void 0?r:bL,A.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=A.maxPasswordLength),A.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=A.containsLowercaseCharacter),A.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=A.containsUppercaseCharacter),A.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=A.containsNumericCharacter),A.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=A.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,s,i,A,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=(r=o.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),o.isValid&&(o.isValid=(n=o.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),o.isValid&&(o.isValid=(s=o.containsLowercaseLetter)!==null&&s!==void 0?s:!0),o.isValid&&(o.isValid=(i=o.containsUppercaseLetter)!==null&&i!==void 0?i:!0),o.isValid&&(o.isValid=(A=o.containsNumericCharacter)!==null&&A!==void 0?A:!0),o.isValid&&(o.isValid=(a=o.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),o}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),s&&(r.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let s=0;s<e.length;s++)n=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(e,r,n,s){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cb(this),this.idTokenSubscription=new cb(this),this.beforeStateQueue=new xL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=x_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=XA(r)),this._initializationPromise=this.queue(async()=>{var n,s;if(!this._deleted&&(this.persistenceManager=await lu.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await __(this,{idToken:e}),n=await JA._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if($A(this.app)){const A=this.app.settings.authIdToken;return A?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(A).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const A=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,a=s==null?void 0:s._redirectEventId,o=await this.tryRedirectSignIn(e);(!A||A===a)&&(o!=null&&o.user)&&(s=o.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(A){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(A))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await zm(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=sL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($A(this.app))return Promise.reject(So(this));const r=e?an(e):null;return r&&vt(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&vt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $A(this.app)?Promise.reject(So(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $A(this.app)?Promise.reject(So(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(XA(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await BL(this),r=new CL(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Zh("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await vL(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&XA(e)||this._popupRedirectResolver;vt(r,this,"argument-error"),this.redirectPersistenceManager=await lu.create(this,[XA(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,s){if(this._deleted)return()=>{};const i=typeof r=="function"?r:r.next.bind(r);let A=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(a,this,"internal-error"),a.then(()=>{A||i(this.currentUser)}),typeof r=="function"){const o=e.addObserver(r,n,s);return()=>{A=!0,o()}}else{const o=e.addObserver(r);return()=>{A=!0,o()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=P_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&tL(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function Mu(t){return an(t)}class cb{constructor(e){this.auth=e,this.observer=null,this.addObserver=KU(r=>this.observer=r)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _L(t){Pg=t}function D_(t){return Pg.loadJS(t)}function IL(){return Pg.recaptchaEnterpriseScript}function SL(){return Pg.gapiScript}function NL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const FL="recaptcha-enterprise",TL="NO_RECAPTCHA";class kL{constructor(e){this.type=FL,this.auth=Mu(e)}async verify(e="verify",r=!1){async function n(i){if(!r){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(A,a)=>{cL(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(o=>{if(o.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new lL(o);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,A(c.siteKey)}}).catch(o=>{a(o)})})}function s(i,A,a){const o=window.grecaptcha;ib(o)?o.enterprise.ready(()=>{o.enterprise.execute(i,{action:e}).then(c=>{A(c)}).catch(()=>{A(TL)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,A)=>{n(this.auth).then(a=>{if(!r&&ib(window.grecaptcha))s(a,i,A);else{if(typeof window>"u"){A(new Error("RecaptchaVerifier is only supported in browser"));return}let o=IL();o.length!==0&&(o+=a),D_(o).then(()=>{s(a,i,A)}).catch(c=>{A(c)})}}).catch(a=>{A(a)})})}}async function ub(t,e,r,n=!1){const s=new kL(t);let i;try{i=await s.verify(r)}catch{i=await s.verify(r,!0)}const A=Object.assign({},e);return n?Object.assign(A,{captchaResp:i}):Object.assign(A,{captchaResponse:i}),Object.assign(A,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(A,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),A}async function db(t,e,r,n){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await ub(t,e,r,r==="getOobCode");return n(t,i)}else return n(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const A=await ub(t,e,r,r==="getOobCode");return n(t,A)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UL(t,e){const r=Jw(t,"auth");if(r.isInitialized()){const s=r.getImmediate(),i=r.getOptions();if(Mm(i,e??{}))return s;Oi(s,"already-initialized")}return r.initialize({options:e})}function QL(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(XA);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function LL(t,e,r){const n=Mu(t);vt(n._canInitEmulator,n,"emulator-config-failed"),vt(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const s=!1,i=R_(e),{host:A,port:a}=jL(e),o=a===null?"":`:${a}`;n.config.emulator={url:`${i}//${A}${o}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:A,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),PL()}function R_(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function jL(t){const e=R_(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(n);if(s){const i=s[1];return{host:i,port:hb(n.substr(i.length+1))}}else{const[i,A]=n.split(":");return{host:i,port:hb(A)}}}function hb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function PL(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return YA("not implemented")}_getIdTokenResponse(e){return YA("not implemented")}_linkToIdToken(e,r){return YA("not implemented")}_getReauthenticationResolver(e){return YA("not implemented")}}async function DL(t,e){return Wo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RL(t,e){return jg(t,"POST","/v1/accounts:signInWithPassword",Jl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OL(t,e){return jg(t,"POST","/v1/accounts:signInWithEmailLink",Jl(t,e))}async function HL(t,e){return jg(t,"POST","/v1/accounts:signInWithEmailLink",Jl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh extends n2{constructor(e,r,n,s=null){super("password",n),this._email=e,this._password=r,this._tenantId=s}static _fromEmailAndPassword(e,r){return new kh(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new kh(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return db(e,r,"signInWithPassword",RL);case"emailLink":return OL(e,{email:this._email,oobCode:this._password});default:Oi(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return db(e,n,"signUpPassword",DL);case"emailLink":return HL(e,{idToken:r,email:this._email,oobCode:this._password});default:Oi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cu(t,e){return jg(t,"POST","/v1/accounts:signInWithIdp",Jl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML="http://localhost";class Vl extends n2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Vl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Oi("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:s}=r,i=Xw(r,["providerId","signInMethod"]);if(!n||!s)return null;const A=new Vl(n,s);return A.idToken=i.idToken||void 0,A.accessToken=i.accessToken||void 0,A.secret=i.secret,A.nonce=i.nonce,A.pendingToken=i.pendingToken||null,A}_getIdTokenResponse(e){const r=this.buildRequest();return cu(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,cu(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,cu(e,r)}buildRequest(){const e={requestUri:ML,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=ef(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function KL(t){const e=kd(Ud(t)).link,r=e?kd(Ud(e)).deep_link_id:null,n=kd(Ud(t)).deep_link_id;return(n?kd(Ud(n)).link:null)||n||r||e||t}class s2{constructor(e){var r,n,s,i,A,a;const o=kd(Ud(e)),c=(r=o.apiKey)!==null&&r!==void 0?r:null,h=(n=o.oobCode)!==null&&n!==void 0?n:null,f=VL((s=o.mode)!==null&&s!==void 0?s:null);vt(c&&h&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=h,this.continueUrl=(i=o.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(A=o.languageCode)!==null&&A!==void 0?A:null,this.tenantId=(a=o.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const r=KL(e);try{return new s2(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(){this.providerId=Vu.PROVIDER_ID}static credential(e,r){return kh._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=s2.parseLink(r);return vt(n,"argument-error"),kh._fromEmailAndCode(e,n.code,n.tenantId)}}Vu.PROVIDER_ID="password";Vu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf extends O_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no extends rf{constructor(){super("facebook.com")}static credential(e){return Vl._fromParams({providerId:no.PROVIDER_ID,signInMethod:no.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return no.credentialFromTaggedObject(e)}static credentialFromError(e){return no.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return no.credential(e.oauthAccessToken)}catch{return null}}}no.FACEBOOK_SIGN_IN_METHOD="facebook.com";no.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so extends rf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Vl._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return so.credentialFromTaggedObject(e)}static credentialFromError(e){return so.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return so.credential(r,n)}catch{return null}}}so.GOOGLE_SIGN_IN_METHOD="google.com";so.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends rf{constructor(){super("github.com")}static credential(e){return Vl._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return io.credential(e.oauthAccessToken)}catch{return null}}}io.GITHUB_SIGN_IN_METHOD="github.com";io.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao extends rf{constructor(){super("twitter.com")}static credential(e,r){return Vl._fromParams({providerId:Ao.PROVIDER_ID,signInMethod:Ao.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Ao.credentialFromTaggedObject(e)}static credentialFromError(e){return Ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Ao.credential(r,n)}catch{return null}}}Ao.TWITTER_SIGN_IN_METHOD="twitter.com";Ao.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,s=!1){const i=await JA._fromIdTokenResponse(e,n,s),A=fb(n);return new Iu({user:i,providerId:A,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const s=fb(n);return new Iu({user:e,providerId:s,_tokenResponse:n,operationType:r})}}function fb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm extends ha{constructor(e,r,n,s){var i;super(r.code,r.message),this.operationType=n,this.user=s,Object.setPrototypeOf(this,Gm.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,s){return new Gm(e,r,n,s)}}function H_(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Gm._fromErrorAndOperation(t,i,e,n):i})}async function zL(t,e,r=!1){const n=await Th(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Iu._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GL(t,e,r=!1){const{auth:n}=t;if($A(n.app))return Promise.reject(So(n));const s="reauthenticate";try{const i=await Th(t,H_(n,s,e,t),r);vt(i.idToken,n,"internal-error");const A=t2(i.idToken);vt(A,n,"internal-error");const{sub:a}=A;return vt(t.uid===a,n,"user-mismatch"),Iu._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Oi(n,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M_(t,e,r=!1){if($A(t.app))return Promise.reject(So(t));const n="signIn",s=await H_(t,n,e),i=await Iu._fromIdTokenResponse(t,n,s);return r||await t._updateCurrentUser(i.user),i}async function qL(t,e){return M_(Mu(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WL(t){const e=Mu(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function $L(t,e,r){return $A(t.app)?Promise.reject(So(t)):qL(an(t),Vu.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&WL(t),n})}function YL(t,e,r,n){return an(t).onIdTokenChanged(e,r,n)}function JL(t,e,r){return an(t).beforeAuthStateChanged(e,r)}function XL(t,e,r,n){return an(t).onAuthStateChanged(e,r,n)}function ZL(t){return an(t).signOut()}const qm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(qm,"1"),this.storage.removeItem(qm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6=1e3,t6=10;class K_ extends V_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=j_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),s=this.localCache[r];n!==s&&e(r,s,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((A,a,o)=>{this.notifyListeners(A,o)});return}const n=e.key;r?this.detachListener():this.stopPolling();const s=()=>{const A=this.storage.getItem(n);!r&&this.localCache[n]===A||this.notifyListeners(n,A)},i=this.storage.getItem(n);wL()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,t6):s()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},e6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}K_.type="LOCAL";const r6=K_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_ extends V_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}z_.type="SESSION";const G_=z_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(s=>s.isListeningto(e));if(r)return r;const n=new Dg(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:s,data:i}=r.data,A=this.handlersMap[s];if(!(A!=null&&A.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:s});const a=Array.from(A).map(async c=>c(r.origin,i)),o=await n6(a);r.ports[0].postMessage({status:"done",eventId:n,eventType:s,response:o})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,A;return new Promise((a,o)=>{const c=i2("",20);s.port1.start();const h=setTimeout(()=>{o(new Error("unsupported_event"))},n);A={messageChannel:s,onMessage(f){const g=f;if(g.data.eventId===c)switch(g.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(g.data.response);break;default:clearTimeout(h),clearTimeout(i),o(new Error("invalid_response"));break}}},this.handlers.add(A),s.port1.addEventListener("message",A.onMessage),this.target.postMessage({eventType:e,eventId:c,data:r},[s.port2])}).finally(()=>{A&&this.removeMessageHandler(A)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(){return window}function i6(t){pA().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(){return typeof pA().WorkerGlobalScope<"u"&&typeof pA().importScripts=="function"}async function A6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function a6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function o6(){return q_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="firebaseLocalStorageDb",l6=1,Wm="firebaseLocalStorage",$_="fbase_key";class nf{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Rg(t,e){return t.transaction([Wm],e?"readwrite":"readonly").objectStore(Wm)}function c6(){const t=indexedDB.deleteDatabase(W_);return new nf(t).toPromise()}function ey(){const t=indexedDB.open(W_,l6);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Wm,{keyPath:$_})}catch(s){r(s)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Wm)?e(n):(n.close(),await c6(),e(await ey()))})})}async function pb(t,e,r){const n=Rg(t,!0).put({[$_]:e,value:r});return new nf(n).toPromise()}async function u6(t,e){const r=Rg(t,!1).get(e),n=await new nf(r).toPromise();return n===void 0?null:n.value}function mb(t,e){const r=Rg(t,!0).delete(e);return new nf(r).toPromise()}const d6=800,h6=3;class Y_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ey(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>h6)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return q_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dg._getInstance(o6()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await A6(),!this.activeServiceWorker)return;this.sender=new s6(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||a6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ey();return await pb(e,qm,"1"),await mb(e,qm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>pb(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>u6(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>mb(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Rg(s,!1).getAll();return new nf(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)n.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),r.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!n.has(s)&&(this.notifyListeners(s,null),r.push(s));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),d6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Y_.type="LOCAL";const f6=Y_;new tf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p6(t,e){return e?XA(e):(vt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2 extends n2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return cu(e,this._buildIdpRequest())}_linkToIdToken(e,r){return cu(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return cu(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function m6(t){return M_(t.auth,new A2(t),t.bypassAuthState)}function g6(t){const{auth:e,user:r}=t;return vt(r,e,"internal-error"),GL(r,new A2(t),t.bypassAuthState)}async function v6(t){const{auth:e,user:r}=t;return vt(r,e,"internal-error"),zL(r,new A2(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(e,r,n,s,i=!1){this.auth=e,this.resolver=n,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:s,tenantId:i,error:A,type:a}=e;if(A){this.reject(A);return}const o={auth:this.auth,requestUri:r,sessionId:n,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return m6;case"linkViaPopup":case"linkViaRedirect":return v6;case"reauthViaPopup":case"reauthViaRedirect":return g6;default:Oi(this.auth,"internal-error")}}resolve(e){aa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){aa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y6=new tf(2e3,1e4);class Zc extends J_{constructor(e,r,n,s,i){super(e,r,s,i),this.provider=n,this.authWindow=null,this.pollId=null,Zc.currentPopupAction&&Zc.currentPopupAction.cancel(),Zc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return vt(e,this.auth,"internal-error"),e}async onExecution(){aa(this.filter.length===1,"Popup operations only handle one event");const e=i2();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(fA(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(fA(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fA(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,y6.get())};e()}}Zc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6="pendingRedirect",Xp=new Map;class x6 extends J_{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Xp.get(this.auth._key());if(!e){try{const n=await B6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Xp.set(this.auth._key(),e)}return this.bypassAuthState||Xp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function B6(t,e){const r=E6(e),n=C6(t);if(!await n._isAvailable())return!1;const s=await n._get(r)==="true";return await n._remove(r),s}function b6(t,e){Xp.set(t._key(),e)}function C6(t){return XA(t._redirectPersistence)}function E6(t){return Jp(w6,t.config.apiKey,t.name)}async function _6(t,e,r=!1){if($A(t.app))return Promise.reject(So(t));const n=Mu(t),s=p6(n,e),A=await new x6(n,s,r).execute();return A&&!r&&(delete A.user._redirectEventId,await n._persistUserIfCurrent(A.user),await n._setRedirectUser(null,e)),A}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I6=10*60*1e3;class S6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!N6(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!X_(e)){const s=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(fA(this.auth,s))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=I6&&this.cachedEventUids.clear(),this.cachedEventUids.has(gb(e))}saveEventToCache(e){this.cachedEventUids.add(gb(e)),this.lastProcessedEventTime=Date.now()}}function gb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function X_({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function N6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return X_(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F6(t,e={}){return Wo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,k6=/^https?/;async function U6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await F6(t);for(const r of e)try{if(Q6(r))return}catch{}Oi(t,"unauthorized-domain")}function Q6(t){const e=Xv(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const A=new URL(t);return A.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&A.hostname===n}if(!k6.test(r))return!1;if(T6.test(t))return n===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L6=new tf(3e4,6e4);function vb(){const t=pA().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function j6(t){return new Promise((e,r)=>{var n,s,i;function A(){vb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vb(),r(fA(t,"network-request-failed"))},timeout:L6.get()})}if(!((s=(n=pA().gapi)===null||n===void 0?void 0:n.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=pA().gapi)===null||i===void 0)&&i.load)A();else{const a=NL("iframefcb");return pA()[a]=()=>{gapi.load?A():r(fA(t,"network-request-failed"))},D_(`${SL()}?onload=${a}`).catch(o=>r(o))}}).catch(e=>{throw Zp=null,e})}let Zp=null;function P6(t){return Zp=Zp||j6(t),Zp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6=new tf(5e3,15e3),R6="__/auth/iframe",O6="emulator/auth/iframe",H6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},M6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function V6(t){const e=t.config;vt(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?e2(e,O6):`https://${t.config.authDomain}/${R6}`,n={apiKey:e.apiKey,appName:t.name,v:Hu},s=M6.get(t.config.apiHost);s&&(n.eid=s);const i=t._getFrameworks();return i.length&&(n.fw=i.join(",")),`${r}?${ef(n).slice(1)}`}async function K6(t){const e=await P6(t),r=pA().gapi;return vt(r,t,"internal-error"),e.open({where:document.body,url:V6(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:H6,dontclear:!0},n=>new Promise(async(s,i)=>{await n.restyle({setHideOnLeave:!1});const A=fA(t,"network-request-failed"),a=pA().setTimeout(()=>{i(A)},D6.get());function o(){pA().clearTimeout(a),s(n)}n.ping(o).then(o,()=>{i(A)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},G6=500,q6=600,W6="_blank",$6="http://localhost";class yb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Y6(t,e,r,n=G6,s=q6){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),A=Math.max((window.screen.availWidth-n)/2,0).toString();let a="";const o=Object.assign(Object.assign({},z6),{width:n.toString(),height:s.toString(),top:i,left:A}),c=Zn().toLowerCase();r&&(a=T_(c)?W6:r),N_(c)&&(e=e||$6,o.scrollbars="yes");const h=Object.entries(o).reduce((g,[m,B])=>`${g}${m}=${B},`,"");if(yL(c)&&a!=="_self")return J6(e||"",a),new yb(null);const f=window.open(e||"",a,h);vt(f,t,"popup-blocked");try{f.focus()}catch{}return new yb(f)}function J6(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X6="__/auth/handler",Z6="emulator/auth/handler",ej=encodeURIComponent("fac");async function wb(t,e,r,n,s,i){vt(t.config.authDomain,t,"auth-domain-config-required"),vt(t.config.apiKey,t,"invalid-api-key");const A={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Hu,eventId:s};if(e instanceof O_){e.setDefaultLanguage(t.languageCode),A.providerId=e.providerId||"",VU(e.getCustomParameters())||(A.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))A[h]=f}if(e instanceof rf){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(A.scopes=h.join(","))}t.tenantId&&(A.tid=t.tenantId);const a=A;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const o=await t._getAppCheckToken(),c=o?`#${ej}=${encodeURIComponent(o)}`:"";return`${tj(t)}?${ef(a).slice(1)}${c}`}function tj({config:t}){return t.emulator?e2(t,Z6):`https://${t.authDomain}/${X6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1="webStorageSupport";class rj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=G_,this._completeRedirectFn=_6,this._overrideRedirectResult=b6}async _openPopup(e,r,n,s){var i;aa((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const A=await wb(e,r,n,Xv(),s);return Y6(e,A,i2())}async _openRedirect(e,r,n,s){await this._originValidation(e);const i=await wb(e,r,n,Xv(),s);return i6(i),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:s,promise:i}=this.eventManagers[r];return s?Promise.resolve(s):(aa(i,"If manager is not set, promise should be"),i)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await K6(e),n=new S6(e);return r.register("authEvent",s=>(vt(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:n.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(p1,{type:p1},s=>{var i;const A=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[p1];A!==void 0&&r(!!A),Oi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=U6(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return j_()||F_()||r2()}}const nj=rj;var xb="@firebase/auth",Bb="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ij(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Aj(t){_u(new Ml("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:A,authDomain:a}=n.options;vt(A&&!A.includes(":"),"invalid-api-key",{appName:n.name});const o={apiKey:A,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:P_(t)},c=new EL(n,s,i,o);return QL(c,r),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),_u(new Ml("auth-internal",e=>{const r=Mu(e.getProvider("auth").getImmediate());return(n=>new sj(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Io(xb,Bb,ij(t)),Io(xb,Bb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aj=5*60,oj=h_("authIdTokenMaxAge")||aj;let bb=null;const lj=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>oj)return;const s=r==null?void 0:r.token;bb!==s&&(bb=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function cj(t=g_()){const e=Jw(t,"auth");if(e.isInitialized())return e.getImmediate();const r=UL(t,{popupRedirectResolver:nj,persistence:[f6,r6,G_]}),n=h_("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(n,location.origin);if(location.origin===i.origin){const A=lj(i.toString());JL(r,A,()=>A(r.currentUser)),YL(r,a=>A(a))}}const s=u_("auth");return s&&LL(r,`http://${s}`),r}function uj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}_L({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=s=>{const i=fA("internal-error");i.customData=s,r(i)},n.type="text/javascript",n.charset="UTF-8",uj().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Aj("Browser");var dj="firebase",hj="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Io(dj,hj,"app");var Cb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kl,Z_;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(Q,_){function k(){}k.prototype=_.prototype,Q.D=_.prototype,Q.prototype=new k,Q.prototype.constructor=Q,Q.C=function(N,E,U){for(var I=Array(arguments.length-2),j=2;j<arguments.length;j++)I[j-2]=arguments[j];return _.prototype[E].apply(N,I)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(Q,_,k){k||(k=0);var N=Array(16);if(typeof _=="string")for(var E=0;16>E;++E)N[E]=_.charCodeAt(k++)|_.charCodeAt(k++)<<8|_.charCodeAt(k++)<<16|_.charCodeAt(k++)<<24;else for(E=0;16>E;++E)N[E]=_[k++]|_[k++]<<8|_[k++]<<16|_[k++]<<24;_=Q.g[0],k=Q.g[1],E=Q.g[2];var U=Q.g[3],I=_+(U^k&(E^U))+N[0]+3614090360&4294967295;_=k+(I<<7&4294967295|I>>>25),I=U+(E^_&(k^E))+N[1]+3905402710&4294967295,U=_+(I<<12&4294967295|I>>>20),I=E+(k^U&(_^k))+N[2]+606105819&4294967295,E=U+(I<<17&4294967295|I>>>15),I=k+(_^E&(U^_))+N[3]+3250441966&4294967295,k=E+(I<<22&4294967295|I>>>10),I=_+(U^k&(E^U))+N[4]+4118548399&4294967295,_=k+(I<<7&4294967295|I>>>25),I=U+(E^_&(k^E))+N[5]+1200080426&4294967295,U=_+(I<<12&4294967295|I>>>20),I=E+(k^U&(_^k))+N[6]+2821735955&4294967295,E=U+(I<<17&4294967295|I>>>15),I=k+(_^E&(U^_))+N[7]+4249261313&4294967295,k=E+(I<<22&4294967295|I>>>10),I=_+(U^k&(E^U))+N[8]+1770035416&4294967295,_=k+(I<<7&4294967295|I>>>25),I=U+(E^_&(k^E))+N[9]+2336552879&4294967295,U=_+(I<<12&4294967295|I>>>20),I=E+(k^U&(_^k))+N[10]+4294925233&4294967295,E=U+(I<<17&4294967295|I>>>15),I=k+(_^E&(U^_))+N[11]+2304563134&4294967295,k=E+(I<<22&4294967295|I>>>10),I=_+(U^k&(E^U))+N[12]+1804603682&4294967295,_=k+(I<<7&4294967295|I>>>25),I=U+(E^_&(k^E))+N[13]+4254626195&4294967295,U=_+(I<<12&4294967295|I>>>20),I=E+(k^U&(_^k))+N[14]+2792965006&4294967295,E=U+(I<<17&4294967295|I>>>15),I=k+(_^E&(U^_))+N[15]+1236535329&4294967295,k=E+(I<<22&4294967295|I>>>10),I=_+(E^U&(k^E))+N[1]+4129170786&4294967295,_=k+(I<<5&4294967295|I>>>27),I=U+(k^E&(_^k))+N[6]+3225465664&4294967295,U=_+(I<<9&4294967295|I>>>23),I=E+(_^k&(U^_))+N[11]+643717713&4294967295,E=U+(I<<14&4294967295|I>>>18),I=k+(U^_&(E^U))+N[0]+3921069994&4294967295,k=E+(I<<20&4294967295|I>>>12),I=_+(E^U&(k^E))+N[5]+3593408605&4294967295,_=k+(I<<5&4294967295|I>>>27),I=U+(k^E&(_^k))+N[10]+38016083&4294967295,U=_+(I<<9&4294967295|I>>>23),I=E+(_^k&(U^_))+N[15]+3634488961&4294967295,E=U+(I<<14&4294967295|I>>>18),I=k+(U^_&(E^U))+N[4]+3889429448&4294967295,k=E+(I<<20&4294967295|I>>>12),I=_+(E^U&(k^E))+N[9]+568446438&4294967295,_=k+(I<<5&4294967295|I>>>27),I=U+(k^E&(_^k))+N[14]+3275163606&4294967295,U=_+(I<<9&4294967295|I>>>23),I=E+(_^k&(U^_))+N[3]+4107603335&4294967295,E=U+(I<<14&4294967295|I>>>18),I=k+(U^_&(E^U))+N[8]+1163531501&4294967295,k=E+(I<<20&4294967295|I>>>12),I=_+(E^U&(k^E))+N[13]+2850285829&4294967295,_=k+(I<<5&4294967295|I>>>27),I=U+(k^E&(_^k))+N[2]+4243563512&4294967295,U=_+(I<<9&4294967295|I>>>23),I=E+(_^k&(U^_))+N[7]+1735328473&4294967295,E=U+(I<<14&4294967295|I>>>18),I=k+(U^_&(E^U))+N[12]+2368359562&4294967295,k=E+(I<<20&4294967295|I>>>12),I=_+(k^E^U)+N[5]+4294588738&4294967295,_=k+(I<<4&4294967295|I>>>28),I=U+(_^k^E)+N[8]+2272392833&4294967295,U=_+(I<<11&4294967295|I>>>21),I=E+(U^_^k)+N[11]+1839030562&4294967295,E=U+(I<<16&4294967295|I>>>16),I=k+(E^U^_)+N[14]+4259657740&4294967295,k=E+(I<<23&4294967295|I>>>9),I=_+(k^E^U)+N[1]+2763975236&4294967295,_=k+(I<<4&4294967295|I>>>28),I=U+(_^k^E)+N[4]+1272893353&4294967295,U=_+(I<<11&4294967295|I>>>21),I=E+(U^_^k)+N[7]+4139469664&4294967295,E=U+(I<<16&4294967295|I>>>16),I=k+(E^U^_)+N[10]+3200236656&4294967295,k=E+(I<<23&4294967295|I>>>9),I=_+(k^E^U)+N[13]+681279174&4294967295,_=k+(I<<4&4294967295|I>>>28),I=U+(_^k^E)+N[0]+3936430074&4294967295,U=_+(I<<11&4294967295|I>>>21),I=E+(U^_^k)+N[3]+3572445317&4294967295,E=U+(I<<16&4294967295|I>>>16),I=k+(E^U^_)+N[6]+76029189&4294967295,k=E+(I<<23&4294967295|I>>>9),I=_+(k^E^U)+N[9]+3654602809&4294967295,_=k+(I<<4&4294967295|I>>>28),I=U+(_^k^E)+N[12]+3873151461&4294967295,U=_+(I<<11&4294967295|I>>>21),I=E+(U^_^k)+N[15]+530742520&4294967295,E=U+(I<<16&4294967295|I>>>16),I=k+(E^U^_)+N[2]+3299628645&4294967295,k=E+(I<<23&4294967295|I>>>9),I=_+(E^(k|~U))+N[0]+4096336452&4294967295,_=k+(I<<6&4294967295|I>>>26),I=U+(k^(_|~E))+N[7]+1126891415&4294967295,U=_+(I<<10&4294967295|I>>>22),I=E+(_^(U|~k))+N[14]+2878612391&4294967295,E=U+(I<<15&4294967295|I>>>17),I=k+(U^(E|~_))+N[5]+4237533241&4294967295,k=E+(I<<21&4294967295|I>>>11),I=_+(E^(k|~U))+N[12]+1700485571&4294967295,_=k+(I<<6&4294967295|I>>>26),I=U+(k^(_|~E))+N[3]+2399980690&4294967295,U=_+(I<<10&4294967295|I>>>22),I=E+(_^(U|~k))+N[10]+4293915773&4294967295,E=U+(I<<15&4294967295|I>>>17),I=k+(U^(E|~_))+N[1]+2240044497&4294967295,k=E+(I<<21&4294967295|I>>>11),I=_+(E^(k|~U))+N[8]+1873313359&4294967295,_=k+(I<<6&4294967295|I>>>26),I=U+(k^(_|~E))+N[15]+4264355552&4294967295,U=_+(I<<10&4294967295|I>>>22),I=E+(_^(U|~k))+N[6]+2734768916&4294967295,E=U+(I<<15&4294967295|I>>>17),I=k+(U^(E|~_))+N[13]+1309151649&4294967295,k=E+(I<<21&4294967295|I>>>11),I=_+(E^(k|~U))+N[4]+4149444226&4294967295,_=k+(I<<6&4294967295|I>>>26),I=U+(k^(_|~E))+N[11]+3174756917&4294967295,U=_+(I<<10&4294967295|I>>>22),I=E+(_^(U|~k))+N[2]+718787259&4294967295,E=U+(I<<15&4294967295|I>>>17),I=k+(U^(E|~_))+N[9]+3951481745&4294967295,Q.g[0]=Q.g[0]+_&4294967295,Q.g[1]=Q.g[1]+(E+(I<<21&4294967295|I>>>11))&4294967295,Q.g[2]=Q.g[2]+E&4294967295,Q.g[3]=Q.g[3]+U&4294967295}n.prototype.u=function(Q,_){_===void 0&&(_=Q.length);for(var k=_-this.blockSize,N=this.B,E=this.h,U=0;U<_;){if(E==0)for(;U<=k;)s(this,Q,U),U+=this.blockSize;if(typeof Q=="string"){for(;U<_;)if(N[E++]=Q.charCodeAt(U++),E==this.blockSize){s(this,N),E=0;break}}else for(;U<_;)if(N[E++]=Q[U++],E==this.blockSize){s(this,N),E=0;break}}this.h=E,this.o+=_},n.prototype.v=function(){var Q=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Q[0]=128;for(var _=1;_<Q.length-8;++_)Q[_]=0;var k=8*this.o;for(_=Q.length-8;_<Q.length;++_)Q[_]=k&255,k/=256;for(this.u(Q),Q=Array(16),_=k=0;4>_;++_)for(var N=0;32>N;N+=8)Q[k++]=this.g[_]>>>N&255;return Q};function i(Q,_){var k=a;return Object.prototype.hasOwnProperty.call(k,Q)?k[Q]:k[Q]=_(Q)}function A(Q,_){this.h=_;for(var k=[],N=!0,E=Q.length-1;0<=E;E--){var U=Q[E]|0;N&&U==_||(k[E]=U,N=!1)}this.g=k}var a={};function o(Q){return-128<=Q&&128>Q?i(Q,function(_){return new A([_|0],0>_?-1:0)}):new A([Q|0],0>Q?-1:0)}function c(Q){if(isNaN(Q)||!isFinite(Q))return f;if(0>Q)return F(c(-Q));for(var _=[],k=1,N=0;Q>=k;N++)_[N]=Q/k|0,k*=4294967296;return new A(_,0)}function h(Q,_){if(Q.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(Q.charAt(0)=="-")return F(h(Q.substring(1),_));if(0<=Q.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=c(Math.pow(_,8)),N=f,E=0;E<Q.length;E+=8){var U=Math.min(8,Q.length-E),I=parseInt(Q.substring(E,E+U),_);8>U?(U=c(Math.pow(_,U)),N=N.j(U).add(c(I))):(N=N.j(k),N=N.add(c(I)))}return N}var f=o(0),g=o(1),m=o(16777216);t=A.prototype,t.m=function(){if(b(this))return-F(this).m();for(var Q=0,_=1,k=0;k<this.g.length;k++){var N=this.i(k);Q+=(0<=N?N:4294967296+N)*_,_*=4294967296}return Q},t.toString=function(Q){if(Q=Q||10,2>Q||36<Q)throw Error("radix out of range: "+Q);if(B(this))return"0";if(b(this))return"-"+F(this).toString(Q);for(var _=c(Math.pow(Q,6)),k=this,N="";;){var E=D(k,_).g;k=y(k,E.j(_));var U=((0<k.g.length?k.g[0]:k.h)>>>0).toString(Q);if(k=E,B(k))return U+N;for(;6>U.length;)U="0"+U;N=U+N}},t.i=function(Q){return 0>Q?0:Q<this.g.length?this.g[Q]:this.h};function B(Q){if(Q.h!=0)return!1;for(var _=0;_<Q.g.length;_++)if(Q.g[_]!=0)return!1;return!0}function b(Q){return Q.h==-1}t.l=function(Q){return Q=y(this,Q),b(Q)?-1:B(Q)?0:1};function F(Q){for(var _=Q.g.length,k=[],N=0;N<_;N++)k[N]=~Q.g[N];return new A(k,~Q.h).add(g)}t.abs=function(){return b(this)?F(this):this},t.add=function(Q){for(var _=Math.max(this.g.length,Q.g.length),k=[],N=0,E=0;E<=_;E++){var U=N+(this.i(E)&65535)+(Q.i(E)&65535),I=(U>>>16)+(this.i(E)>>>16)+(Q.i(E)>>>16);N=I>>>16,U&=65535,I&=65535,k[E]=I<<16|U}return new A(k,k[k.length-1]&-2147483648?-1:0)};function y(Q,_){return Q.add(F(_))}t.j=function(Q){if(B(this)||B(Q))return f;if(b(this))return b(Q)?F(this).j(F(Q)):F(F(this).j(Q));if(b(Q))return F(this.j(F(Q)));if(0>this.l(m)&&0>Q.l(m))return c(this.m()*Q.m());for(var _=this.g.length+Q.g.length,k=[],N=0;N<2*_;N++)k[N]=0;for(N=0;N<this.g.length;N++)for(var E=0;E<Q.g.length;E++){var U=this.i(N)>>>16,I=this.i(N)&65535,j=Q.i(E)>>>16,$=Q.i(E)&65535;k[2*N+2*E]+=I*$,x(k,2*N+2*E),k[2*N+2*E+1]+=U*$,x(k,2*N+2*E+1),k[2*N+2*E+1]+=I*j,x(k,2*N+2*E+1),k[2*N+2*E+2]+=U*j,x(k,2*N+2*E+2)}for(N=0;N<_;N++)k[N]=k[2*N+1]<<16|k[2*N];for(N=_;N<2*_;N++)k[N]=0;return new A(k,0)};function x(Q,_){for(;(Q[_]&65535)!=Q[_];)Q[_+1]+=Q[_]>>>16,Q[_]&=65535,_++}function S(Q,_){this.g=Q,this.h=_}function D(Q,_){if(B(_))throw Error("division by zero");if(B(Q))return new S(f,f);if(b(Q))return _=D(F(Q),_),new S(F(_.g),F(_.h));if(b(_))return _=D(Q,F(_)),new S(F(_.g),_.h);if(30<Q.g.length){if(b(Q)||b(_))throw Error("slowDivide_ only works with positive integers.");for(var k=g,N=_;0>=N.l(Q);)k=V(k),N=V(N);var E=G(k,1),U=G(N,1);for(N=G(N,2),k=G(k,2);!B(N);){var I=U.add(N);0>=I.l(Q)&&(E=E.add(k),U=I),N=G(N,1),k=G(k,1)}return _=y(Q,E.j(_)),new S(E,_)}for(E=f;0<=Q.l(_);){for(k=Math.max(1,Math.floor(Q.m()/_.m())),N=Math.ceil(Math.log(k)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),U=c(k),I=U.j(_);b(I)||0<I.l(Q);)k-=N,U=c(k),I=U.j(_);B(U)&&(U=g),E=E.add(U),Q=y(Q,I)}return new S(E,Q)}t.A=function(Q){return D(this,Q).h},t.and=function(Q){for(var _=Math.max(this.g.length,Q.g.length),k=[],N=0;N<_;N++)k[N]=this.i(N)&Q.i(N);return new A(k,this.h&Q.h)},t.or=function(Q){for(var _=Math.max(this.g.length,Q.g.length),k=[],N=0;N<_;N++)k[N]=this.i(N)|Q.i(N);return new A(k,this.h|Q.h)},t.xor=function(Q){for(var _=Math.max(this.g.length,Q.g.length),k=[],N=0;N<_;N++)k[N]=this.i(N)^Q.i(N);return new A(k,this.h^Q.h)};function V(Q){for(var _=Q.g.length+1,k=[],N=0;N<_;N++)k[N]=Q.i(N)<<1|Q.i(N-1)>>>31;return new A(k,Q.h)}function G(Q,_){var k=_>>5;_%=32;for(var N=Q.g.length-k,E=[],U=0;U<N;U++)E[U]=0<_?Q.i(U+k)>>>_|Q.i(U+k+1)<<32-_:Q.i(U+k);return new A(E,Q.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,Z_=n,A.prototype.add=A.prototype.add,A.prototype.multiply=A.prototype.j,A.prototype.modulo=A.prototype.A,A.prototype.compare=A.prototype.l,A.prototype.toNumber=A.prototype.m,A.prototype.toString=A.prototype.toString,A.prototype.getBits=A.prototype.i,A.fromNumber=c,A.fromString=h,kl=A}).apply(typeof Cb<"u"?Cb:typeof self<"u"?self:typeof window<"u"?window:{});var np=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eI,Qd,tI,em,ty,rI,nI,sI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,C,L){return d==Array.prototype||d==Object.prototype||(d[C]=L.value),d};function r(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof np=="object"&&np];for(var C=0;C<d.length;++C){var L=d[C];if(L&&L.Math==Math)return L}throw Error("Cannot find global object")}var n=r(this);function s(d,C){if(C)e:{var L=n;d=d.split(".");for(var K=0;K<d.length-1;K++){var Be=d[K];if(!(Be in L))break e;L=L[Be]}d=d[d.length-1],K=L[d],C=C(K),C!=K&&C!=null&&e(L,d,{configurable:!0,writable:!0,value:C})}}function i(d,C){d instanceof String&&(d+="");var L=0,K=!1,Be={next:function(){if(!K&&L<d.length){var Fe=L++;return{value:C(Fe,d[Fe]),done:!1}}return K=!0,{done:!0,value:void 0}}};return Be[Symbol.iterator]=function(){return Be},Be}s("Array.prototype.values",function(d){return d||function(){return i(this,function(C,L){return L})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var A=A||{},a=this||self;function o(d){var C=typeof d;return C=C!="object"?C:d?Array.isArray(d)?"array":C:"null",C=="array"||C=="object"&&typeof d.length=="number"}function c(d){var C=typeof d;return C=="object"&&d!=null||C=="function"}function h(d,C,L){return d.call.apply(d.bind,arguments)}function f(d,C,L){if(!d)throw Error();if(2<arguments.length){var K=Array.prototype.slice.call(arguments,2);return function(){var Be=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Be,K),d.apply(C,Be)}}return function(){return d.apply(C,arguments)}}function g(d,C,L){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,g.apply(null,arguments)}function m(d,C){var L=Array.prototype.slice.call(arguments,1);return function(){var K=L.slice();return K.push.apply(K,arguments),d.apply(this,K)}}function B(d,C){function L(){}L.prototype=C.prototype,d.aa=C.prototype,d.prototype=new L,d.prototype.constructor=d,d.Qb=function(K,Be,Fe){for(var Me=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)Me[bt-2]=arguments[bt];return C.prototype[Be].apply(K,Me)}}function b(d){const C=d.length;if(0<C){const L=Array(C);for(let K=0;K<C;K++)L[K]=d[K];return L}return[]}function F(d,C){for(let L=1;L<arguments.length;L++){const K=arguments[L];if(o(K)){const Be=d.length||0,Fe=K.length||0;d.length=Be+Fe;for(let Me=0;Me<Fe;Me++)d[Be+Me]=K[Me]}else d.push(K)}}class y{constructor(C,L){this.i=C,this.j=L,this.h=0,this.g=null}get(){let C;return 0<this.h?(this.h--,C=this.g,this.g=C.next,C.next=null):C=this.i(),C}}function x(d){return/^[\s\xa0]*$/.test(d)}function S(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function D(d){return D[" "](d),d}D[" "]=function(){};var V=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function G(d,C,L){for(const K in d)C.call(L,d[K],K,d)}function Q(d,C){for(const L in d)C.call(void 0,d[L],L,d)}function _(d){const C={};for(const L in d)C[L]=d[L];return C}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(d,C){let L,K;for(let Be=1;Be<arguments.length;Be++){K=arguments[Be];for(L in K)d[L]=K[L];for(let Fe=0;Fe<k.length;Fe++)L=k[Fe],Object.prototype.hasOwnProperty.call(K,L)&&(d[L]=K[L])}}function E(d){var C=1;d=d.split(":");const L=[];for(;0<C&&d.length;)L.push(d.shift()),C--;return d.length&&L.push(d.join(":")),L}function U(d){a.setTimeout(()=>{throw d},0)}function I(){var d=ce;let C=null;return d.g&&(C=d.g,d.g=d.g.next,d.g||(d.h=null),C.next=null),C}class j{constructor(){this.h=this.g=null}add(C,L){const K=$.get();K.set(C,L),this.h?this.h.next=K:this.g=K,this.h=K}}var $=new y(()=>new ae,d=>d.reset());class ae{constructor(){this.next=this.g=this.h=null}set(C,L){this.h=C,this.g=L,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,ee=!1,ce=new j,ye=()=>{const d=a.Promise.resolve(void 0);ne=()=>{d.then(_e)}};var _e=()=>{for(var d;d=I();){try{d.h.call(d.g)}catch(L){U(L)}var C=$;C.j(d),100>C.h&&(C.h++,d.next=C.g,C.g=d)}ee=!1};function P(){this.s=this.s,this.C=this.C}P.prototype.s=!1,P.prototype.ma=function(){this.s||(this.s=!0,this.N())},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(d,C){this.type=d,this.g=this.target=C,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var Z=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,C=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const L=()=>{};a.addEventListener("test",L,C),a.removeEventListener("test",L,C)}catch{}return d}();function Y(d,C){if(q.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var L=this.type=d.type,K=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=C,C=d.relatedTarget){if(V){e:{try{D(C.nodeName);var Be=!0;break e}catch{}Be=!1}Be||(C=null)}}else L=="mouseover"?C=d.fromElement:L=="mouseout"&&(C=d.toElement);this.relatedTarget=C,K?(this.clientX=K.clientX!==void 0?K.clientX:K.pageX,this.clientY=K.clientY!==void 0?K.clientY:K.pageY,this.screenX=K.screenX||0,this.screenY=K.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:X[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Y.aa.h.call(this)}}B(Y,q);var X={2:"touch",3:"pen",4:"mouse"};Y.prototype.h=function(){Y.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var J="closure_listenable_"+(1e6*Math.random()|0),Ae=0;function le(d,C,L,K,Be){this.listener=d,this.proxy=null,this.src=C,this.type=L,this.capture=!!K,this.ha=Be,this.key=++Ae,this.da=this.fa=!1}function oe(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function he(d){this.src=d,this.g={},this.h=0}he.prototype.add=function(d,C,L,K,Be){var Fe=d.toString();d=this.g[Fe],d||(d=this.g[Fe]=[],this.h++);var Me=pe(d,C,K,Be);return-1<Me?(C=d[Me],L||(C.fa=!1)):(C=new le(C,this.src,Fe,!!K,Be),C.fa=L,d.push(C)),C};function Ee(d,C){var L=C.type;if(L in d.g){var K=d.g[L],Be=Array.prototype.indexOf.call(K,C,void 0),Fe;(Fe=0<=Be)&&Array.prototype.splice.call(K,Be,1),Fe&&(oe(C),d.g[L].length==0&&(delete d.g[L],d.h--))}}function pe(d,C,L,K){for(var Be=0;Be<d.length;++Be){var Fe=d[Be];if(!Fe.da&&Fe.listener==C&&Fe.capture==!!L&&Fe.ha==K)return Be}return-1}var Te="closure_lm_"+(1e6*Math.random()|0),we={};function te(d,C,L,K,Be){if(Array.isArray(C)){for(var Fe=0;Fe<C.length;Fe++)te(d,C[Fe],L,K,Be);return null}return L=wt(L),d&&d[J]?d.K(C,L,c(K)?!!K.capture:!!K,Be):ve(d,C,L,!1,K,Be)}function ve(d,C,L,K,Be,Fe){if(!C)throw Error("Invalid event type");var Me=c(Be)?!!Be.capture:!!Be,bt=tt(d);if(bt||(d[Te]=bt=new he(d)),L=bt.add(C,L,K,Me,Fe),L.proxy)return L;if(K=ie(),L.proxy=K,K.src=d,K.listener=L,d.addEventListener)Z||(Be=Me),Be===void 0&&(Be=!1),d.addEventListener(C.toString(),K,Be);else if(d.attachEvent)d.attachEvent(Ve(C.toString()),K);else if(d.addListener&&d.removeListener)d.addListener(K);else throw Error("addEventListener and attachEvent are unavailable.");return L}function ie(){function d(L){return C.call(d.src,d.listener,L)}const C=ze;return d}function fe(d,C,L,K,Be){if(Array.isArray(C))for(var Fe=0;Fe<C.length;Fe++)fe(d,C[Fe],L,K,Be);else K=c(K)?!!K.capture:!!K,L=wt(L),d&&d[J]?(d=d.i,C=String(C).toString(),C in d.g&&(Fe=d.g[C],L=pe(Fe,L,K,Be),-1<L&&(oe(Fe[L]),Array.prototype.splice.call(Fe,L,1),Fe.length==0&&(delete d.g[C],d.h--)))):d&&(d=tt(d))&&(C=d.g[C.toString()],d=-1,C&&(d=pe(C,L,K,Be)),(L=-1<d?C[d]:null)&&Ie(L))}function Ie(d){if(typeof d!="number"&&d&&!d.da){var C=d.src;if(C&&C[J])Ee(C.i,d);else{var L=d.type,K=d.proxy;C.removeEventListener?C.removeEventListener(L,K,d.capture):C.detachEvent?C.detachEvent(Ve(L),K):C.addListener&&C.removeListener&&C.removeListener(K),(L=tt(C))?(Ee(L,d),L.h==0&&(L.src=null,C[Te]=null)):oe(d)}}}function Ve(d){return d in we?we[d]:we[d]="on"+d}function ze(d,C){if(d.da)d=!0;else{C=new Y(C,this);var L=d.listener,K=d.ha||d.src;d.fa&&Ie(d),d=L.call(K,C)}return d}function tt(d){return d=d[Te],d instanceof he?d:null}var lt="__closure_events_fn_"+(1e9*Math.random()>>>0);function wt(d){return typeof d=="function"?d:(d[lt]||(d[lt]=function(C){return d.handleEvent(C)}),d[lt])}function ot(){P.call(this),this.i=new he(this),this.M=this,this.F=null}B(ot,P),ot.prototype[J]=!0,ot.prototype.removeEventListener=function(d,C,L,K){fe(this,d,C,L,K)};function dt(d,C){var L,K=d.F;if(K)for(L=[];K;K=K.F)L.push(K);if(d=d.M,K=C.type||C,typeof C=="string")C=new q(C,d);else if(C instanceof q)C.target=C.target||d;else{var Be=C;C=new q(K,d),N(C,Be)}if(Be=!0,L)for(var Fe=L.length-1;0<=Fe;Fe--){var Me=C.g=L[Fe];Be=Pt(Me,K,!0,C)&&Be}if(Me=C.g=d,Be=Pt(Me,K,!0,C)&&Be,Be=Pt(Me,K,!1,C)&&Be,L)for(Fe=0;Fe<L.length;Fe++)Me=C.g=L[Fe],Be=Pt(Me,K,!1,C)&&Be}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var d=this.i,C;for(C in d.g){for(var L=d.g[C],K=0;K<L.length;K++)oe(L[K]);delete d.g[C],d.h--}}this.F=null},ot.prototype.K=function(d,C,L,K){return this.i.add(String(d),C,!1,L,K)},ot.prototype.L=function(d,C,L,K){return this.i.add(String(d),C,!0,L,K)};function Pt(d,C,L,K){if(C=d.i.g[String(C)],!C)return!0;C=C.concat();for(var Be=!0,Fe=0;Fe<C.length;++Fe){var Me=C[Fe];if(Me&&!Me.da&&Me.capture==L){var bt=Me.listener,Dt=Me.ha||Me.src;Me.fa&&Ee(d.i,Me),Be=bt.call(Dt,K)!==!1&&Be}}return Be&&!K.defaultPrevented}function ut(d,C,L){if(typeof d=="function")L&&(d=g(d,L));else if(d&&typeof d.handleEvent=="function")d=g(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(C)?-1:a.setTimeout(d,C||0)}function St(d){d.g=ut(()=>{d.g=null,d.i&&(d.i=!1,St(d))},d.l);const C=d.h;d.h=null,d.m.apply(null,C)}class Ye extends P{constructor(C,L){super(),this.m=C,this.l=L,this.h=null,this.i=!1,this.g=null}j(C){this.h=arguments,this.g?this.i=!0:St(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cr(d){P.call(this),this.h=d,this.g={}}B(Cr,P);var Qt=[];function Un(d){G(d.g,function(C,L){this.g.hasOwnProperty(L)&&Ie(C)},d),d.g={}}Cr.prototype.N=function(){Cr.aa.N.call(this),Un(this)},Cr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vt=a.JSON.stringify,Zt=a.JSON.parse,es=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function Lt(){}Lt.prototype.h=null;function Ts(d){return d.h||(d.h=d.i())}function Ar(){}var Yr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qn(){q.call(this,"d")}B(Qn,q);function Qe(){q.call(this,"c")}B(Qe,q);var De={},We=null;function Nt(){return We=We||new ot}De.La="serverreachability";function kt(d){q.call(this,De.La,d)}B(kt,q);function ht(d){const C=Nt();dt(C,new kt(C))}De.STAT_EVENT="statevent";function Ut(d,C){q.call(this,De.STAT_EVENT,d),this.stat=C}B(Ut,q);function Ze(d){const C=Nt();dt(C,new Ut(C,d))}De.Ma="timingevent";function Jr(d,C){q.call(this,De.Ma,d),this.size=C}B(Jr,q);function Tr(d,C){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},C)}function hr(){this.g=!0}hr.prototype.xa=function(){this.g=!1};function Dr(d,C,L,K,Be,Fe){d.info(function(){if(d.g)if(Fe)for(var Me="",bt=Fe.split("&"),Dt=0;Dt<bt.length;Dt++){var Ct=bt[Dt].split("=");if(1<Ct.length){var Jt=Ct[0];Ct=Ct[1];var lr=Jt.split("_");Me=2<=lr.length&&lr[1]=="type"?Me+(Jt+"="+Ct+"&"):Me+(Jt+"=redacted&")}}else Me=null;else Me=Fe;return"XMLHTTP REQ ("+K+") [attempt "+Be+"]: "+C+`
`+L+`
`+Me})}function kr(d,C,L,K,Be,Fe,Me){d.info(function(){return"XMLHTTP RESP ("+K+") [ attempt "+Be+"]: "+C+`
`+L+`
`+Fe+" "+Me})}function Xr(d,C,L,K){d.info(function(){return"XMLHTTP TEXT ("+C+"): "+mi(d,L)+(K?" "+K:"")})}function ga(d,C){d.info(function(){return"TIMEOUT: "+C})}hr.prototype.info=function(){};function mi(d,C){if(!d.g)return C;if(!C)return null;try{var L=JSON.parse(C);if(L){for(d=0;d<L.length;d++)if(Array.isArray(L[d])){var K=L[d];if(!(2>K.length)){var Be=K[1];if(Array.isArray(Be)&&!(1>Be.length)){var Fe=Be[0];if(Fe!="noop"&&Fe!="stop"&&Fe!="close")for(var Me=1;Me<Be.length;Me++)Be[Me]=""}}}}return Vt(L)}catch{return C}}var Ln={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ps={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ts;function rs(){}B(rs,Lt),rs.prototype.g=function(){return new XMLHttpRequest},rs.prototype.i=function(){return{}},ts=new rs;function Rr(d,C,L,K){this.j=d,this.i=C,this.l=L,this.R=K||1,this.U=new Cr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ks}function ks(){this.i=null,this.g="",this.h=!1}var qi={},Wi={};function $i(d,C,L){d.L=1,d.v=SA(ns(C)),d.m=L,d.P=!0,bA(d,null)}function bA(d,C){d.F=Date.now(),va(d),d.A=ns(d.v);var L=d.A,K=d.R;Array.isArray(K)||(K=[String(K)]),gt(L.i,"t",K),d.C=0,L=d.j.J,d.h=new ks,d.g=R(d.j,L?C:null,!d.m),0<d.O&&(d.M=new Ye(g(d.Y,d,d.g),d.O)),C=d.U,L=d.g,K=d.ca;var Be="readystatechange";Array.isArray(Be)||(Be&&(Qt[0]=Be.toString()),Be=Qt);for(var Fe=0;Fe<Be.length;Fe++){var Me=te(L,Be[Fe],K||C.handleEvent,!1,C.h||C);if(!Me)break;C.g[Me.key]=Me}C=d.H?_(d.H):{},d.m?(d.u||(d.u="POST"),C["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,C)):(d.u="GET",d.g.ea(d.A,d.u,null,C)),ht(),Dr(d.i,d.u,d.A,d.l,d.R,d.m)}Rr.prototype.ca=function(d){d=d.target;const C=this.M;C&&on(d)==3?C.j():this.Y(d)},Rr.prototype.Y=function(d){try{if(d==this.g)e:{const lr=on(this.g);var C=this.g.Ba();const Ci=this.g.Z();if(!(3>lr)&&(lr!=3||this.g&&(this.h.h||this.g.oa()||cc(this.g)))){this.J||lr!=4||C==7||(C==8||0>=Ci?ht(3):ht(2)),Yi(this);var L=this.g.Z();this.X=L;t:if(CA(this)){var K=cc(this.g);d="";var Be=K.length,Fe=on(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gi(this),Ji(this);var Me="";break t}this.h.i=new a.TextDecoder}for(C=0;C<Be;C++)this.h.h=!0,d+=this.h.i.decode(K[C],{stream:!(Fe&&C==Be-1)});K.length=0,this.h.g+=d,this.C=0,Me=this.h.g}else Me=this.g.oa();if(this.o=L==200,kr(this.i,this.u,this.A,this.l,this.R,lr,L),this.o){if(this.T&&!this.K){t:{if(this.g){var bt,Dt=this.g;if((bt=Dt.g?Dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(bt)){var Ct=bt;break t}}Ct=null}if(L=Ct)Xr(this.i,this.l,L,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,EA(this,L);else{this.o=!1,this.s=3,Ze(12),gi(this),Ji(this);break e}}if(this.P){L=!0;let xn;for(;!this.J&&this.C<Me.length;)if(xn=tc(this,Me),xn==Wi){lr==4&&(this.s=4,Ze(14),L=!1),Xr(this.i,this.l,null,"[Incomplete Response]");break}else if(xn==qi){this.s=4,Ze(15),Xr(this.i,this.l,Me,"[Invalid Chunk]"),L=!1;break}else Xr(this.i,this.l,xn,null),EA(this,xn);if(CA(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),lr!=4||Me.length!=0||this.h.h||(this.s=1,Ze(16),L=!1),this.o=this.o&&L,!L)Xr(this.i,this.l,Me,"[Invalid Chunked Response]"),gi(this),Ji(this);else if(0<Me.length&&!this.W){this.W=!0;var Jt=this.j;Jt.g==this&&Jt.ba&&!Jt.M&&(Jt.j.info("Great, no buffering proxy detected. Bytes received: "+Me.length),ka(Jt),Jt.M=!0,Ze(11))}}else Xr(this.i,this.l,Me,null),EA(this,Me);lr==4&&gi(this),this.o&&!this.J&&(lr==4?rA(this.j,this):(this.o=!1,va(this)))}else eA(this.g),L==400&&0<Me.indexOf("Unknown SID")?(this.s=3,Ze(12)):(this.s=0,Ze(13)),gi(this),Ji(this)}}}catch{}finally{}};function CA(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function tc(d,C){var L=d.C,K=C.indexOf(`
`,L);return K==-1?Wi:(L=Number(C.substring(L,K)),isNaN(L)?qi:(K+=1,K+L>C.length?Wi:(C=C.slice(K,K+L),d.C=K+L,C)))}Rr.prototype.cancel=function(){this.J=!0,gi(this)};function va(d){d.S=Date.now()+d.I,rc(d,d.I)}function rc(d,C){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Tr(g(d.ba,d),C)}function Yi(d){d.B&&(a.clearTimeout(d.B),d.B=null)}Rr.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(ga(this.i,this.A),this.L!=2&&(ht(),Ze(17)),gi(this),this.s=2,Ji(this)):rc(this,this.S-d)};function Ji(d){d.j.G==0||d.J||rA(d.j,d)}function gi(d){Yi(d);var C=d.M;C&&typeof C.ma=="function"&&C.ma(),d.M=null,Un(d.U),d.g&&(C=d.g,d.g=null,C.abort(),C.ma())}function EA(d,C){try{var L=d.j;if(L.G!=0&&(L.g==d||Xo(L.h,d))){if(!d.K&&Xo(L.h,d)&&L.G==3){try{var K=L.Da.g.parse(C)}catch{K=null}if(Array.isArray(K)&&K.length==3){var Be=K;if(Be[0]==0){e:if(!L.u){if(L.g)if(L.g.F+3e3<d.F)bi(L),Sa(L);else break e;UA(L),Ze(18)}}else L.za=Be[1],0<L.za-L.T&&37500>Be[2]&&L.F&&L.v==0&&!L.C&&(L.C=Tr(g(L.Za,L),6e3));if(1>=_A(L.h)&&L.ca){try{L.ca()}catch{}L.ca=void 0}}else jn(L,11)}else if((d.K||L.g==d)&&bi(L),!x(C))for(Be=L.Da.g.parse(C),C=0;C<Be.length;C++){let Ct=Be[C];if(L.T=Ct[0],Ct=Ct[1],L.G==2)if(Ct[0]=="c"){L.K=Ct[1],L.ia=Ct[2];const Jt=Ct[3];Jt!=null&&(L.la=Jt,L.j.info("VER="+L.la));const lr=Ct[4];lr!=null&&(L.Aa=lr,L.j.info("SVER="+L.Aa));const Ci=Ct[5];Ci!=null&&typeof Ci=="number"&&0<Ci&&(K=1.5*Ci,L.L=K,L.j.info("backChannelRequestTimeoutMs_="+K)),K=L;const xn=d.g;if(xn){const nA=xn.g?xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(nA){var Fe=K.h;Fe.g||nA.indexOf("spdy")==-1&&nA.indexOf("quic")==-1&&nA.indexOf("h2")==-1||(Fe.j=Fe.l,Fe.g=new Set,Fe.h&&(vr(Fe,Fe.h),Fe.h=null))}if(K.D){const sA=xn.g?xn.g.getResponseHeader("X-HTTP-Session-Id"):null;sA&&(K.ya=sA,er(K.I,K.D,sA))}}L.G=3,L.l&&L.l.ua(),L.ba&&(L.R=Date.now()-d.F,L.j.info("Handshake RTT: "+L.R+"ms")),K=L;var Me=d;if(K.qa=v(K,K.J?K.ia:null,K.W),Me.K){Zo(K.h,Me);var bt=Me,Dt=K.L;Dt&&(bt.I=Dt),bt.B&&(Yi(bt),va(bt)),K.g=Me}else Ta(K);0<L.i.length&&Na(L)}else Ct[0]!="stop"&&Ct[0]!="close"||jn(L,7);else L.G==3&&(Ct[0]=="stop"||Ct[0]=="close"?Ct[0]=="stop"?jn(L,7):Bi(L):Ct[0]!="noop"&&L.l&&L.l.ta(Ct),L.v=0)}}ht(4)}catch{}}var $u=class{constructor(d,C){this.g=d,this.map=C}};function Jo(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function nc(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function _A(d){return d.h?1:d.g?d.g.size:0}function Xo(d,C){return d.h?d.h==C:d.g?d.g.has(C):!1}function vr(d,C){d.g?d.g.add(C):d.h=C}function Zo(d,C){d.h&&d.h==C?d.h=null:d.g&&d.g.has(C)&&d.g.delete(C)}Jo.prototype.cancel=function(){if(this.i=el(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function el(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let C=d.i;for(const L of d.g.values())C=C.concat(L.D);return C}return b(d.i)}function sc(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(o(d)){for(var C=[],L=d.length,K=0;K<L;K++)C.push(d[K]);return C}C=[],L=0;for(K in d)C[L++]=d[K];return C}function tl(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(o(d)||typeof d=="string"){var C=[];d=d.length;for(var L=0;L<d;L++)C.push(L);return C}C=[],L=0;for(const K in d)C[L++]=K;return C}}}function ic(d,C){if(d.forEach&&typeof d.forEach=="function")d.forEach(C,void 0);else if(o(d)||typeof d=="string")Array.prototype.forEach.call(d,C,void 0);else for(var L=tl(d),K=sc(d),Be=K.length,Fe=0;Fe<Be;Fe++)C.call(void 0,K[Fe],L&&L[Fe],d)}var ms=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ya(d,C){if(d){d=d.split("&");for(var L=0;L<d.length;L++){var K=d[L].indexOf("="),Be=null;if(0<=K){var Fe=d[L].substring(0,K);Be=d[L].substring(K+1)}else Fe=d[L];C(Fe,Be?decodeURIComponent(Be.replace(/\+/g," ")):"")}}}function Ur(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Ur){this.h=d.h,IA(this,d.j),this.o=d.o,this.g=d.g,wa(this,d.s),this.l=d.l;var C=d.i,L=new Xi;L.i=C.i,C.g&&(L.g=new Map(C.g),L.h=C.h),rl(this,L),this.m=d.m}else d&&(C=String(d).match(ms))?(this.h=!1,IA(this,C[1]||"",!0),this.o=NA(C[2]||""),this.g=NA(C[3]||"",!0),wa(this,C[4]),this.l=NA(C[5]||"",!0),rl(this,C[6]||"",!0),this.m=NA(C[7]||"")):(this.h=!1,this.i=new Xi(null,this.h))}Ur.prototype.toString=function(){var d=[],C=this.j;C&&d.push(vi(C,Ac,!0),":");var L=this.g;return(L||C=="file")&&(d.push("//"),(C=this.o)&&d.push(vi(C,Ac,!0),"@"),d.push(encodeURIComponent(String(L)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),L=this.s,L!=null&&d.push(":",String(L))),(L=this.l)&&(this.g&&L.charAt(0)!="/"&&d.push("/"),d.push(vi(L,L.charAt(0)=="/"?yi:Ju,!0))),(L=this.i.toString())&&d.push("?",L),(L=this.m)&&d.push("#",vi(L,Ba)),d.join("")};function ns(d){return new Ur(d)}function IA(d,C,L){d.j=L?NA(C,!0):C,d.j&&(d.j=d.j.replace(/:$/,""))}function wa(d,C){if(C){if(C=Number(C),isNaN(C)||0>C)throw Error("Bad port number "+C);d.s=C}else d.s=null}function rl(d,C,L){C instanceof Xi?(d.i=C,Xu(d.i,d.h)):(L||(C=vi(C,xa)),d.i=new Xi(C,d.h))}function er(d,C,L){d.i.set(C,L)}function SA(d){return er(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function NA(d,C){return d?C?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function vi(d,C,L){return typeof d=="string"?(d=encodeURI(d).replace(C,Yu),L&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Yu(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Ac=/[#\/\?@]/g,Ju=/[#\?:]/g,yi=/[#\?]/g,xa=/[#\?@]/g,Ba=/#/g;function Xi(d,C){this.h=this.g=null,this.i=d||null,this.j=!!C}function yr(d){d.g||(d.g=new Map,d.h=0,d.i&&ya(d.i,function(C,L){d.add(decodeURIComponent(C.replace(/\+/g," ")),L)}))}t=Xi.prototype,t.add=function(d,C){yr(this),this.i=null,d=Zi(this,d);var L=this.g.get(d);return L||this.g.set(d,L=[]),L.push(C),this.h+=1,this};function ac(d,C){yr(d),C=Zi(d,C),d.g.has(C)&&(d.i=null,d.h-=d.g.get(C).length,d.g.delete(C))}function nl(d,C){return yr(d),C=Zi(d,C),d.g.has(C)}t.forEach=function(d,C){yr(this),this.g.forEach(function(L,K){L.forEach(function(Be){d.call(C,Be,K,this)},this)},this)},t.na=function(){yr(this);const d=Array.from(this.g.values()),C=Array.from(this.g.keys()),L=[];for(let K=0;K<C.length;K++){const Be=d[K];for(let Fe=0;Fe<Be.length;Fe++)L.push(C[K])}return L},t.V=function(d){yr(this);let C=[];if(typeof d=="string")nl(this,d)&&(C=C.concat(this.g.get(Zi(this,d))));else{d=Array.from(this.g.values());for(let L=0;L<d.length;L++)C=C.concat(d[L])}return C},t.set=function(d,C){return yr(this),this.i=null,d=Zi(this,d),nl(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[C]),this.h+=1,this},t.get=function(d,C){return d?(d=this.V(d),0<d.length?String(d[0]):C):C};function gt(d,C,L){ac(d,C),0<L.length&&(d.i=null,d.g.set(Zi(d,C),b(L)),d.h+=L.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],C=Array.from(this.g.keys());for(var L=0;L<C.length;L++){var K=C[L];const Fe=encodeURIComponent(String(K)),Me=this.V(K);for(K=0;K<Me.length;K++){var Be=Fe;Me[K]!==""&&(Be+="="+encodeURIComponent(String(Me[K]))),d.push(Be)}}return this.i=d.join("&")};function Zi(d,C){return C=String(C),d.j&&(C=C.toLowerCase()),C}function Xu(d,C){C&&!d.j&&(yr(d),d.i=null,d.g.forEach(function(L,K){var Be=K.toLowerCase();K!=Be&&(ac(this,K),gt(this,Be,L))},d)),d.j=C}function Js(d,C){const L=new hr;if(a.Image){const K=new Image;K.onload=m(Us,L,"TestLoadImage: loaded",!0,C,K),K.onerror=m(Us,L,"TestLoadImage: error",!1,C,K),K.onabort=m(Us,L,"TestLoadImage: abort",!1,C,K),K.ontimeout=m(Us,L,"TestLoadImage: timeout",!1,C,K),a.setTimeout(function(){K.ontimeout&&K.ontimeout()},1e4),K.src=d}else C(!1)}function oc(d,C){const L=new hr,K=new AbortController,Be=setTimeout(()=>{K.abort(),Us(L,"TestPingServer: timeout",!1,C)},1e4);fetch(d,{signal:K.signal}).then(Fe=>{clearTimeout(Be),Fe.ok?Us(L,"TestPingServer: ok",!0,C):Us(L,"TestPingServer: server error",!1,C)}).catch(()=>{clearTimeout(Be),Us(L,"TestPingServer: error",!1,C)})}function Us(d,C,L,K,Be){try{Be&&(Be.onload=null,Be.onerror=null,Be.onabort=null,Be.ontimeout=null),K(L)}catch{}}function ba(){this.g=new es}function sl(d,C,L){const K=L||"";try{ic(d,function(Be,Fe){let Me=Be;c(Be)&&(Me=Vt(Be)),C.push(K+Fe+"="+encodeURIComponent(Me))})}catch(Be){throw C.push(K+"type="+encodeURIComponent("_badmap")),Be}}function Ca(d){this.l=d.Ub||null,this.j=d.eb||!1}B(Ca,Lt),Ca.prototype.g=function(){return new Ea(this.l,this.j)},Ca.prototype.i=function(d){return function(){return d}}({});function Ea(d,C){ot.call(this),this.D=d,this.o=C,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}B(Ea,ot),t=Ea.prototype,t.open=function(d,C){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=C,this.readyState=1,Qs(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const C={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(C.body=d),(this.D||a).fetch(new Request(this.A,C)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wi(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Qs(this)),this.g&&(this.readyState=3,Qs(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;lc(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function lc(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var C=d.value?d.value:new Uint8Array(0);(C=this.v.decode(C,{stream:!d.done}))&&(this.response=this.responseText+=C)}d.done?wi(this):Qs(this),this.readyState==3&&lc(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,wi(this))},t.Qa=function(d){this.g&&(this.response=d,wi(this))},t.ga=function(){this.g&&wi(this)};function wi(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Qs(d)}t.setRequestHeader=function(d,C){this.u.append(d,C)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],C=this.h.entries();for(var L=C.next();!L.done;)L=L.value,d.push(L[0]+": "+L[1]),L=C.next();return d.join(`\r
`)};function Qs(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Ea.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function xi(d){let C="";return G(d,function(L,K){C+=K,C+=":",C+=L,C+=`\r
`}),C}function il(d,C,L){e:{for(K in L){var K=!1;break e}K=!0}K||(L=xi(L),typeof d=="string"?L!=null&&encodeURIComponent(String(L)):er(d,C,L))}function Yt(d){ot.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}B(Yt,ot);var Al=/^https?$/i,_a=["POST","PUT"];t=Yt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,C,L,K){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);C=C?C.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ts.g(),this.v=this.o?Ts(this.o):Ts(ts),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(C,String(d),!0),this.B=!1}catch(Fe){al(this,Fe);return}if(d=L||"",L=new Map(this.headers),K)if(Object.getPrototypeOf(K)===Object.prototype)for(var Be in K)L.set(Be,K[Be]);else if(typeof K.keys=="function"&&typeof K.get=="function")for(const Fe of K.keys())L.set(Fe,K.get(Fe));else throw Error("Unknown input type for opt_headers: "+String(K));K=Array.from(L.keys()).find(Fe=>Fe.toLowerCase()=="content-type"),Be=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(_a,C,void 0))||K||Be||L.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Fe,Me]of L)this.g.setRequestHeader(Fe,Me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ls(this),this.u=!0,this.g.send(d),this.u=!1}catch(Fe){al(this,Fe)}};function al(d,C){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=C,d.m=5,ol(d),FA(d)}function ol(d){d.A||(d.A=!0,dt(d,"complete"),dt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,dt(this,"complete"),dt(this,"abort"),FA(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),FA(this,!0)),Yt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ll(this):this.bb())},t.bb=function(){ll(this)};function ll(d){if(d.h&&typeof A<"u"&&(!d.v[1]||on(d)!=4||d.Z()!=2)){if(d.u&&on(d)==4)ut(d.Ea,0,d);else if(dt(d,"readystatechange"),on(d)==4){d.h=!1;try{const Me=d.Z();e:switch(Me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var C=!0;break e;default:C=!1}var L;if(!(L=C)){var K;if(K=Me===0){var Be=String(d.D).match(ms)[1]||null;!Be&&a.self&&a.self.location&&(Be=a.self.location.protocol.slice(0,-1)),K=!Al.test(Be?Be.toLowerCase():"")}L=K}if(L)dt(d,"complete"),dt(d,"success");else{d.m=6;try{var Fe=2<on(d)?d.g.statusText:""}catch{Fe=""}d.l=Fe+" ["+d.Z()+"]",ol(d)}}finally{FA(d)}}}}function FA(d,C){if(d.g){Ls(d);const L=d.g,K=d.v[0]?()=>{}:null;d.g=null,d.v=null,C||dt(d,"ready");try{L.onreadystatechange=K}catch{}}}function Ls(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function on(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<on(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var C=this.g.responseText;return d&&C.indexOf(d)==0&&(C=C.substring(d.length)),Zt(C)}};function cc(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function eA(d){const C={};d=(d.g&&2<=on(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let K=0;K<d.length;K++){if(x(d[K]))continue;var L=E(d[K]);const Be=L[0];if(L=L[1],typeof L!="string")continue;L=L.trim();const Fe=C[Be]||[];C[Be]=Fe,Fe.push(L)}Q(C,function(K){return K.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function wn(d,C,L){return L&&L.internalChannelParams&&L.internalChannelParams[d]||C}function Ia(d){this.Aa=0,this.i=[],this.j=new hr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wn("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wn("baseRetryDelayMs",5e3,d),this.cb=wn("retryDelaySeedMs",1e4,d),this.Wa=wn("forwardChannelMaxRetries",2,d),this.wa=wn("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Jo(d&&d.concurrentRequestLimit),this.Da=new ba,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ia.prototype,t.la=8,t.G=1,t.connect=function(d,C,L,K){Ze(0),this.W=d,this.H=C||{},L&&K!==void 0&&(this.H.OSID=L,this.H.OAID=K),this.F=this.X,this.I=v(this,null,this.W),Na(this)};function Bi(d){if(TA(d),d.G==3){var C=d.U++,L=ns(d.I);if(er(L,"SID",d.K),er(L,"RID",C),er(L,"TYPE","terminate"),tA(d,L),C=new Rr(d,d.j,C),C.L=2,C.v=SA(ns(L)),L=!1,a.navigator&&a.navigator.sendBeacon)try{L=a.navigator.sendBeacon(C.v.toString(),"")}catch{}!L&&a.Image&&(new Image().src=C.v,L=!0),L||(C.g=R(C.j,null),C.g.ea(C.v)),C.F=Date.now(),va(C)}Qa(d)}function Sa(d){d.g&&(ka(d),d.g.cancel(),d.g=null)}function TA(d){Sa(d),d.u&&(a.clearTimeout(d.u),d.u=null),bi(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function Na(d){if(!nc(d.h)&&!d.s){d.s=!0;var C=d.Ga;ne||ye(),ee||(ne(),ee=!0),ce.add(C,d),d.B=0}}function cl(d,C){return _A(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=C.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Tr(g(d.Ga,d,C),Ua(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const Be=new Rr(this,this.j,d);let Fe=this.o;if(this.S&&(Fe?(Fe=_(Fe),N(Fe,this.S)):Fe=this.S),this.m!==null||this.O||(Be.H=Fe,Fe=null),this.P)e:{for(var C=0,L=0;L<this.i.length;L++){t:{var K=this.i[L];if("__data__"in K.map&&(K=K.map.__data__,typeof K=="string")){K=K.length;break t}K=void 0}if(K===void 0)break;if(C+=K,4096<C){C=L;break e}if(C===4096||L===this.i.length-1){C=L+1;break e}}C=1e3}else C=1e3;C=kA(this,Be,C),L=ns(this.I),er(L,"RID",d),er(L,"CVER",22),this.D&&er(L,"X-HTTP-Session-Id",this.D),tA(this,L),Fe&&(this.O?C="headers="+encodeURIComponent(String(xi(Fe)))+"&"+C:this.m&&il(L,this.m,Fe)),vr(this.h,Be),this.Ua&&er(L,"TYPE","init"),this.P?(er(L,"$req",C),er(L,"SID","null"),Be.T=!0,$i(Be,L,null)):$i(Be,L,C),this.G=2}}else this.G==3&&(d?Fa(this,d):this.i.length==0||nc(this.h)||Fa(this))};function Fa(d,C){var L;C?L=C.l:L=d.U++;const K=ns(d.I);er(K,"SID",d.K),er(K,"RID",L),er(K,"AID",d.T),tA(d,K),d.m&&d.o&&il(K,d.m,d.o),L=new Rr(d,d.j,L,d.B+1),d.m===null&&(L.H=d.o),C&&(d.i=C.D.concat(d.i)),C=kA(d,L,1e3),L.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),vr(d.h,L),$i(L,K,C)}function tA(d,C){d.H&&G(d.H,function(L,K){er(C,K,L)}),d.l&&ic({},function(L,K){er(C,K,L)})}function kA(d,C,L){L=Math.min(d.i.length,L);var K=d.l?g(d.l.Na,d.l,d):null;e:{var Be=d.i;let Fe=-1;for(;;){const Me=["count="+L];Fe==-1?0<L?(Fe=Be[0].g,Me.push("ofs="+Fe)):Fe=0:Me.push("ofs="+Fe);let bt=!0;for(let Dt=0;Dt<L;Dt++){let Ct=Be[Dt].g;const Jt=Be[Dt].map;if(Ct-=Fe,0>Ct)Fe=Math.max(0,Be[Dt].g-100),bt=!1;else try{sl(Jt,Me,"req"+Ct+"_")}catch{K&&K(Jt)}}if(bt){K=Me.join("&");break e}}}return d=d.i.splice(0,L),C.D=d,K}function Ta(d){if(!d.g&&!d.u){d.Y=1;var C=d.Fa;ne||ye(),ee||(ne(),ee=!0),ce.add(C,d),d.v=0}}function UA(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Tr(g(d.Fa,d),Ua(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,uc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Tr(g(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ze(10),Sa(this),uc(this))};function ka(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function uc(d){d.g=new Rr(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var C=ns(d.qa);er(C,"RID","rpc"),er(C,"SID",d.K),er(C,"AID",d.T),er(C,"CI",d.F?"0":"1"),!d.F&&d.ja&&er(C,"TO",d.ja),er(C,"TYPE","xmlhttp"),tA(d,C),d.m&&d.o&&il(C,d.m,d.o),d.L&&(d.g.I=d.L);var L=d.g;d=d.ia,L.L=1,L.v=SA(ns(C)),L.m=null,L.P=!0,bA(L,d)}t.Za=function(){this.C!=null&&(this.C=null,Sa(this),UA(this),Ze(19))};function bi(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function rA(d,C){var L=null;if(d.g==C){bi(d),ka(d),d.g=null;var K=2}else if(Xo(d.h,C))L=C.D,Zo(d.h,C),K=1;else return;if(d.G!=0){if(C.o)if(K==1){L=C.m?C.m.length:0,C=Date.now()-C.F;var Be=d.B;K=Nt(),dt(K,new Jr(K,L)),Na(d)}else Ta(d);else if(Be=C.s,Be==3||Be==0&&0<C.X||!(K==1&&cl(d,C)||K==2&&UA(d)))switch(L&&0<L.length&&(C=d.h,C.i=C.i.concat(L)),Be){case 1:jn(d,5);break;case 4:jn(d,10);break;case 3:jn(d,6);break;default:jn(d,2)}}}function Ua(d,C){let L=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(L*=2),L*C}function jn(d,C){if(d.j.info("Error code "+C),C==2){var L=g(d.fb,d),K=d.Xa;const Be=!K;K=new Ur(K||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||IA(K,"https"),SA(K),Be?Js(K.toString(),L):oc(K.toString(),L)}else Ze(2);d.G=0,d.l&&d.l.sa(C),Qa(d),TA(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Ze(2)):(this.j.info("Failed to ping google.com"),Ze(1))};function Qa(d){if(d.G=0,d.ka=[],d.l){const C=el(d.h);(C.length!=0||d.i.length!=0)&&(F(d.ka,C),F(d.ka,d.i),d.h.i.length=0,b(d.i),d.i.length=0),d.l.ra()}}function v(d,C,L){var K=L instanceof Ur?ns(L):new Ur(L);if(K.g!="")C&&(K.g=C+"."+K.g),wa(K,K.s);else{var Be=a.location;K=Be.protocol,C=C?C+"."+Be.hostname:Be.hostname,Be=+Be.port;var Fe=new Ur(null);K&&IA(Fe,K),C&&(Fe.g=C),Be&&wa(Fe,Be),L&&(Fe.l=L),K=Fe}return L=d.D,C=d.ya,L&&C&&er(K,L,C),er(K,"VER",d.la),tA(d,K),K}function R(d,C,L){if(C&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return C=d.Ca&&!d.pa?new Yt(new Ca({eb:L})):new Yt(d.pa),C.Ha(d.J),C}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function se(){}t=se.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function de(){}de.prototype.g=function(d,C){return new be(d,C)};function be(d,C){ot.call(this),this.g=new Ia(C),this.l=d,this.h=C&&C.messageUrlParams||null,d=C&&C.messageHeaders||null,C&&C.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=C&&C.initMessageHeaders||null,C&&C.messageContentType&&(d?d["X-WebChannel-Content-Type"]=C.messageContentType:d={"X-WebChannel-Content-Type":C.messageContentType}),C&&C.va&&(d?d["X-WebChannel-Client-Profile"]=C.va:d={"X-WebChannel-Client-Profile":C.va}),this.g.S=d,(d=C&&C.Sb)&&!x(d)&&(this.g.m=d),this.v=C&&C.supportsCrossDomainXhr||!1,this.u=C&&C.sendRawJson||!1,(C=C&&C.httpSessionIdParam)&&!x(C)&&(this.g.D=C,d=this.h,d!==null&&C in d&&(d=this.h,C in d&&delete d[C])),this.j=new Je(this)}B(be,ot),be.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},be.prototype.close=function(){Bi(this.g)},be.prototype.o=function(d){var C=this.g;if(typeof d=="string"){var L={};L.__data__=d,d=L}else this.u&&(L={},L.__data__=Vt(d),d=L);C.i.push(new $u(C.Ya++,d)),C.G==3&&Na(C)},be.prototype.N=function(){this.g.l=null,delete this.j,Bi(this.g),delete this.g,be.aa.N.call(this)};function Ue(d){Qn.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var C=d.__sm__;if(C){e:{for(const L in C){d=L;break e}d=void 0}(this.i=d)&&(d=this.i,C=C!==null&&d in C?C[d]:void 0),this.data=C}else this.data=d}B(Ue,Qn);function He(){Qe.call(this),this.status=1}B(He,Qe);function Je(d){this.g=d}B(Je,se),Je.prototype.ua=function(){dt(this.g,"a")},Je.prototype.ta=function(d){dt(this.g,new Ue(d))},Je.prototype.sa=function(d){dt(this.g,new He)},Je.prototype.ra=function(){dt(this.g,"b")},de.prototype.createWebChannel=de.prototype.g,be.prototype.send=be.prototype.o,be.prototype.open=be.prototype.m,be.prototype.close=be.prototype.close,sI=function(){return new de},nI=function(){return Nt()},rI=De,ty={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ln.NO_ERROR=0,Ln.TIMEOUT=8,Ln.HTTP_ERROR=6,em=Ln,ps.COMPLETE="complete",tI=ps,Ar.EventType=Yr,Yr.OPEN="a",Yr.CLOSE="b",Yr.ERROR="c",Yr.MESSAGE="d",ot.prototype.listen=ot.prototype.K,Qd=Ar,Yt.prototype.listenOnce=Yt.prototype.L,Yt.prototype.getLastError=Yt.prototype.Ka,Yt.prototype.getLastErrorCode=Yt.prototype.Ba,Yt.prototype.getStatus=Yt.prototype.Z,Yt.prototype.getResponseJson=Yt.prototype.Oa,Yt.prototype.getResponseText=Yt.prototype.oa,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Ha,eI=Yt}).apply(typeof np<"u"?np:typeof self<"u"?self:typeof window<"u"?window:{});const Eb="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};zn.UNAUTHENTICATED=new zn(null),zn.GOOGLE_CREDENTIALS=new zn("google-credentials-uid"),zn.FIRST_PARTY=new zn("first-party-uid"),zn.MOCK_USER=new zn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ku="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl=new $w("@firebase/firestore");function xd(){return Kl.logLevel}function at(t,...e){if(Kl.logLevel<=Mt.DEBUG){const r=e.map(a2);Kl.debug(`Firestore (${Ku}): ${t}`,...r)}}function oa(t,...e){if(Kl.logLevel<=Mt.ERROR){const r=e.map(a2);Kl.error(`Firestore (${Ku}): ${t}`,...r)}}function Su(t,...e){if(Kl.logLevel<=Mt.WARN){const r=e.map(a2);Kl.warn(`Firestore (${Ku}): ${t}`,...r)}}function a2(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(t="Unexpected state"){const e=`FIRESTORE (${Ku}) INTERNAL ASSERTION FAILED: `+t;throw oa(e),new Error(e)}function ir(t,e){t||xt()}function It(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends ha{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(zn.UNAUTHENTICATED))}shutdown(){}}class pj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class mj{constructor(e){this.t=e,this.currentUser=zn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){ir(this.o===void 0);let n=this.i;const s=o=>this.i!==n?(n=this.i,r(o)):Promise.resolve();let i=new No;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new No,e.enqueueRetryable(()=>s(this.currentUser))};const A=()=>{const o=i;e.enqueueRetryable(async()=>{await o.promise,await s(this.currentUser)})},a=o=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=o,this.o&&(this.auth.addAuthTokenListener(this.o),A())};this.t.onInit(o=>a(o)),setTimeout(()=>{if(!this.auth){const o=this.t.getImmediate({optional:!0});o?a(o):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new No)}},0),A()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(ir(typeof n.accessToken=="string"),new iI(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ir(e===null||typeof e=="string"),new zn(e)}}class gj{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=zn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class vj{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new gj(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(zn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wj{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){ir(this.o===void 0);const n=i=>{i.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const A=i.token!==this.R;return this.R=i.token,at("FirebaseAppCheckTokenProvider",`Received ${A?"new":"existing"} token.`),A?r(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>n(i))};const s=i=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(ir(typeof r.token=="string"),this.R=r.token,new yj(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const s=xj(40);for(let i=0;i<s.length;++i)n.length<20&&s[i]<r&&(n+=e.charAt(s[i]%e.length))}return n}}function Wt(t,e){return t<e?-1:t>e?1:0}function Nu(t,e,r){return t.length===e.length&&t.every((n,s)=>r(n,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new st(Re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new st(Re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new st(Re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new st(Re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return $r.fromMillis(Date.now())}static fromDate(e){return $r.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new $r(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Wt(this.nanoseconds,e.nanoseconds):Wt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _t(e)}static min(){return new _t(new $r(0,0))}static max(){return new _t(new $r(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,r,n){r===void 0?r=0:r>e.length&&xt(),n===void 0?n=e.length-r:n>e.length-r&&xt(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Uh.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Uh?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let s=0;s<n;s++){const i=e.get(s),A=r.get(s);if(i<A)return-1;if(i>A)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class xr extends Uh{construct(e,r,n){return new xr(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new st(Re.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(s=>s.length>0))}return new xr(r)}static emptyPath(){return new xr([])}}const Bj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class In extends Uh{construct(e,r,n){return new In(e,r,n)}static isValidIdentifier(e){return Bj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),In.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new In(["__name__"])}static fromServerFormat(e){const r=[];let n="",s=0;const i=()=>{if(n.length===0)throw new st(Re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let A=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new st(Re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const o=e[s+1];if(o!=="\\"&&o!=="."&&o!=="`")throw new st(Re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=o,s+=2}else a==="`"?(A=!A,s++):a!=="."||A?(n+=a,s++):(i(),s++)}if(i(),A)throw new st(Re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new In(r)}static emptyPath(){return new In([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.path=e}static fromPath(e){return new ct(xr.fromString(e))}static fromName(e){return new ct(xr.fromString(e).popFirst(5))}static empty(){return new ct(xr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return xr.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ct(new xr(e.slice()))}}function bj(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,s=_t.fromTimestamp(n===1e9?new $r(r+1,0):new $r(r,n));return new Lo(s,ct.empty(),e)}function Cj(t){return new Lo(t.readTime,t.key,-1)}class Lo{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Lo(_t.min(),ct.empty(),-1)}static max(){return new Lo(_t.max(),ct.empty(),-1)}}function Ej(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=ct.comparator(t.documentKey,e.documentKey),r!==0?r:Wt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ij{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sf(t){if(t.code!==Re.FAILED_PRECONDITION||t.message!==_j)throw t;at("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&xt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Ke((n,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(n,s)},this.catchCallback=i=>{this.wrapFailure(r,i).next(n,s)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof Ke?r:Ke.resolve(r)}catch(r){return Ke.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):Ke.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):Ke.reject(r)}static resolve(e){return new Ke((r,n)=>{r(e)})}static reject(e){return new Ke((r,n)=>{n(e)})}static waitFor(e){return new Ke((r,n)=>{let s=0,i=0,A=!1;e.forEach(a=>{++s,a.next(()=>{++i,A&&i===s&&r()},o=>n(o))}),A=!0,i===s&&r()})}static or(e){let r=Ke.resolve(!1);for(const n of e)r=r.next(s=>s?Ke.resolve(s):n());return r}static forEach(e,r){const n=[];return e.forEach((s,i)=>{n.push(r.call(this,s,i))}),this.waitFor(n)}static mapArray(e,r){return new Ke((n,s)=>{const i=e.length,A=new Array(i);let a=0;for(let o=0;o<i;o++){const c=o;r(e[c]).next(h=>{A[c]=h,++a,a===i&&n(A)},h=>s(h))}})}static doWhile(e,r){return new Ke((n,s)=>{const i=()=>{e()===!0?r().next(()=>{i()},s):n()};i()})}}function Sj(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Af(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}o2.oe=-1;function Og(t){return t==null}function $m(t){return t===0&&1/t==-1/0}function Nj(t){return typeof t=="number"&&Number.isInteger(t)&&!$m(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Xl(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function aI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e,r){this.comparator=e,this.root=r||_n.EMPTY}insert(e,r){return new Fr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(e){return new Fr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_n.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return r+n.left.size;s<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sp(this.root,e,this.comparator,!1)}getReverseIterator(){return new sp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sp(this.root,e,this.comparator,!0)}}class sp{constructor(e,r,n,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=r?n(e.key,r):1,r&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _n{constructor(e,r,n,s,i){this.key=e,this.value=r,this.color=n??_n.RED,this.left=s??_n.EMPTY,this.right=i??_n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,s,i){return new _n(e??this.key,r??this.value,n??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let s=this;const i=n(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,r,n),null):i===0?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(e,r,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return _n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,s=this;if(r(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,r),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),r(e,s.key)===0){if(s.right.isEmpty())return _n.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,r))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xt();const e=this.left.check();if(e!==this.right.check())throw xt();return e+(this.isRed()?0:1)}}_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw xt()}get value(){throw xt()}get color(){throw xt()}get left(){throw xt()}get right(){throw xt()}copy(e,r,n,s,i){return this}insert(e,r,n){return new _n(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.comparator=e,this.data=new Fr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const s=n.getNext();if(this.comparator(s.key,e[1])>=0)return;r(s.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Ib(this.data.getIterator())}getIteratorFrom(e){return new Ib(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof Fn)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const s=r.getNext().key,i=n.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Fn(this.comparator);return r.data=e,r}}class Ib{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e){this.fields=e,e.sort(In.comparator)}static empty(){return new Ks([])}unionWith(e){let r=new Fn(In.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Ks(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Nu(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new oI("Invalid base64 string: "+i):i}}(e);return new kn(r)}static fromUint8Array(e){const r=function(s){let i="";for(let A=0;A<s.length;++A)i+=String.fromCharCode(s[A]);return i}(e);return new kn(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let s=0;s<r.length;s++)n[s]=r.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Wt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kn.EMPTY_BYTE_STRING=new kn("");const Fj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jo(t){if(ir(!!t),typeof t=="string"){let e=0;const r=Fj.exec(t);if(ir(!!r),r[1]){let s=r[1];s=(s+"000000000").substr(0,9),e=Number(s)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Kr(t.seconds),nanos:Kr(t.nanos)}}function Kr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function zl(t){return typeof t=="string"?kn.fromBase64String(t):kn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function c2(t){const e=t.mapValue.fields.__previous_value__;return l2(e)?c2(e):e}function Qh(t){const e=jo(t.mapValue.fields.__local_write_time__.timestampValue);return new $r(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(e,r,n,s,i,A,a,o,c){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=s,this.ssl=i,this.forceLongPolling=A,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=c}}class Lh{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Lh("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Lh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Gl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?l2(t)?4:Uj(t)?9007199254740991:kj(t)?10:11:xt()}function yA(t,e){if(t===e)return!0;const r=Gl(t);if(r!==Gl(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Qh(t).isEqual(Qh(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const A=jo(s.timestampValue),a=jo(i.timestampValue);return A.seconds===a.seconds&&A.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return zl(s.bytesValue).isEqual(zl(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Kr(s.geoPointValue.latitude)===Kr(i.geoPointValue.latitude)&&Kr(s.geoPointValue.longitude)===Kr(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Kr(s.integerValue)===Kr(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const A=Kr(s.doubleValue),a=Kr(i.doubleValue);return A===a?$m(A)===$m(a):isNaN(A)&&isNaN(a)}return!1}(t,e);case 9:return Nu(t.arrayValue.values||[],e.arrayValue.values||[],yA);case 10:case 11:return function(s,i){const A=s.mapValue.fields||{},a=i.mapValue.fields||{};if(_b(A)!==_b(a))return!1;for(const o in A)if(A.hasOwnProperty(o)&&(a[o]===void 0||!yA(A[o],a[o])))return!1;return!0}(t,e);default:return xt()}}function jh(t,e){return(t.values||[]).find(r=>yA(r,e))!==void 0}function Fu(t,e){if(t===e)return 0;const r=Gl(t),n=Gl(e);if(r!==n)return Wt(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Wt(t.booleanValue,e.booleanValue);case 2:return function(i,A){const a=Kr(i.integerValue||i.doubleValue),o=Kr(A.integerValue||A.doubleValue);return a<o?-1:a>o?1:a===o?0:isNaN(a)?isNaN(o)?0:-1:1}(t,e);case 3:return Sb(t.timestampValue,e.timestampValue);case 4:return Sb(Qh(t),Qh(e));case 5:return Wt(t.stringValue,e.stringValue);case 6:return function(i,A){const a=zl(i),o=zl(A);return a.compareTo(o)}(t.bytesValue,e.bytesValue);case 7:return function(i,A){const a=i.split("/"),o=A.split("/");for(let c=0;c<a.length&&c<o.length;c++){const h=Wt(a[c],o[c]);if(h!==0)return h}return Wt(a.length,o.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,A){const a=Wt(Kr(i.latitude),Kr(A.latitude));return a!==0?a:Wt(Kr(i.longitude),Kr(A.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Nb(t.arrayValue,e.arrayValue);case 10:return function(i,A){var a,o,c,h;const f=i.fields||{},g=A.fields||{},m=(a=f.value)===null||a===void 0?void 0:a.arrayValue,B=(o=g.value)===null||o===void 0?void 0:o.arrayValue,b=Wt(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((h=B==null?void 0:B.values)===null||h===void 0?void 0:h.length)||0);return b!==0?b:Nb(m,B)}(t.mapValue,e.mapValue);case 11:return function(i,A){if(i===ip.mapValue&&A===ip.mapValue)return 0;if(i===ip.mapValue)return 1;if(A===ip.mapValue)return-1;const a=i.fields||{},o=Object.keys(a),c=A.fields||{},h=Object.keys(c);o.sort(),h.sort();for(let f=0;f<o.length&&f<h.length;++f){const g=Wt(o[f],h[f]);if(g!==0)return g;const m=Fu(a[o[f]],c[h[f]]);if(m!==0)return m}return Wt(o.length,h.length)}(t.mapValue,e.mapValue);default:throw xt()}}function Sb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Wt(t,e);const r=jo(t),n=jo(e),s=Wt(r.seconds,n.seconds);return s!==0?s:Wt(r.nanos,n.nanos)}function Nb(t,e){const r=t.values||[],n=e.values||[];for(let s=0;s<r.length&&s<n.length;++s){const i=Fu(r[s],n[s]);if(i)return i}return Wt(r.length,n.length)}function Tu(t){return ry(t)}function ry(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=jo(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return zl(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return ct.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",s=!0;for(const i of r.values||[])s?s=!1:n+=",",n+=ry(i);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let s="{",i=!0;for(const A of n)i?i=!1:s+=",",s+=`${A}:${ry(r.fields[A])}`;return s+"}"}(t.mapValue):xt()}function Fb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ny(t){return!!t&&"integerValue"in t}function u2(t){return!!t&&"arrayValue"in t}function Tb(t){return!!t&&"nullValue"in t}function kb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function tm(t){return!!t&&"mapValue"in t}function kj(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function th(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Xl(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=th(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=th(t.arrayValue.values[r]);return e}return Object.assign({},t)}function Uj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e){this.value=e}static empty(){return new bs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!tm(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=th(r)}setAll(e){let r=In.emptyPath(),n={},s=[];e.forEach((A,a)=>{if(!r.isImmediateParentOf(a)){const o=this.getFieldsMap(r);this.applyChanges(o,n,s),n={},s=[],r=a.popLast()}A?n[a.lastSegment()]=th(A):s.push(a.lastSegment())});const i=this.getFieldsMap(r);this.applyChanges(i,n,s)}delete(e){const r=this.field(e.popLast());tm(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return yA(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let s=r.mapValue.fields[e.get(n)];tm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=s),r=s}return r.mapValue.fields}applyChanges(e,r,n){Xl(r,(s,i)=>e[s]=i);for(const s of n)delete e[s]}clone(){return new bs(th(this.value))}}function lI(t){const e=[];return Xl(t.fields,(r,n)=>{const s=new In([r]);if(tm(n)){const i=lI(n.mapValue).fields;if(i.length===0)e.push(s);else for(const A of i)e.push(s.child(A))}else e.push(s)}),new Ks(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e,r,n,s,i,A,a){this.key=e,this.documentType=r,this.version=n,this.readTime=s,this.createTime=i,this.data=A,this.documentState=a}static newInvalidDocument(e){return new Wn(e,0,_t.min(),_t.min(),_t.min(),bs.empty(),0)}static newFoundDocument(e,r,n,s){return new Wn(e,1,r,_t.min(),n,s,0)}static newNoDocument(e,r){return new Wn(e,2,r,_t.min(),_t.min(),bs.empty(),0)}static newUnknownDocument(e,r){return new Wn(e,3,r,_t.min(),_t.min(),bs.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,r){this.position=e,this.inclusive=r}}function Ub(t,e,r){let n=0;for(let s=0;s<t.position.length;s++){const i=e[s],A=t.position[s];if(i.field.isKeyField()?n=ct.comparator(ct.fromName(A.referenceValue),r.key):n=Fu(A,r.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function Qb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!yA(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,r="asc"){this.field=e,this.dir=r}}function Qj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cI=class{};class sn extends cI{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new jj(e,r,n):r==="array-contains"?new Rj(e,n):r==="in"?new Oj(e,n):r==="not-in"?new Hj(e,n):r==="array-contains-any"?new Mj(e,n):new sn(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new Pj(e,n):new Dj(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Fu(r,this.value)):r!==null&&Gl(this.value)===Gl(r)&&this.matchesComparison(Fu(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hi extends cI{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Hi(e,r)}matches(e){return uI(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function uI(t){return t.op==="and"}function dI(t){return Lj(t)&&uI(t)}function Lj(t){for(const e of t.filters)if(e instanceof Hi)return!1;return!0}function sy(t){if(t instanceof sn)return t.field.canonicalString()+t.op.toString()+Tu(t.value);if(dI(t))return t.filters.map(e=>sy(e)).join(",");{const e=t.filters.map(r=>sy(r)).join(",");return`${t.op}(${e})`}}function hI(t,e){return t instanceof sn?function(n,s){return s instanceof sn&&n.op===s.op&&n.field.isEqual(s.field)&&yA(n.value,s.value)}(t,e):t instanceof Hi?function(n,s){return s instanceof Hi&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce((i,A,a)=>i&&hI(A,s.filters[a]),!0):!1}(t,e):void xt()}function fI(t){return t instanceof sn?function(r){return`${r.field.canonicalString()} ${r.op} ${Tu(r.value)}`}(t):t instanceof Hi?function(r){return r.op.toString()+" {"+r.getFilters().map(fI).join(" ,")+"}"}(t):"Filter"}class jj extends sn{constructor(e,r,n){super(e,r,n),this.key=ct.fromName(n.referenceValue)}matches(e){const r=ct.comparator(e.key,this.key);return this.matchesComparison(r)}}class Pj extends sn{constructor(e,r){super(e,"in",r),this.keys=pI("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Dj extends sn{constructor(e,r){super(e,"not-in",r),this.keys=pI("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function pI(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>ct.fromName(n.referenceValue))}class Rj extends sn{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return u2(r)&&jh(r.arrayValue,this.value)}}class Oj extends sn{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&jh(this.value.arrayValue,r)}}class Hj extends sn{constructor(e,r){super(e,"not-in",r)}matches(e){if(jh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!jh(this.value.arrayValue,r)}}class Mj extends sn{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!u2(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>jh(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(e,r=null,n=[],s=[],i=null,A=null,a=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=s,this.limit=i,this.startAt=A,this.endAt=a,this.ue=null}}function Lb(t,e=null,r=[],n=[],s=null,i=null,A=null){return new Vj(t,e,r,n,s,i,A)}function d2(t){const e=It(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>sy(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(i){return i.field.canonicalString()+i.dir}(n)).join(","),Og(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Tu(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Tu(n)).join(",")),e.ue=r}return e.ue}function h2(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!Qj(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!hI(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Qb(t.startAt,e.startAt)&&Qb(t.endAt,e.endAt)}function iy(t){return ct.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,r=null,n=[],s=[],i=null,A="F",a=null,o=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=s,this.limit=i,this.limitType=A,this.startAt=a,this.endAt=o,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Kj(t,e,r,n,s,i,A,a){return new zu(t,e,r,n,s,i,A,a)}function f2(t){return new zu(t)}function jb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function mI(t){return t.collectionGroup!==null}function rh(t){const e=It(t);if(e.ce===null){e.ce=[];const r=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),r.add(i.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(A){let a=new Fn(In.comparator);return A.filters.forEach(o=>{o.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{r.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Ph(i,n))}),r.has(In.keyField().canonicalString())||e.ce.push(new Ph(In.keyField(),n))}return e.ce}function mA(t){const e=It(t);return e.le||(e.le=zj(e,rh(t))),e.le}function zj(t,e){if(t.limitType==="F")return Lb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Ph(s.field,i)});const r=t.endAt?new Ym(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Ym(t.startAt.position,t.startAt.inclusive):null;return Lb(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function Ay(t,e){const r=t.filters.concat([e]);return new zu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function ay(t,e,r){return new zu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Hg(t,e){return h2(mA(t),mA(e))&&t.limitType===e.limitType}function gI(t){return`${d2(mA(t))}|lt:${t.limitType}`}function Qc(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(s=>fI(s)).join(", ")}]`),Og(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(s=>function(A){return`${A.field.canonicalString()} (${A.dir})`}(s)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(s=>Tu(s)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(s=>Tu(s)).join(",")),`Target(${n})`}(mA(t))}; limitType=${t.limitType})`}function Mg(t,e){return e.isFoundDocument()&&function(n,s){const i=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):ct.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,s){for(const i of rh(n))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,s){for(const i of n.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(n,s){return!(n.startAt&&!function(A,a,o){const c=Ub(A,a,o);return A.inclusive?c<=0:c<0}(n.startAt,rh(n),s)||n.endAt&&!function(A,a,o){const c=Ub(A,a,o);return A.inclusive?c>=0:c>0}(n.endAt,rh(n),s))}(t,e)}function Gj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function vI(t){return(e,r)=>{let n=!1;for(const s of rh(t)){const i=qj(s,e,r);if(i!==0)return i;n=n||s.field.isKeyField()}return 0}}function qj(t,e,r){const n=t.field.isKeyField()?ct.comparator(e.key,r.key):function(i,A,a){const o=A.data.field(i),c=a.data.field(i);return o!==null&&c!==null?Fu(o,c):xt()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return xt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[s,i]of n)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,r]);s.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],e))return n.length===1?delete this.inner[r]:n.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Xl(this.inner,(r,n)=>{for(const[s,i]of n)e(s,i)})}isEmpty(){return aI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wj=new Fr(ct.comparator);function la(){return Wj}const yI=new Fr(ct.comparator);function Ld(...t){let e=yI;for(const r of t)e=e.insert(r.key,r);return e}function wI(t){let e=yI;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function Il(){return nh()}function xI(){return nh()}function nh(){return new Gu(t=>t.toString(),(t,e)=>t.isEqual(e))}const $j=new Fr(ct.comparator),Yj=new Fn(ct.comparator);function Ht(...t){let e=Yj;for(const r of t)e=e.add(r);return e}const Jj=new Fn(Wt);function Xj(){return Jj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$m(e)?"-0":e}}function BI(t){return{integerValue:""+t}}function Zj(t,e){return Nj(e)?BI(e):p2(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(){this._=void 0}}function eP(t,e,r){return t instanceof Jm?function(s,i){const A={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&l2(i)&&(i=c2(i)),i&&(A.fields.__previous_value__=i),{mapValue:A}}(r,e):t instanceof Dh?CI(t,e):t instanceof Rh?EI(t,e):function(s,i){const A=bI(s,i),a=Pb(A)+Pb(s.Pe);return ny(A)&&ny(s.Pe)?BI(a):p2(s.serializer,a)}(t,e)}function tP(t,e,r){return t instanceof Dh?CI(t,e):t instanceof Rh?EI(t,e):r}function bI(t,e){return t instanceof Xm?function(n){return ny(n)||function(i){return!!i&&"doubleValue"in i}(n)}(e)?e:{integerValue:0}:null}class Jm extends Vg{}class Dh extends Vg{constructor(e){super(),this.elements=e}}function CI(t,e){const r=_I(e);for(const n of t.elements)r.some(s=>yA(s,n))||r.push(n);return{arrayValue:{values:r}}}class Rh extends Vg{constructor(e){super(),this.elements=e}}function EI(t,e){let r=_I(e);for(const n of t.elements)r=r.filter(s=>!yA(s,n));return{arrayValue:{values:r}}}class Xm extends Vg{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function Pb(t){return Kr(t.integerValue||t.doubleValue)}function _I(t){return u2(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function rP(t,e){return t.field.isEqual(e.field)&&function(n,s){return n instanceof Dh&&s instanceof Dh||n instanceof Rh&&s instanceof Rh?Nu(n.elements,s.elements,yA):n instanceof Xm&&s instanceof Xm?yA(n.Pe,s.Pe):n instanceof Jm&&s instanceof Jm}(t.transform,e.transform)}class nP{constructor(e,r){this.version=e,this.transformResults=r}}class Ss{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Ss}static exists(e){return new Ss(void 0,e)}static updateTime(e){return new Ss(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Kg{}function II(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new zg(t.key,Ss.none()):new af(t.key,t.data,Ss.none());{const r=t.data,n=bs.empty();let s=new Fn(In.comparator);for(let i of e.fields)if(!s.has(i)){let A=r.field(i);A===null&&i.length>1&&(i=i.popLast(),A=r.field(i)),A===null?n.delete(i):n.set(i,A),s=s.add(i)}return new $o(t.key,n,new Ks(s.toArray()),Ss.none())}}function sP(t,e,r){t instanceof af?function(s,i,A){const a=s.value.clone(),o=Rb(s.fieldTransforms,i,A.transformResults);a.setAll(o),i.convertToFoundDocument(A.version,a).setHasCommittedMutations()}(t,e,r):t instanceof $o?function(s,i,A){if(!rm(s.precondition,i))return void i.convertToUnknownDocument(A.version);const a=Rb(s.fieldTransforms,i,A.transformResults),o=i.data;o.setAll(SI(s)),o.setAll(a),i.convertToFoundDocument(A.version,o).setHasCommittedMutations()}(t,e,r):function(s,i,A){i.convertToNoDocument(A.version).setHasCommittedMutations()}(0,e,r)}function sh(t,e,r,n){return t instanceof af?function(i,A,a,o){if(!rm(i.precondition,A))return a;const c=i.value.clone(),h=Ob(i.fieldTransforms,o,A);return c.setAll(h),A.convertToFoundDocument(A.version,c).setHasLocalMutations(),null}(t,e,r,n):t instanceof $o?function(i,A,a,o){if(!rm(i.precondition,A))return a;const c=Ob(i.fieldTransforms,o,A),h=A.data;return h.setAll(SI(i)),h.setAll(c),A.convertToFoundDocument(A.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,r,n):function(i,A,a){return rm(i.precondition,A)?(A.convertToNoDocument(A.version).setHasLocalMutations(),null):a}(t,e,r)}function iP(t,e){let r=null;for(const n of t.fieldTransforms){const s=e.data.field(n.field),i=bI(n.transform,s||null);i!=null&&(r===null&&(r=bs.empty()),r.set(n.field,i))}return r||null}function Db(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&Nu(n,s,(i,A)=>rP(i,A))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class af extends Kg{constructor(e,r,n,s=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class $o extends Kg{constructor(e,r,n,s,i=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function SI(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function Rb(t,e,r){const n=new Map;ir(t.length===r.length);for(let s=0;s<r.length;s++){const i=t[s],A=i.transform,a=e.data.field(i.field);n.set(i.field,tP(A,a,r[s]))}return n}function Ob(t,e,r){const n=new Map;for(const s of t){const i=s.transform,A=r.data.field(s.field);n.set(s.field,eP(i,A,e))}return n}class zg extends Kg{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AP extends Kg{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e,r,n,s){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=s}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&sP(i,e,n[s])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=sh(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=sh(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=xI();return this.mutations.forEach(s=>{const i=e.get(s.key),A=i.overlayedDocument;let a=this.applyToLocalView(A,i.mutatedFields);a=r.has(s.key)?null:a;const o=II(A,a);o!==null&&n.set(s.key,o),A.isValidDocument()||A.convertToNoDocument(_t.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Ht())}isEqual(e){return this.batchId===e.batchId&&Nu(this.mutations,e.mutations,(r,n)=>Db(r,n))&&Nu(this.baseMutations,e.baseMutations,(r,n)=>Db(r,n))}}class m2{constructor(e,r,n,s){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=s}static from(e,r,n){ir(e.mutations.length===n.length);let s=function(){return $j}();const i=e.mutations;for(let A=0;A<i.length;A++)s=s.insert(i[A].key,n[A].version);return new m2(e,r,n,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn,Kt;function cP(t){switch(t){default:return xt();case Re.CANCELLED:case Re.UNKNOWN:case Re.DEADLINE_EXCEEDED:case Re.RESOURCE_EXHAUSTED:case Re.INTERNAL:case Re.UNAVAILABLE:case Re.UNAUTHENTICATED:return!1;case Re.INVALID_ARGUMENT:case Re.NOT_FOUND:case Re.ALREADY_EXISTS:case Re.PERMISSION_DENIED:case Re.FAILED_PRECONDITION:case Re.ABORTED:case Re.OUT_OF_RANGE:case Re.UNIMPLEMENTED:case Re.DATA_LOSS:return!0}}function NI(t){if(t===void 0)return oa("GRPC error has no .code"),Re.UNKNOWN;switch(t){case tn.OK:return Re.OK;case tn.CANCELLED:return Re.CANCELLED;case tn.UNKNOWN:return Re.UNKNOWN;case tn.DEADLINE_EXCEEDED:return Re.DEADLINE_EXCEEDED;case tn.RESOURCE_EXHAUSTED:return Re.RESOURCE_EXHAUSTED;case tn.INTERNAL:return Re.INTERNAL;case tn.UNAVAILABLE:return Re.UNAVAILABLE;case tn.UNAUTHENTICATED:return Re.UNAUTHENTICATED;case tn.INVALID_ARGUMENT:return Re.INVALID_ARGUMENT;case tn.NOT_FOUND:return Re.NOT_FOUND;case tn.ALREADY_EXISTS:return Re.ALREADY_EXISTS;case tn.PERMISSION_DENIED:return Re.PERMISSION_DENIED;case tn.FAILED_PRECONDITION:return Re.FAILED_PRECONDITION;case tn.ABORTED:return Re.ABORTED;case tn.OUT_OF_RANGE:return Re.OUT_OF_RANGE;case tn.UNIMPLEMENTED:return Re.UNIMPLEMENTED;case tn.DATA_LOSS:return Re.DATA_LOSS;default:return xt()}}(Kt=tn||(tn={}))[Kt.OK=0]="OK",Kt[Kt.CANCELLED=1]="CANCELLED",Kt[Kt.UNKNOWN=2]="UNKNOWN",Kt[Kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kt[Kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kt[Kt.NOT_FOUND=5]="NOT_FOUND",Kt[Kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kt[Kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kt[Kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kt[Kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kt[Kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kt[Kt.ABORTED=10]="ABORTED",Kt[Kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kt[Kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kt[Kt.INTERNAL=13]="INTERNAL",Kt[Kt.UNAVAILABLE=14]="UNAVAILABLE",Kt[Kt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP=new kl([4294967295,4294967295],0);function Hb(t){const e=uP().encode(t),r=new Z_;return r.update(e),new Uint8Array(r.digest())}function Mb(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new kl([r,n],0),new kl([s,i],0)]}class g2{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new jd(`Invalid padding: ${r}`);if(n<0)throw new jd(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new jd(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new jd(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=kl.fromNumber(this.Ie)}Ee(e,r,n){let s=e.add(r.multiply(kl.fromNumber(n)));return s.compare(dP)===1&&(s=new kl([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=Hb(e),[n,s]=Mb(r);for(let i=0;i<this.hashCount;i++){const A=this.Ee(n,s,i);if(!this.de(A))return!1}return!0}static create(e,r,n){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),A=new g2(i,s,r);return n.forEach(a=>A.insert(a)),A}insert(e){if(this.Ie===0)return;const r=Hb(e),[n,s]=Mb(r);for(let i=0;i<this.hashCount;i++){const A=this.Ee(n,s,i);this.Ae(A)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class jd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,r,n,s,i){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const s=new Map;return s.set(e,of.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Gg(_t.min(),s,new Fr(Wt),la(),Ht())}}class of{constructor(e,r,n,s,i){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new of(n,r,Ht(),Ht(),Ht())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e,r,n,s){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=s}}class FI{constructor(e,r){this.targetId=e,this.me=r}}class TI{constructor(e,r,n=kn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=s}}class Vb{constructor(){this.fe=0,this.ge=zb(),this.pe=kn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ht(),r=Ht(),n=Ht();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:r=r.add(s);break;case 1:n=n.add(s);break;default:xt()}}),new of(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=zb()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ir(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class hP{constructor(e){this.Le=e,this.Be=new Map,this.ke=la(),this.qe=Kb(),this.Qe=new Fr(Wt)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:xt()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,s)=>{this.ze(s)&&r(s)})}He(e){const r=e.targetId,n=e.me.count,s=this.Je(r);if(s){const i=s.target;if(iy(i))if(n===0){const A=new ct(i.path);this.Ue(r,A,Wn.newNoDocument(A,_t.min()))}else ir(n===1);else{const A=this.Ye(r);if(A!==n){const a=this.Ze(e),o=a?this.Xe(a,e,A):1;if(o!==0){this.je(r);const c=o===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,c)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:s=0},hashCount:i=0}=r;let A,a;try{A=zl(n).toUint8Array()}catch(o){if(o instanceof oI)return Su("Decoding the base64 bloom filter in existence filter failed ("+o.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw o}try{a=new g2(A,s,i)}catch(o){return Su(o instanceof jd?"BloomFilter error: ":"Applying bloom filter failed: ",o),null}return a.Ie===0?null:a}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let s=0;return n.forEach(i=>{const A=this.Le.tt(),a=`projects/${A.projectId}/databases/${A.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(r,i,null),s++)}),s}rt(e){const r=new Map;this.Be.forEach((i,A)=>{const a=this.Je(A);if(a){if(i.current&&iy(a.target)){const o=new ct(a.target.path);this.ke.get(o)!==null||this.it(A,o)||this.Ue(A,o,Wn.newNoDocument(o,e))}i.be&&(r.set(A,i.ve()),i.Ce())}});let n=Ht();this.qe.forEach((i,A)=>{let a=!0;A.forEachWhile(o=>{const c=this.Je(o);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(n=n.add(i))}),this.ke.forEach((i,A)=>A.setReadTime(e));const s=new Gg(e,r,this.Qe,this.ke,n);return this.ke=la(),this.qe=Kb(),this.Qe=new Fr(Wt),s}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,r)?s.Fe(r,1):s.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new Vb,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Fn(Wt),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||at("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Vb),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function Kb(){return new Fr(ct.comparator)}function zb(){return new Fr(ct.comparator)}const fP={asc:"ASCENDING",desc:"DESCENDING"},pP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mP={and:"AND",or:"OR"};class gP{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function oy(t,e){return t.useProto3Json||Og(e)?e:{value:e}}function Zm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function vP(t,e){return Zm(t,e.toTimestamp())}function gA(t){return ir(!!t),_t.fromTimestamp(function(r){const n=jo(r);return new $r(n.seconds,n.nanos)}(t))}function v2(t,e){return ly(t,e).canonicalString()}function ly(t,e){const r=function(s){return new xr(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?r:r.child(e)}function UI(t){const e=xr.fromString(t);return ir(DI(e)),e}function cy(t,e){return v2(t.databaseId,e.path)}function m1(t,e){const r=UI(e);if(r.get(1)!==t.databaseId.projectId)throw new st(Re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new st(Re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new ct(LI(r))}function QI(t,e){return v2(t.databaseId,e)}function yP(t){const e=UI(t);return e.length===4?xr.emptyPath():LI(e)}function uy(t){return new xr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function LI(t){return ir(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Gb(t,e,r){return{name:cy(t,e),fields:r.value.mapValue.fields}}function wP(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:xt()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,h){return c.useProto3Json?(ir(h===void 0||typeof h=="string"),kn.fromBase64String(h||"")):(ir(h===void 0||h instanceof Buffer||h instanceof Uint8Array),kn.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),A=e.targetChange.cause,a=A&&function(c){const h=c.code===void 0?Re.UNKNOWN:NI(c.code);return new st(h,c.message||"")}(A);r=new TI(n,s,i,a||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const s=m1(t,n.document.name),i=gA(n.document.updateTime),A=n.document.createTime?gA(n.document.createTime):_t.min(),a=new bs({mapValue:{fields:n.document.fields}}),o=Wn.newFoundDocument(s,i,A,a),c=n.targetIds||[],h=n.removedTargetIds||[];r=new nm(c,h,o.key,o)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const s=m1(t,n.document),i=n.readTime?gA(n.readTime):_t.min(),A=Wn.newNoDocument(s,i),a=n.removedTargetIds||[];r=new nm([],a,A.key,A)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const s=m1(t,n.document),i=n.removedTargetIds||[];r=new nm([],i,s,null)}else{if(!("filter"in e))return xt();{e.filter;const n=e.filter;n.targetId;const{count:s=0,unchangedNames:i}=n,A=new lP(s,i),a=n.targetId;r=new FI(a,A)}}return r}function xP(t,e){let r;if(e instanceof af)r={update:Gb(t,e.key,e.value)};else if(e instanceof zg)r={delete:cy(t,e.key)};else if(e instanceof $o)r={update:Gb(t,e.key,e.data),updateMask:FP(e.fieldMask)};else{if(!(e instanceof AP))return xt();r={verify:cy(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(i,A){const a=A.transform;if(a instanceof Jm)return{fieldPath:A.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Dh)return{fieldPath:A.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Rh)return{fieldPath:A.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Xm)return{fieldPath:A.field.canonicalString(),increment:a.Pe};throw xt()}(0,n))),e.precondition.isNone||(r.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:vP(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:xt()}(t,e.precondition)),r}function BP(t,e){return t&&t.length>0?(ir(e!==void 0),t.map(r=>function(s,i){let A=s.updateTime?gA(s.updateTime):gA(i);return A.isEqual(_t.min())&&(A=gA(i)),new nP(A,s.transformResults||[])}(r,e))):[]}function bP(t,e){return{documents:[QI(t,e.path)]}}function CP(t,e){const r={structuredQuery:{}},n=e.path;let s;e.collectionGroup!==null?(s=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=QI(t,s);const i=function(c){if(c.length!==0)return PI(Hi.create(c,"and"))}(e.filters);i&&(r.structuredQuery.where=i);const A=function(c){if(c.length!==0)return c.map(h=>function(g){return{field:Lc(g.field),direction:IP(g.dir)}}(h))}(e.orderBy);A&&(r.structuredQuery.orderBy=A);const a=oy(t,e.limit);return a!==null&&(r.structuredQuery.limit=a),e.startAt&&(r.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:r,parent:s}}function EP(t){let e=yP(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let s=null;if(n>0){ir(n===1);const h=r.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];r.where&&(i=function(f){const g=jI(f);return g instanceof Hi&&dI(g)?g.getFilters():[g]}(r.where));let A=[];r.orderBy&&(A=function(f){return f.map(g=>function(B){return new Ph(jc(B.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(B.direction))}(g))}(r.orderBy));let a=null;r.limit&&(a=function(f){let g;return g=typeof f=="object"?f.value:f,Og(g)?null:g}(r.limit));let o=null;r.startAt&&(o=function(f){const g=!!f.before,m=f.values||[];return new Ym(m,g)}(r.startAt));let c=null;return r.endAt&&(c=function(f){const g=!f.before,m=f.values||[];return new Ym(m,g)}(r.endAt)),Kj(e,s,A,i,a,"F",o,c)}function _P(t,e){const r=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xt()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function jI(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=jc(r.unaryFilter.field);return sn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=jc(r.unaryFilter.field);return sn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=jc(r.unaryFilter.field);return sn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const A=jc(r.unaryFilter.field);return sn.create(A,"!=",{nullValue:"NULL_VALUE"});default:return xt()}}(t):t.fieldFilter!==void 0?function(r){return sn.create(jc(r.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xt()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Hi.create(r.compositeFilter.filters.map(n=>jI(n)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return xt()}}(r.compositeFilter.op))}(t):xt()}function IP(t){return fP[t]}function SP(t){return pP[t]}function NP(t){return mP[t]}function Lc(t){return{fieldPath:t.canonicalString()}}function jc(t){return In.fromServerFormat(t.fieldPath)}function PI(t){return t instanceof sn?function(r){if(r.op==="=="){if(kb(r.value))return{unaryFilter:{field:Lc(r.field),op:"IS_NAN"}};if(Tb(r.value))return{unaryFilter:{field:Lc(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(kb(r.value))return{unaryFilter:{field:Lc(r.field),op:"IS_NOT_NAN"}};if(Tb(r.value))return{unaryFilter:{field:Lc(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lc(r.field),op:SP(r.op),value:r.value}}}(t):t instanceof Hi?function(r){const n=r.getFilters().map(s=>PI(s));return n.length===1?n[0]:{compositeFilter:{op:NP(r.op),filters:n}}}(t):xt()}function FP(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function DI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,r,n,s,i=_t.min(),A=_t.min(),a=kn.EMPTY_BYTE_STRING,o=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=A,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new co(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e){this.ct=e}}function kP(t){const e=EP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ay(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(){this.un=new QP}addToCollectionParentIndex(e,r){return this.un.add(r),Ke.resolve()}getCollectionParents(e,r){return Ke.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return Ke.resolve()}deleteFieldIndex(e,r){return Ke.resolve()}deleteAllFieldIndexes(e){return Ke.resolve()}createTargetIndexes(e,r){return Ke.resolve()}getDocumentsMatchingTarget(e,r){return Ke.resolve(null)}getIndexType(e,r){return Ke.resolve(0)}getFieldIndexes(e,r){return Ke.resolve([])}getNextCollectionGroupToUpdate(e){return Ke.resolve(null)}getMinOffset(e,r){return Ke.resolve(Lo.min())}getMinOffsetFromCollectionGroup(e,r){return Ke.resolve(Lo.min())}updateCollectionGroup(e,r,n){return Ke.resolve()}updateIndexEntries(e,r){return Ke.resolve()}}class QP{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),s=this.index[r]||new Fn(xr.comparator),i=!s.has(n);return this.index[r]=s.add(n),i}has(e){const r=e.lastSegment(),n=e.popLast(),s=this.index[r];return s&&s.has(n)}getEntries(e){return(this.index[e]||new Fn(xr.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ku(0)}static kn(){return new ku(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(){this.changes=new Gu(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Wn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?Ke.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e,r,n,s){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=s}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(s=>(n=s,this.remoteDocumentCache.getEntry(e,r))).next(s=>(n!==null&&sh(n.mutation,s,Ks.empty(),$r.now()),s))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Ht()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Ht()){const s=Il();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,n).next(i=>{let A=Ld();return i.forEach((a,o)=>{A=A.insert(a,o.overlayedDocument)}),A}))}getOverlayedDocuments(e,r){const n=Il();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Ht()))}populateOverlays(e,r,n){const s=[];return n.forEach(i=>{r.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((A,a)=>{r.set(A,a)})})}computeViews(e,r,n,s){let i=la();const A=nh(),a=function(){return nh()}();return r.forEach((o,c)=>{const h=n.get(c.key);s.has(c.key)&&(h===void 0||h.mutation instanceof $o)?i=i.insert(c.key,c):h!==void 0?(A.set(c.key,h.mutation.getFieldMask()),sh(h.mutation,c,h.mutation.getFieldMask(),$r.now())):A.set(c.key,Ks.empty())}),this.recalculateAndSaveOverlays(e,i).next(o=>(o.forEach((c,h)=>A.set(c,h)),r.forEach((c,h)=>{var f;return a.set(c,new jP(h,(f=A.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,r){const n=nh();let s=new Fr((A,a)=>A-a),i=Ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(A=>{for(const a of A)a.keys().forEach(o=>{const c=r.get(o);if(c===null)return;let h=n.get(o)||Ks.empty();h=a.applyToLocalView(c,h),n.set(o,h);const f=(s.get(a.batchId)||Ht()).add(o);s=s.insert(a.batchId,f)})}).next(()=>{const A=[],a=s.getReverseIterator();for(;a.hasNext();){const o=a.getNext(),c=o.key,h=o.value,f=xI();h.forEach(g=>{if(!i.has(g)){const m=II(r.get(g),n.get(g));m!==null&&f.set(g,m),i=i.add(g)}}),A.push(this.documentOverlayCache.saveOverlays(e,c,f))}return Ke.waitFor(A)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,s){return function(A){return ct.isDocumentKey(A.path)&&A.collectionGroup===null&&A.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):mI(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,s):this.getDocumentsMatchingCollectionQuery(e,r,n,s)}getNextDocuments(e,r,n,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,s).next(i=>{const A=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,s-i.size):Ke.resolve(Il());let a=-1,o=i;return A.next(c=>Ke.forEach(c,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?Ke.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{o=o.insert(h,g)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,o,c,Ht())).next(h=>({batchId:a,changes:wI(h)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new ct(r)).next(n=>{let s=Ld();return n.isFoundDocument()&&(s=s.insert(n.key,n)),s})}getDocumentsMatchingCollectionGroupQuery(e,r,n,s){const i=r.collectionGroup;let A=Ld();return this.indexManager.getCollectionParents(e,i).next(a=>Ke.forEach(a,o=>{const c=function(f,g){return new zu(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,n,s).next(h=>{h.forEach((f,g)=>{A=A.insert(f,g)})})}).next(()=>A))}getDocumentsMatchingCollectionQuery(e,r,n,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(A=>(i=A,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,i,s))).next(A=>{i.forEach((o,c)=>{const h=c.getKey();A.get(h)===null&&(A=A.insert(h,Wn.newInvalidDocument(h)))});let a=Ld();return A.forEach((o,c)=>{const h=i.get(o);h!==void 0&&sh(h.mutation,c,Ks.empty(),$r.now()),Mg(r,c)&&(a=a.insert(o,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return Ke.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(s){return{id:s.id,version:s.version,createTime:gA(s.createTime)}}(r)),Ke.resolve()}getNamedQuery(e,r){return Ke.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(s){return{name:s.name,query:kP(s.bundledQuery),readTime:gA(s.readTime)}}(r)),Ke.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(){this.overlays=new Fr(ct.comparator),this.Ir=new Map}getOverlay(e,r){return Ke.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Il();return Ke.forEach(r,s=>this.getOverlay(e,s).next(i=>{i!==null&&n.set(s,i)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((s,i)=>{this.ht(e,r,i)}),Ke.resolve()}removeOverlaysForBatchId(e,r,n){const s=this.Ir.get(n);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(n)),Ke.resolve()}getOverlaysForCollection(e,r,n){const s=Il(),i=r.length+1,A=new ct(r.child("")),a=this.overlays.getIteratorFrom(A);for(;a.hasNext();){const o=a.getNext().value,c=o.getKey();if(!r.isPrefixOf(c.path))break;c.path.length===i&&o.largestBatchId>n&&s.set(o.getKey(),o)}return Ke.resolve(s)}getOverlaysForCollectionGroup(e,r,n,s){let i=new Fr((c,h)=>c-h);const A=this.overlays.getIterator();for(;A.hasNext();){const c=A.getNext().value;if(c.getKey().getCollectionGroup()===r&&c.largestBatchId>n){let h=i.get(c.largestBatchId);h===null&&(h=Il(),i=i.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=Il(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=s)););return Ke.resolve(a)}ht(e,r,n){const s=this.overlays.get(n.key);if(s!==null){const A=this.Ir.get(s.largestBatchId).delete(n.key);this.Ir.set(s.largestBatchId,A)}this.overlays=this.overlays.insert(n.key,new oP(r,n));let i=this.Ir.get(r);i===void 0&&(i=Ht(),this.Ir.set(r,i)),this.Ir.set(r,i.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(){this.sessionToken=kn.EMPTY_BYTE_STRING}getSessionToken(e){return Ke.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,Ke.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(){this.Tr=new Fn(mn.Er),this.dr=new Fn(mn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new mn(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new mn(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new ct(new xr([])),n=new mn(r,e),s=new mn(r,e+1),i=[];return this.dr.forEachInRange([n,s],A=>{this.Vr(A),i.push(A.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new ct(new xr([])),n=new mn(r,e),s=new mn(r,e+1);let i=Ht();return this.dr.forEachInRange([n,s],A=>{i=i.add(A.key)}),i}containsKey(e){const r=new mn(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class mn{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return ct.comparator(e.key,r.key)||Wt(e.wr,r.wr)}static Ar(e,r){return Wt(e.wr,r.wr)||ct.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new Fn(mn.Er)}checkEmpty(e){return Ke.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const A=new aP(i,r,n,s);this.mutationQueue.push(A);for(const a of s)this.br=this.br.add(new mn(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ke.resolve(A)}lookupMutationBatch(e,r){return Ke.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,s=this.vr(n),i=s<0?0:s;return Ke.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Ke.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Ke.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new mn(r,0),s=new mn(r,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,s],A=>{const a=this.Dr(A.wr);i.push(a)}),Ke.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Fn(Wt);return r.forEach(s=>{const i=new mn(s,0),A=new mn(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,A],a=>{n=n.add(a.wr)})}),Ke.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,s=n.length+1;let i=n;ct.isDocumentKey(i)||(i=i.child(""));const A=new mn(new ct(i),0);let a=new Fn(Wt);return this.br.forEachWhile(o=>{const c=o.key.path;return!!n.isPrefixOf(c)&&(c.length===s&&(a=a.add(o.wr)),!0)},A),Ke.resolve(this.Cr(a))}Cr(e){const r=[];return e.forEach(n=>{const s=this.Dr(n);s!==null&&r.push(s)}),r}removeMutationBatch(e,r){ir(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return Ke.forEach(r.mutations,s=>{const i=new mn(s.key,r.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new mn(r,0),s=this.br.firstAfterOrEqual(n);return Ke.resolve(r.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ke.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e){this.Mr=e,this.docs=function(){return new Fr(ct.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,s=this.docs.get(n),i=s?s.size:0,A=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:A}),this.size+=A-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return Ke.resolve(n?n.document.mutableCopy():Wn.newInvalidDocument(r))}getEntries(e,r){let n=la();return r.forEach(s=>{const i=this.docs.get(s);n=n.insert(s,i?i.document.mutableCopy():Wn.newInvalidDocument(s))}),Ke.resolve(n)}getDocumentsMatchingQuery(e,r,n,s){let i=la();const A=r.path,a=new ct(A.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:c,value:{document:h}}=o.getNext();if(!A.isPrefixOf(c.path))break;c.path.length>A.length+1||Ej(Cj(h),n)<=0||(s.has(h.key)||Mg(r,h))&&(i=i.insert(h.key,h.mutableCopy()))}return Ke.resolve(i)}getAllFromCollectionGroup(e,r,n,s){xt()}Or(e,r){return Ke.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new VP(this)}getSize(e){return Ke.resolve(this.size)}}class VP extends LP{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,s)=>{s.isValidDocument()?r.push(this.cr.addEntry(e,s)):this.cr.removeEntry(n)}),Ke.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e){this.persistence=e,this.Nr=new Gu(r=>d2(r),h2),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.Lr=0,this.Br=new y2,this.targetCount=0,this.kr=ku.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,s)=>r(s)),Ke.resolve()}getLastRemoteSnapshotVersion(e){return Ke.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ke.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Ke.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),Ke.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new ku(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,Ke.resolve()}updateTargetData(e,r){return this.Kn(r),Ke.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,Ke.resolve()}removeTargets(e,r,n){let s=0;const i=[];return this.Nr.forEach((A,a)=>{a.sequenceNumber<=r&&n.get(a.targetId)===null&&(this.Nr.delete(A),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),Ke.waitFor(i).next(()=>s)}getTargetCount(e){return Ke.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return Ke.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),Ke.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const s=this.persistence.referenceDelegate,i=[];return s&&r.forEach(A=>{i.push(s.markPotentiallyOrphaned(e,A))}),Ke.waitFor(i)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),Ke.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return Ke.resolve(n)}containsKey(e,r){return Ke.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e,r){this.qr={},this.overlays={},this.Qr=new o2(0),this.Kr=!1,this.Kr=!0,this.$r=new OP,this.referenceDelegate=e(this),this.Ur=new KP(this),this.indexManager=new UP,this.remoteDocumentCache=function(s){return new MP(s)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new TP(r),this.Gr=new DP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new RP,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new HP(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){at("MemoryPersistence","Starting transaction:",e);const s=new GP(this.Qr.next());return this.referenceDelegate.zr(),n(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,r){return Ke.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class GP extends Ij{constructor(e){super(),this.currentSequenceNumber=e}}class w2{constructor(e){this.persistence=e,this.Jr=new y2,this.Yr=null}static Zr(e){return new w2(e)}get Xr(){if(this.Yr)return this.Yr;throw xt()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),Ke.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),Ke.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),Ke.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(s=>this.Xr.add(s.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ke.forEach(this.Xr,n=>{const s=ct.fromPath(n);return this.ei(e,s).next(i=>{i||r.removeEntry(s,_t.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return Ke.or([()=>Ke.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e,r,n,s){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=s}static Wi(e,r){let n=Ht(),s=Ht();for(const i of r.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new x2(e,r.fromCache,n,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return PU()?8:Sj(Zn())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,s){const i={result:null};return this.Yi(e,r).next(A=>{i.result=A}).next(()=>{if(!i.result)return this.Zi(e,r,s,n).next(A=>{i.result=A})}).next(()=>{if(i.result)return;const A=new qP;return this.Xi(e,r,A).next(a=>{if(i.result=a,this.zi)return this.es(e,r,A,a.size)})}).next(()=>i.result)}es(e,r,n,s){return n.documentReadCount<this.ji?(xd()<=Mt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Qc(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Ke.resolve()):(xd()<=Mt.DEBUG&&at("QueryEngine","Query:",Qc(r),"scans",n.documentReadCount,"local documents and returns",s,"documents as results."),n.documentReadCount>this.Hi*s?(xd()<=Mt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Qc(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mA(r))):Ke.resolve())}Yi(e,r){if(jb(r))return Ke.resolve(null);let n=mA(r);return this.indexManager.getIndexType(e,n).next(s=>s===0?null:(r.limit!==null&&s===1&&(r=ay(r,null,"F"),n=mA(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(i=>{const A=Ht(...i);return this.Ji.getDocuments(e,A).next(a=>this.indexManager.getMinOffset(e,n).next(o=>{const c=this.ts(r,a);return this.ns(r,c,A,o.readTime)?this.Yi(e,ay(r,null,"F")):this.rs(e,c,r,o)}))})))}Zi(e,r,n,s){return jb(r)||s.isEqual(_t.min())?Ke.resolve(null):this.Ji.getDocuments(e,n).next(i=>{const A=this.ts(r,i);return this.ns(r,A,n,s)?Ke.resolve(null):(xd()<=Mt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Qc(r)),this.rs(e,A,r,bj(s,-1)).next(a=>a))})}ts(e,r){let n=new Fn(vI(e));return r.forEach((s,i)=>{Mg(e,i)&&(n=n.add(i))}),n}ns(e,r,n,s){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const i=e.limitType==="F"?r.last():r.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,r,n){return xd()<=Mt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Qc(r)),this.Ji.getDocumentsMatchingQuery(e,r,Lo.min(),n)}rs(e,r,n,s){return this.Ji.getDocumentsMatchingQuery(e,n,s).next(i=>(r.forEach(A=>{i=i.insert(A.key,A)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e,r,n,s){this.persistence=e,this.ss=r,this.serializer=s,this.os=new Fr(Wt),this._s=new Gu(i=>d2(i),h2),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PP(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function YP(t,e,r,n){return new $P(t,e,r,n)}async function RI(t,e){const r=It(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let s;return r.mutationQueue.getAllMutationBatches(n).next(i=>(s=i,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(i=>{const A=[],a=[];let o=Ht();for(const c of s){A.push(c.batchId);for(const h of c.mutations)o=o.add(h.key)}for(const c of i){a.push(c.batchId);for(const h of c.mutations)o=o.add(h.key)}return r.localDocuments.getDocuments(n,o).next(c=>({hs:c,removedBatchIds:A,addedBatchIds:a}))})})}function JP(t,e){const r=It(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const s=e.batch.keys(),i=r.cs.newChangeBuffer({trackRemovals:!0});return function(a,o,c,h){const f=c.batch,g=f.keys();let m=Ke.resolve();return g.forEach(B=>{m=m.next(()=>h.getEntry(o,B)).next(b=>{const F=c.docVersions.get(B);ir(F!==null),b.version.compareTo(F)<0&&(f.applyToRemoteDocument(b,c),b.isValidDocument()&&(b.setReadTime(c.commitVersion),h.addEntry(b)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(o,f))}(r,n,e,i).next(()=>i.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,s,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(a){let o=Ht();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(o=o.add(a.batch.mutations[c].key));return o}(e))).next(()=>r.localDocuments.getDocuments(n,s))})}function OI(t){const e=It(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function XP(t,e){const r=It(t),n=e.snapshotVersion;let s=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const A=r.cs.newChangeBuffer({trackRemovals:!0});s=r.os;const a=[];e.targetChanges.forEach((h,f)=>{const g=s.get(f);if(!g)return;a.push(r.Ur.removeMatchingKeys(i,h.removedDocuments,f).next(()=>r.Ur.addMatchingKeys(i,h.addedDocuments,f)));let m=g.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(kn.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,n)),s=s.insert(f,m),function(b,F,y){return b.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(g,m,h)&&a.push(r.Ur.updateTargetData(i,m))});let o=la(),c=Ht();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(r.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(ZP(i,A,e.documentUpdates).next(h=>{o=h.Ps,c=h.Is})),!n.isEqual(_t.min())){const h=r.Ur.getLastRemoteSnapshotVersion(i).next(f=>r.Ur.setTargetsMetadata(i,i.currentSequenceNumber,n));a.push(h)}return Ke.waitFor(a).next(()=>A.apply(i)).next(()=>r.localDocuments.getLocalViewOfDocuments(i,o,c)).next(()=>o)}).then(i=>(r.os=s,i))}function ZP(t,e,r){let n=Ht(),s=Ht();return r.forEach(i=>n=n.add(i)),e.getEntries(t,n).next(i=>{let A=la();return r.forEach((a,o)=>{const c=i.get(a);o.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),o.isNoDocument()&&o.version.isEqual(_t.min())?(e.removeEntry(a,o.readTime),A=A.insert(a,o)):!c.isValidDocument()||o.version.compareTo(c.version)>0||o.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(o),A=A.insert(a,o)):at("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",o.version)}),{Ps:A,Is:s}})}function eD(t,e){const r=It(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function tD(t,e){const r=It(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let s;return r.Ur.getTargetData(n,e).next(i=>i?(s=i,Ke.resolve(s)):r.Ur.allocateTargetId(n).next(A=>(s=new co(e,A,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,s).next(()=>s))))}).then(n=>{const s=r.os.get(n.targetId);return(s===null||n.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function dy(t,e,r){const n=It(t),s=n.os.get(e),i=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",i,A=>n.persistence.referenceDelegate.removeTarget(A,s))}catch(A){if(!Af(A))throw A;at("LocalStore",`Failed to update sequence numbers for target ${e}: ${A}`)}n.os=n.os.remove(e),n._s.delete(s.target)}function qb(t,e,r){const n=It(t);let s=_t.min(),i=Ht();return n.persistence.runTransaction("Execute query","readwrite",A=>function(o,c,h){const f=It(o),g=f._s.get(h);return g!==void 0?Ke.resolve(f.os.get(g)):f.Ur.getTargetData(c,h)}(n,A,mA(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(A,a.targetId).next(o=>{i=o})}).next(()=>n.ss.getDocumentsMatchingQuery(A,e,r?s:_t.min(),r?i:Ht())).next(a=>(rD(n,Gj(e),a),{documents:a,Ts:i})))}function rD(t,e,r){let n=t.us.get(e)||_t.min();r.forEach((s,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)}),t.us.set(e,n)}class Wb{constructor(){this.activeTargetIds=Xj()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nD{constructor(){this.so=new Wb,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Wb,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){at("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){at("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ap=null;function g1(){return Ap===null?Ap=function(){return 268435456+Math.round(2147483648*Math.random())}():Ap++,"0x"+Ap.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rn="WebChannelConnection";class aD extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(r,n,s,i,A){const a=g1(),o=this.xo(r,n.toUriEncodedString());at("RestConnection",`Sending RPC '${r}' ${a}:`,o,s);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,i,A),this.No(r,o,c,s).then(h=>(at("RestConnection",`Received RPC '${r}' ${a}: `,h),h),h=>{throw Su("RestConnection",`RPC '${r}' ${a} failed with error: `,h,"url: ",o,"request:",s),h})}Lo(r,n,s,i,A,a){return this.Mo(r,n,s,i,A)}Oo(r,n,s){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ku}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,A)=>r[A]=i),s&&s.headers.forEach((i,A)=>r[A]=i)}xo(r,n){const s=iD[r];return`${this.Do}/v1/${n}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,s){const i=g1();return new Promise((A,a)=>{const o=new eI;o.setWithCredentials(!0),o.listenOnce(tI.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case em.NO_ERROR:const h=o.getResponseJson();at(Rn,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),A(h);break;case em.TIMEOUT:at(Rn,`RPC '${e}' ${i} timed out`),a(new st(Re.DEADLINE_EXCEEDED,"Request time out"));break;case em.HTTP_ERROR:const f=o.getStatus();if(at(Rn,`RPC '${e}' ${i} failed with status:`,f,"response text:",o.getResponseText()),f>0){let g=o.getResponseJson();Array.isArray(g)&&(g=g[0]);const m=g==null?void 0:g.error;if(m&&m.status&&m.message){const B=function(F){const y=F.toLowerCase().replace(/_/g,"-");return Object.values(Re).indexOf(y)>=0?y:Re.UNKNOWN}(m.status);a(new st(B,m.message))}else a(new st(Re.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new st(Re.UNAVAILABLE,"Connection failed."));break;default:xt()}}finally{at(Rn,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);at(Rn,`RPC '${e}' ${i} sending request:`,s),o.send(r,"POST",c,n,15)})}Bo(e,r,n){const s=g1(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],A=sI(),a=nI(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(o.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Oo(o.initMessageHeaders,r,n),o.encodeInitMessageHeaders=!0;const h=i.join("");at(Rn,`Creating RPC '${e}' stream ${s}: ${h}`,o);const f=A.createWebChannel(h,o);let g=!1,m=!1;const B=new AD({Io:F=>{m?at(Rn,`Not sending because RPC '${e}' stream ${s} is closed:`,F):(g||(at(Rn,`Opening RPC '${e}' stream ${s} transport.`),f.open(),g=!0),at(Rn,`RPC '${e}' stream ${s} sending:`,F),f.send(F))},To:()=>f.close()}),b=(F,y,x)=>{F.listen(y,S=>{try{x(S)}catch(D){setTimeout(()=>{throw D},0)}})};return b(f,Qd.EventType.OPEN,()=>{m||(at(Rn,`RPC '${e}' stream ${s} transport opened.`),B.yo())}),b(f,Qd.EventType.CLOSE,()=>{m||(m=!0,at(Rn,`RPC '${e}' stream ${s} transport closed`),B.So())}),b(f,Qd.EventType.ERROR,F=>{m||(m=!0,Su(Rn,`RPC '${e}' stream ${s} transport errored:`,F),B.So(new st(Re.UNAVAILABLE,"The operation could not be completed")))}),b(f,Qd.EventType.MESSAGE,F=>{var y;if(!m){const x=F.data[0];ir(!!x);const S=x,D=S.error||((y=S[0])===null||y===void 0?void 0:y.error);if(D){at(Rn,`RPC '${e}' stream ${s} received error:`,D);const V=D.status;let G=function(k){const N=tn[k];if(N!==void 0)return NI(N)}(V),Q=D.message;G===void 0&&(G=Re.INTERNAL,Q="Unknown error status: "+V+" with message "+D.message),m=!0,B.So(new st(G,Q)),f.close()}else at(Rn,`RPC '${e}' stream ${s} received:`,x),B.bo(x)}}),b(a,rI.STAT_EVENT,F=>{F.stat===ty.PROXY?at(Rn,`RPC '${e}' stream ${s} detected buffering proxy`):F.stat===ty.NOPROXY&&at(Rn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{B.wo()},0),B}}function v1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qg(t){return new gP(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e,r,n=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),s=Math.max(0,r-n);s>0&&at("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e,r,n,s,i,A,a,o){this.ui=e,this.Ho=n,this.Jo=s,this.connection=i,this.authCredentialsProvider=A,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new HI(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===Re.RESOURCE_EXHAUSTED?(oa(r.toString()),oa("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===Re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,s])=>{this.Yo===r&&this.P_(n,s)},n=>{e(()=>{const s=new st(Re.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(s)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{n(()=>this.I_(s))}),this.stream.onMessage(s=>{n(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return at("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(at("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class oD extends MI{constructor(e,r,n,s,i,A){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,s,A),this.serializer=i}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=wP(this.serializer,e),n=function(i){if(!("targetChange"in i))return _t.min();const A=i.targetChange;return A.targetIds&&A.targetIds.length?_t.min():A.readTime?gA(A.readTime):_t.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=uy(this.serializer),r.addTarget=function(i,A){let a;const o=A.target;if(a=iy(o)?{documents:bP(i,o)}:{query:CP(i,o)._t},a.targetId=A.targetId,A.resumeToken.approximateByteSize()>0){a.resumeToken=kI(i,A.resumeToken);const c=oy(i,A.expectedCount);c!==null&&(a.expectedCount=c)}else if(A.snapshotVersion.compareTo(_t.min())>0){a.readTime=Zm(i,A.snapshotVersion.toTimestamp());const c=oy(i,A.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const n=_P(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=uy(this.serializer),r.removeTarget=e,this.a_(r)}}class lD extends MI{constructor(e,r,n,s,i,A){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,s,A),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return ir(!!e.streamToken),this.lastStreamToken=e.streamToken,ir(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ir(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=BP(e.writeResults,e.commitTime),n=gA(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=uy(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>xP(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD extends class{}{constructor(e,r,n,s){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new st(Re.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,A])=>this.connection.Mo(e,ly(r,n),s,i,A)).catch(i=>{throw i.name==="FirebaseError"?(i.code===Re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new st(Re.UNKNOWN,i.toString())})}Lo(e,r,n,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([A,a])=>this.connection.Lo(e,ly(r,n),s,A,a,i)).catch(A=>{throw A.name==="FirebaseError"?(A.code===Re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),A):new st(Re.UNKNOWN,A.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class uD{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(oa(r),this.D_=!1):at("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e,r,n,s,i){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(A=>{n.enqueueAndForget(async()=>{Zl(this)&&(at("RemoteStore","Restarting streams for network reachability change."),await async function(o){const c=It(o);c.L_.add(4),await lf(c),c.q_.set("Unknown"),c.L_.delete(4),await Wg(c)}(this))})}),this.q_=new uD(n,s)}}async function Wg(t){if(Zl(t))for(const e of t.B_)await e(!0)}async function lf(t){for(const e of t.B_)await e(!1)}function VI(t,e){const r=It(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),E2(r)?C2(r):qu(r).r_()&&b2(r,e))}function B2(t,e){const r=It(t),n=qu(r);r.N_.delete(e),n.r_()&&KI(r,e),r.N_.size===0&&(n.r_()?n.o_():Zl(r)&&r.q_.set("Unknown"))}function b2(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_t.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}qu(t).A_(e)}function KI(t,e){t.Q_.xe(e),qu(t).R_(e)}function C2(t){t.Q_=new hP({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),qu(t).start(),t.q_.v_()}function E2(t){return Zl(t)&&!qu(t).n_()&&t.N_.size>0}function Zl(t){return It(t).L_.size===0}function zI(t){t.Q_=void 0}async function hD(t){t.q_.set("Online")}async function fD(t){t.N_.forEach((e,r)=>{b2(t,e)})}async function pD(t,e){zI(t),E2(t)?(t.q_.M_(e),C2(t)):t.q_.set("Unknown")}async function mD(t,e,r){if(t.q_.set("Online"),e instanceof TI&&e.state===2&&e.cause)try{await async function(s,i){const A=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,A),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(n){at("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await eg(t,n)}else if(e instanceof nm?t.Q_.Ke(e):e instanceof FI?t.Q_.He(e):t.Q_.We(e),!r.isEqual(_t.min()))try{const n=await OI(t.localStore);r.compareTo(n)>=0&&await function(i,A){const a=i.Q_.rt(A);return a.targetChanges.forEach((o,c)=>{if(o.resumeToken.approximateByteSize()>0){const h=i.N_.get(c);h&&i.N_.set(c,h.withResumeToken(o.resumeToken,A))}}),a.targetMismatches.forEach((o,c)=>{const h=i.N_.get(o);if(!h)return;i.N_.set(o,h.withResumeToken(kn.EMPTY_BYTE_STRING,h.snapshotVersion)),KI(i,o);const f=new co(h.target,o,c,h.sequenceNumber);b2(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,r)}catch(n){at("RemoteStore","Failed to raise snapshot:",n),await eg(t,n)}}async function eg(t,e,r){if(!Af(e))throw e;t.L_.add(1),await lf(t),t.q_.set("Offline"),r||(r=()=>OI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{at("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await Wg(t)})}function GI(t,e){return e().catch(r=>eg(t,r,e))}async function $g(t){const e=It(t),r=Po(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;gD(e);)try{const s=await eD(e.localStore,n);if(s===null){e.O_.length===0&&r.o_();break}n=s.batchId,vD(e,s)}catch(s){await eg(e,s)}qI(e)&&WI(e)}function gD(t){return Zl(t)&&t.O_.length<10}function vD(t,e){t.O_.push(e);const r=Po(t);r.r_()&&r.V_&&r.m_(e.mutations)}function qI(t){return Zl(t)&&!Po(t).n_()&&t.O_.length>0}function WI(t){Po(t).start()}async function yD(t){Po(t).p_()}async function wD(t){const e=Po(t);for(const r of t.O_)e.m_(r.mutations)}async function xD(t,e,r){const n=t.O_.shift(),s=m2.from(n,e,r);await GI(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await $g(t)}async function BD(t,e){e&&Po(t).V_&&await async function(n,s){if(function(A){return cP(A)&&A!==Re.ABORTED}(s.code)){const i=n.O_.shift();Po(n).s_(),await GI(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,s)),await $g(n)}}(t,e),qI(t)&&WI(t)}async function Yb(t,e){const r=It(t);r.asyncQueue.verifyOperationInProgress(),at("RemoteStore","RemoteStore received new credentials");const n=Zl(r);r.L_.add(3),await lf(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await Wg(r)}async function bD(t,e){const r=It(t);e?(r.L_.delete(2),await Wg(r)):e||(r.L_.add(2),await lf(r),r.q_.set("Unknown"))}function qu(t){return t.K_||(t.K_=function(r,n,s){const i=It(r);return i.w_(),new oD(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:hD.bind(null,t),Ro:fD.bind(null,t),mo:pD.bind(null,t),d_:mD.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),E2(t)?C2(t):t.q_.set("Unknown")):(await t.K_.stop(),zI(t))})),t.K_}function Po(t){return t.U_||(t.U_=function(r,n,s){const i=It(r);return i.w_(),new lD(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:yD.bind(null,t),mo:BD.bind(null,t),f_:wD.bind(null,t),g_:xD.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await $g(t)):(await t.U_.stop(),t.O_.length>0&&(at("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,r,n,s,i){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=s,this.removalCallback=i,this.deferred=new No,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(A=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,s,i){const A=Date.now()+n,a=new _2(e,r,A,s,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(Re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function I2(t,e){if(oa("AsyncQueue",`${e}: ${t}`),Af(t))return new st(Re.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e){this.comparator=e?(r,n)=>e(r,n)||ct.comparator(r.key,n.key):(r,n)=>ct.comparator(r.key,n.key),this.keyedMap=Ld(),this.sortedSet=new Fr(this.comparator)}static emptySet(e){return new uu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof uu)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const s=r.getNext().key,i=n.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new uu;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(){this.W_=new Fr(ct.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):xt():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class Uu{constructor(e,r,n,s,i,A,a,o,c){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=s,this.mutatedKeys=i,this.fromCache=A,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=c}static fromInitialDocuments(e,r,n,s,i){const A=[];return r.forEach(a=>{A.push({type:0,doc:a})}),new Uu(e,r,uu.emptySet(r),A,n,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let s=0;s<r.length;s++)if(r[s].type!==n[s].type||!r[s].doc.isEqual(n[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class ED{constructor(){this.queries=Xb(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const s=It(r),i=s.queries;s.queries=Xb(),i.forEach((A,a)=>{for(const o of a.j_)o.onError(n)})})(this,new st(Re.ABORTED,"Firestore shutting down"))}}function Xb(){return new Gu(t=>gI(t),Hg)}async function $I(t,e){const r=It(t);let n=3;const s=e.query;let i=r.queries.get(s);i?!i.H_()&&e.J_()&&(n=2):(i=new CD,n=e.J_()?0:1);try{switch(n){case 0:i.z_=await r.onListen(s,!0);break;case 1:i.z_=await r.onListen(s,!1);break;case 2:await r.onFirstRemoteStoreListen(s)}}catch(A){const a=I2(A,`Initialization of query '${Qc(e.query)}' failed`);return void e.onError(a)}r.queries.set(s,i),i.j_.push(e),e.Z_(r.onlineState),i.z_&&e.X_(i.z_)&&S2(r)}async function YI(t,e){const r=It(t),n=e.query;let s=3;const i=r.queries.get(n);if(i){const A=i.j_.indexOf(e);A>=0&&(i.j_.splice(A,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function _D(t,e){const r=It(t);let n=!1;for(const s of e){const i=s.query,A=r.queries.get(i);if(A){for(const a of A.j_)a.X_(s)&&(n=!0);A.z_=s}}n&&S2(r)}function ID(t,e,r){const n=It(t),s=n.queries.get(e);if(s)for(const i of s.j_)i.onError(r);n.queries.delete(e)}function S2(t){t.Y_.forEach(e=>{e.next()})}var hy,Zb;(Zb=hy||(hy={})).ea="default",Zb.Cache="cache";class JI{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const s of e.docChanges)s.type!==3&&n.push(s);e=new Uu(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=Uu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==hy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e){this.key=e}}class ZI{constructor(e){this.key=e}}class SD{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ht(),this.mutatedKeys=Ht(),this.Aa=vI(e),this.Ra=new uu(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new Jb,s=r?r.Ra:this.Ra;let i=r?r.mutatedKeys:this.mutatedKeys,A=s,a=!1;const o=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const g=s.get(h),m=Mg(this.query,f)?f:null,B=!!g&&this.mutatedKeys.has(g.key),b=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let F=!1;g&&m?g.data.isEqual(m.data)?B!==b&&(n.track({type:3,doc:m}),F=!0):this.ga(g,m)||(n.track({type:2,doc:m}),F=!0,(o&&this.Aa(m,o)>0||c&&this.Aa(m,c)<0)&&(a=!0)):!g&&m?(n.track({type:0,doc:m}),F=!0):g&&!m&&(n.track({type:1,doc:g}),F=!0,(o||c)&&(a=!0)),F&&(m?(A=A.add(m),i=b?i.add(h):i.delete(h)):(A=A.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;A.size>this.query.limit;){const h=this.query.limitType==="F"?A.last():A.first();A=A.delete(h.key),i=i.delete(h.key),n.track({type:1,doc:h})}return{Ra:A,fa:n,ns:a,mutatedKeys:i}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const A=e.fa.G_();A.sort((h,f)=>function(m,B){const b=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xt()}};return b(m)-b(B)}(h.type,f.type)||this.Aa(h.doc,f.doc)),this.pa(n),s=s!=null&&s;const a=r&&!s?this.ya():[],o=this.da.size===0&&this.current&&!s?1:0,c=o!==this.Ea;return this.Ea=o,A.length!==0||c?{snapshot:new Uu(this.query,e.Ra,i,A,e.mutatedKeys,o===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Jb,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ht(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new ZI(n))}),this.da.forEach(n=>{e.has(n)||r.push(new XI(n))}),r}ba(e){this.Ta=e.Ts,this.da=Ht();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return Uu.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class ND{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class FD{constructor(e){this.key=e,this.va=!1}}class TD{constructor(e,r,n,s,i,A){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=A,this.Ca={},this.Fa=new Gu(a=>gI(a),Hg),this.Ma=new Map,this.xa=new Set,this.Oa=new Fr(ct.comparator),this.Na=new Map,this.La=new y2,this.Ba={},this.ka=new Map,this.qa=ku.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function kD(t,e,r=!0){const n=iS(t);let s;const i=n.Fa.get(e);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await eS(n,e,r,!0),s}async function UD(t,e){const r=iS(t);await eS(r,e,!0,!1)}async function eS(t,e,r,n){const s=await tD(t.localStore,mA(e)),i=s.targetId,A=t.sharedClientState.addLocalQueryTarget(i,r);let a;return n&&(a=await QD(t,e,i,A==="current",s.resumeToken)),t.isPrimaryClient&&r&&VI(t.remoteStore,s),a}async function QD(t,e,r,n,s){t.Ka=(f,g,m)=>async function(b,F,y,x){let S=F.view.ma(y);S.ns&&(S=await qb(b.localStore,F.query,!1).then(({documents:Q})=>F.view.ma(Q,S)));const D=x&&x.targetChanges.get(F.targetId),V=x&&x.targetMismatches.get(F.targetId)!=null,G=F.view.applyChanges(S,b.isPrimaryClient,D,V);return t5(b,F.targetId,G.wa),G.snapshot}(t,f,g,m);const i=await qb(t.localStore,e,!0),A=new SD(e,i.Ts),a=A.ma(i.documents),o=of.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",s),c=A.applyChanges(a,t.isPrimaryClient,o);t5(t,r,c.wa);const h=new ND(e,r,A);return t.Fa.set(e,h),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),c.snapshot}async function LD(t,e,r){const n=It(t),s=n.Fa.get(e),i=n.Ma.get(s.targetId);if(i.length>1)return n.Ma.set(s.targetId,i.filter(A=>!Hg(A,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await dy(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),r&&B2(n.remoteStore,s.targetId),fy(n,s.targetId)}).catch(sf)):(fy(n,s.targetId),await dy(n.localStore,s.targetId,!0))}async function jD(t,e){const r=It(t),n=r.Fa.get(e),s=r.Ma.get(n.targetId);r.isPrimaryClient&&s.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),B2(r.remoteStore,n.targetId))}async function PD(t,e,r){const n=KD(t);try{const s=await function(A,a){const o=It(A),c=$r.now(),h=a.reduce((m,B)=>m.add(B.key),Ht());let f,g;return o.persistence.runTransaction("Locally write mutations","readwrite",m=>{let B=la(),b=Ht();return o.cs.getEntries(m,h).next(F=>{B=F,B.forEach((y,x)=>{x.isValidDocument()||(b=b.add(y))})}).next(()=>o.localDocuments.getOverlayedDocuments(m,B)).next(F=>{f=F;const y=[];for(const x of a){const S=iP(x,f.get(x.key).overlayedDocument);S!=null&&y.push(new $o(x.key,S,lI(S.value.mapValue),Ss.exists(!0)))}return o.mutationQueue.addMutationBatch(m,c,y,a)}).next(F=>{g=F;const y=F.applyToLocalDocumentSet(f,b);return o.documentOverlayCache.saveOverlays(m,F.batchId,y)})}).then(()=>({batchId:g.batchId,changes:wI(f)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(s.batchId),function(A,a,o){let c=A.Ba[A.currentUser.toKey()];c||(c=new Fr(Wt)),c=c.insert(a,o),A.Ba[A.currentUser.toKey()]=c}(n,s.batchId,r),await cf(n,s.changes),await $g(n.remoteStore)}catch(s){const i=I2(s,"Failed to persist write");r.reject(i)}}async function tS(t,e){const r=It(t);try{const n=await XP(r.localStore,e);e.targetChanges.forEach((s,i)=>{const A=r.Na.get(i);A&&(ir(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?A.va=!0:s.modifiedDocuments.size>0?ir(A.va):s.removedDocuments.size>0&&(ir(A.va),A.va=!1))}),await cf(r,n,e)}catch(n){await sf(n)}}function e5(t,e,r){const n=It(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const s=[];n.Fa.forEach((i,A)=>{const a=A.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(A,a){const o=It(A);o.onlineState=a;let c=!1;o.queries.forEach((h,f)=>{for(const g of f.j_)g.Z_(a)&&(c=!0)}),c&&S2(o)}(n.eventManager,e),s.length&&n.Ca.d_(s),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function DD(t,e,r){const n=It(t);n.sharedClientState.updateQueryState(e,"rejected",r);const s=n.Na.get(e),i=s&&s.key;if(i){let A=new Fr(ct.comparator);A=A.insert(i,Wn.newNoDocument(i,_t.min()));const a=Ht().add(i),o=new Gg(_t.min(),new Map,new Fr(Wt),A,a);await tS(n,o),n.Oa=n.Oa.remove(i),n.Na.delete(e),N2(n)}else await dy(n.localStore,e,!1).then(()=>fy(n,e,r)).catch(sf)}async function RD(t,e){const r=It(t),n=e.batch.batchId;try{const s=await JP(r.localStore,e);nS(r,n,null),rS(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await cf(r,s)}catch(s){await sf(s)}}async function OD(t,e,r){const n=It(t);try{const s=await function(A,a){const o=It(A);return o.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return o.mutationQueue.lookupMutationBatch(c,a).next(f=>(ir(f!==null),h=f.keys(),o.mutationQueue.removeMutationBatch(c,f))).next(()=>o.mutationQueue.performConsistencyCheck(c)).next(()=>o.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>o.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>o.localDocuments.getDocuments(c,h))})}(n.localStore,e);nS(n,e,r),rS(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await cf(n,s)}catch(s){await sf(s)}}function rS(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function nS(t,e,r){const n=It(t);let s=n.Ba[n.currentUser.toKey()];if(s){const i=s.get(e);i&&(r?i.reject(r):i.resolve(),s=s.remove(e)),n.Ba[n.currentUser.toKey()]=s}}function fy(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||sS(t,n)})}function sS(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(B2(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),N2(t))}function t5(t,e,r){for(const n of r)n instanceof XI?(t.La.addReference(n.key,e),HD(t,n)):n instanceof ZI?(at("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||sS(t,n.key)):xt()}function HD(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(at("SyncEngine","New document in limbo: "+r),t.xa.add(n),N2(t))}function N2(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new ct(xr.fromString(e)),n=t.qa.next();t.Na.set(n,new FD(r)),t.Oa=t.Oa.insert(r,n),VI(t.remoteStore,new co(mA(f2(r.path)),n,"TargetPurposeLimboResolution",o2.oe))}}async function cf(t,e,r){const n=It(t),s=[],i=[],A=[];n.Fa.isEmpty()||(n.Fa.forEach((a,o)=>{A.push(n.Ka(o,e,r).then(c=>{var h;if((c||r)&&n.isPrimaryClient){const f=c?!c.fromCache:(h=r==null?void 0:r.targetChanges.get(o.targetId))===null||h===void 0?void 0:h.current;n.sharedClientState.updateQueryState(o.targetId,f?"current":"not-current")}if(c){s.push(c);const f=x2.Wi(o.targetId,c);i.push(f)}}))}),await Promise.all(A),n.Ca.d_(s),await async function(o,c){const h=It(o);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Ke.forEach(c,g=>Ke.forEach(g.$i,m=>h.persistence.referenceDelegate.addReference(f,g.targetId,m)).next(()=>Ke.forEach(g.Ui,m=>h.persistence.referenceDelegate.removeReference(f,g.targetId,m)))))}catch(f){if(!Af(f))throw f;at("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const g=f.targetId;if(!f.fromCache){const m=h.os.get(g),B=m.snapshotVersion,b=m.withLastLimboFreeSnapshotVersion(B);h.os=h.os.insert(g,b)}}}(n.localStore,i))}async function MD(t,e){const r=It(t);if(!r.currentUser.isEqual(e)){at("SyncEngine","User change. New user:",e.toKey());const n=await RI(r.localStore,e);r.currentUser=e,function(i,A){i.ka.forEach(a=>{a.forEach(o=>{o.reject(new st(Re.CANCELLED,A))})}),i.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await cf(r,n.hs)}}function VD(t,e){const r=It(t),n=r.Na.get(e);if(n&&n.va)return Ht().add(n.key);{let s=Ht();const i=r.Ma.get(e);if(!i)return s;for(const A of i){const a=r.Fa.get(A);s=s.unionWith(a.view.Va)}return s}}function iS(t){const e=It(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=tS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=VD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=DD.bind(null,e),e.Ca.d_=_D.bind(null,e.eventManager),e.Ca.$a=ID.bind(null,e.eventManager),e}function KD(t){const e=It(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=RD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=OD.bind(null,e),e}class tg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qg(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return YP(this.persistence,new WP,e.initialUser,this.serializer)}Ga(e){return new zP(w2.Zr,this.serializer)}Wa(e){return new nD}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}tg.provider={build:()=>new tg};class py{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>e5(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=MD.bind(null,this.syncEngine),await bD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ED}()}createDatastore(e){const r=qg(e.databaseInfo.databaseId),n=function(i){return new aD(i)}(e.databaseInfo);return function(i,A,a,o){return new cD(i,A,a,o)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,s,i,A,a){return new dD(n,s,i,A,a)}(this.localStore,this.datastore,e.asyncQueue,r=>e5(this.syncEngine,r,0),function(){return $b.D()?new $b:new sD}())}createSyncEngine(e,r){return function(s,i,A,a,o,c,h){const f=new TD(s,i,A,a,o,c);return h&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(s){const i=It(s);at("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await lf(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}py.provider={build:()=>new py};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):oa("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e,r,n,s,i){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=s,this.user=zn.UNAUTHENTICATED,this.clientId=AI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async A=>{at("FirestoreClient","Received user=",A.uid),await this.authCredentialListener(A),this.user=A}),this.appCheckCredentials.start(n,A=>(at("FirestoreClient","Received new app check token=",A),this.appCheckCredentialListener(A,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new No;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=I2(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function y1(t,e){t.asyncQueue.verifyOperationInProgress(),at("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async s=>{n.isEqual(s)||(await RI(e.localStore,s),n=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function r5(t,e){t.asyncQueue.verifyOperationInProgress();const r=await GD(t);at("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>Yb(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,s)=>Yb(e.remoteStore,s)),t._onlineComponents=e}async function GD(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){at("FirestoreClient","Using user provided OfflineComponentProvider");try{await y1(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(s){return s.name==="FirebaseError"?s.code===Re.FAILED_PRECONDITION||s.code===Re.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(r))throw r;Su("Error using user provided cache. Falling back to memory cache: "+r),await y1(t,new tg)}}else at("FirestoreClient","Using default OfflineComponentProvider"),await y1(t,new tg);return t._offlineComponents}async function aS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(at("FirestoreClient","Using user provided OnlineComponentProvider"),await r5(t,t._uninitializedComponentsProvider._online)):(at("FirestoreClient","Using default OnlineComponentProvider"),await r5(t,new py))),t._onlineComponents}function qD(t){return aS(t).then(e=>e.syncEngine)}async function my(t){const e=await aS(t),r=e.eventManager;return r.onListen=kD.bind(null,e.syncEngine),r.onUnlisten=LD.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=UD.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=jD.bind(null,e.syncEngine),r}function WD(t,e,r={}){const n=new No;return t.asyncQueue.enqueueAndForget(async()=>function(i,A,a,o,c){const h=new AS({next:g=>{h.Za(),A.enqueueAndForget(()=>YI(i,f)),g.fromCache&&o.source==="server"?c.reject(new st(Re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(g)},error:g=>c.reject(g)}),f=new JI(a,h,{includeMetadataChanges:!0,_a:!0});return $I(i,f)}(await my(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n5=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(t,e,r){if(!r)throw new st(Re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function $D(t,e,r,n){if(e===!0&&n===!0)throw new st(Re.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function s5(t){if(!ct.isDocumentKey(t))throw new st(Re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function i5(t){if(ct.isDocumentKey(t))throw new st(Re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Yg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":xt()}function Pi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new st(Re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Yg(t);throw new st(Re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new st(Re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new st(Re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$D("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oS((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new st(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new st(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new st(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,s){return n.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jg{constructor(e,r,n,s){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new A5({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(Re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new st(Re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new A5(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new fj;switch(n.type){case"firstParty":return new vj(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new st(Re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=n5.get(r);n&&(at("ComponentProvider","Removing Datastore"),n5.delete(r),n.terminate())}(this),Promise.resolve()}}function YD(t,e,r,n={}){var s;const i=(t=Pi(t,Jg))._getSettings(),A=`${e}:${r}`;if(i.host!=="firestore.googleapis.com"&&i.host!==A&&Su("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:A,ssl:!1})),n.mockUserToken){let a,o;if(typeof n.mockUserToken=="string")a=n.mockUserToken,o=zn.MOCK_USER;else{a=FU(n.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=n.mockUserToken.sub||n.mockUserToken.user_id;if(!c)throw new st(Re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");o=new zn(c)}t._authCredentials=new pj(new iI(a,o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Yo(this.firestore,e,this._query)}}class Ns{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ns(this.firestore,e,this._key)}}class Fo extends Yo{constructor(e,r,n){super(e,r,f2(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ns(this.firestore,null,new ct(e))}withConverter(e){return new Fo(this.firestore,e,this._path)}}function du(t,e,...r){if(t=an(t),lS("collection","path",e),t instanceof Jg){const n=xr.fromString(e,...r);return i5(n),new Fo(t,null,n)}{if(!(t instanceof Ns||t instanceof Fo))throw new st(Re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(xr.fromString(e,...r));return i5(n),new Fo(t.firestore,null,n)}}function GA(t,e,...r){if(t=an(t),arguments.length===1&&(e=AI.newId()),lS("doc","path",e),t instanceof Jg){const n=xr.fromString(e,...r);return s5(n),new Ns(t,null,new ct(n))}{if(!(t instanceof Ns||t instanceof Fo))throw new st(Re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(xr.fromString(e,...r));return s5(n),new Ns(t.firestore,t instanceof Fo?t.converter:null,new ct(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new HI(this,"async_queue_retry"),this.Vu=()=>{const n=v1();n&&at("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=v1();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=v1();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new No;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Af(e))throw e;at("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const s=function(A){let a=A.message||"";return A.stack&&(a=A.stack.includes(A.message)?A.stack:A.message+`
`+A.stack),a}(n);throw oa("INTERNAL UNHANDLED ERROR: ",s),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const s=_2.createAndSchedule(this,e,r,n,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&xt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function o5(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const s=r;for(const i of n)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Do extends Jg{constructor(e,r,n,s){super(e,r,n,s),this.type="firestore",this._queue=new a5,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new a5(e),this._firestoreClient=void 0,await e}}}function JD(t,e){const r=typeof t=="object"?t:g_(),n=typeof t=="string"?t:"(default)",s=Jw(r,"firestore").getImmediate({identifier:n});if(!s._initialized){const i=SU("firestore");i&&YD(s,...i)}return s}function Xg(t){if(t._terminated)throw new st(Re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||XD(t),t._firestoreClient}function XD(t){var e,r,n;const s=t._freezeSettings(),i=function(a,o,c,h){return new Tj(a,o,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,oS(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((r=s.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=s.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new zD(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const o=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(o),_online:o}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qu(kn.fromBase64String(e))}catch(r){throw new st(Re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Qu(kn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new st(Re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new In(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new st(Re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new st(Re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Wt(this._lat,e._lat)||Wt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,s){if(n.length!==s.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD=/^__.*__$/;class eR{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new $o(e,this.data,this.fieldMask,r,this.fieldTransforms):new af(e,this.data,r,this.fieldTransforms)}}class cS{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new $o(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function uS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xt()}}class U2{constructor(e,r,n,s,i,A){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=A||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new U2(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),s=this.Fu({path:n,xu:!1});return s.Ou(e),s}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),s=this.Fu({path:n,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return rg(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(uS(this.Cu)&&ZD.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class tR{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||qg(e)}Qu(e,r,n,s=!1){return new U2({Cu:e,methodName:r,qu:n,path:In.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function e0(t){const e=t._freezeSettings(),r=qg(t._databaseId);return new tR(t._databaseId,!!e.ignoreUndefinedProperties,r)}function Q2(t,e,r,n,s,i={}){const A=t.Qu(i.merge||i.mergeFields?2:0,e,r,s);L2("Data must be an object, but it was:",A,n);const a=dS(n,A);let o,c;if(i.merge)o=new Ks(A.fieldMask),c=A.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const g=gy(e,f,r);if(!A.contains(g))throw new st(Re.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);fS(h,g)||h.push(g)}o=new Ks(h),c=A.fieldTransforms.filter(f=>o.covers(f.field))}else o=null,c=A.fieldTransforms;return new eR(new bs(a),o,c)}class t0 extends F2{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t0}}function rR(t,e,r,n){const s=t.Qu(1,e,r);L2("Data must be an object, but it was:",s,n);const i=[],A=bs.empty();Xl(n,(o,c)=>{const h=j2(e,o,r);c=an(c);const f=s.Nu(h);if(c instanceof t0)i.push(h);else{const g=uf(c,f);g!=null&&(i.push(h),A.set(h,g))}});const a=new Ks(i);return new cS(A,a,s.fieldTransforms)}function nR(t,e,r,n,s,i){const A=t.Qu(1,e,r),a=[gy(e,n,r)],o=[s];if(i.length%2!=0)throw new st(Re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<i.length;g+=2)a.push(gy(e,i[g])),o.push(i[g+1]);const c=[],h=bs.empty();for(let g=a.length-1;g>=0;--g)if(!fS(c,a[g])){const m=a[g];let B=o[g];B=an(B);const b=A.Nu(m);if(B instanceof t0)c.push(m);else{const F=uf(B,b);F!=null&&(c.push(m),h.set(m,F))}}const f=new Ks(c);return new cS(h,f,A.fieldTransforms)}function sR(t,e,r,n=!1){return uf(r,t.Qu(n?4:3,e))}function uf(t,e){if(hS(t=an(t)))return L2("Unsupported field value:",e,t),dS(t,e);if(t instanceof F2)return function(n,s){if(!uS(s.Cu))throw s.Bu(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,s){const i=[];let A=0;for(const a of n){let o=uf(a,s.Lu(A));o==null&&(o={nullValue:"NULL_VALUE"}),i.push(o),A++}return{arrayValue:{values:i}}}(t,e)}return function(n,s){if((n=an(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Zj(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=$r.fromDate(n);return{timestampValue:Zm(s.serializer,i)}}if(n instanceof $r){const i=new $r(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Zm(s.serializer,i)}}if(n instanceof T2)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Qu)return{bytesValue:kI(s.serializer,n._byteString)};if(n instanceof Ns){const i=s.databaseId,A=n.firestore._databaseId;if(!A.isEqual(i))throw s.Bu(`Document reference is for database ${A.projectId}/${A.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:v2(n.firestore._databaseId||s.databaseId,n._key.path)}}if(n instanceof k2)return function(A,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:A.toArray().map(o=>{if(typeof o!="number")throw a.Bu("VectorValues must only contain numeric values.");return p2(a.serializer,o)})}}}}}}(n,s);throw s.Bu(`Unsupported field value: ${Yg(n)}`)}(t,e)}function dS(t,e){const r={};return aI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xl(t,(n,s)=>{const i=uf(s,e.Mu(n));i!=null&&(r[n]=i)}),{mapValue:{fields:r}}}function hS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $r||t instanceof T2||t instanceof Qu||t instanceof Ns||t instanceof F2||t instanceof k2)}function L2(t,e,r){if(!hS(r)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(r)){const n=Yg(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function gy(t,e,r){if((e=an(e))instanceof Zg)return e._internalPath;if(typeof e=="string")return j2(t,e);throw rg("Field path arguments must be of type string or ",t,!1,void 0,r)}const iR=new RegExp("[~\\*/\\[\\]]");function j2(t,e,r){if(e.search(iR)>=0)throw rg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Zg(...e.split("."))._internalPath}catch{throw rg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function rg(t,e,r,n,s){const i=n&&!n.isEmpty(),A=s!==void 0;let a=`Function ${e}() called with invalid data`;r&&(a+=" (via `toFirestore()`)"),a+=". ";let o="";return(i||A)&&(o+=" (found",i&&(o+=` in field ${n}`),A&&(o+=` in document ${s}`),o+=")"),new st(Re.INVALID_ARGUMENT,a+t+o)}function fS(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e,r,n,s,i){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ns(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new AR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(P2("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class AR extends pS{data(){return super.data()}}function P2(t,e){return typeof e=="string"?j2(t,e):e instanceof Zg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new st(Re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class D2{}class gS extends D2{}function l5(t,e,...r){let n=[];e instanceof D2&&n.push(e),n=n.concat(r),function(i){const A=i.filter(o=>o instanceof O2).length,a=i.filter(o=>o instanceof R2).length;if(A>1||A>0&&a>0)throw new st(Re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)t=s._apply(t);return t}class R2 extends gS{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new R2(e,r,n)}_apply(e){const r=this._parse(e);return vS(e._query,r),new Yo(e.firestore,e.converter,Ay(e._query,r))}_parse(e){const r=e0(e.firestore);return function(i,A,a,o,c,h,f){let g;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new st(Re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){u5(f,h);const m=[];for(const B of f)m.push(c5(o,i,B));g={arrayValue:{values:m}}}else g=c5(o,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||u5(f,h),g=sR(a,A,f,h==="in"||h==="not-in");return sn.create(c,h,g)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}class O2 extends D2{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new O2(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Hi.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(s,i){let A=s;const a=i.getFlattenedFilters();for(const o of a)vS(A,o),A=Ay(A,o)}(e._query,r),new Yo(e.firestore,e.converter,Ay(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class H2 extends gS{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new H2(e,r)}_apply(e){const r=function(s,i,A){if(s.startAt!==null)throw new st(Re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new st(Re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ph(i,A)}(e._query,this._field,this._direction);return new Yo(e.firestore,e.converter,function(s,i){const A=s.explicitOrderBy.concat([i]);return new zu(s.path,s.collectionGroup,A,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,r))}}function aR(t,e="asc"){const r=e,n=P2("orderBy",t);return H2._create(n,r)}function c5(t,e,r){if(typeof(r=an(r))=="string"){if(r==="")throw new st(Re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mI(e)&&r.indexOf("/")!==-1)throw new st(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(xr.fromString(r));if(!ct.isDocumentKey(n))throw new st(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Fb(t,new ct(n))}if(r instanceof Ns)return Fb(t,r._key);throw new st(Re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yg(r)}.`)}function u5(t,e){if(!Array.isArray(t)||t.length===0)throw new st(Re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vS(t,e){const r=function(s,i){for(const A of s)for(const a of A.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new st(Re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new st(Re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class oR{convertValue(e,r="none"){switch(Gl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(zl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw xt()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Xl(e,(s,i)=>{n[s]=this.convertValue(i,r)}),n}convertVectorValue(e){var r,n,s;const i=(s=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||s===void 0?void 0:s.map(A=>Kr(A.doubleValue));return new k2(i)}convertGeoPoint(e){return new T2(Kr(e.latitude),Kr(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=c2(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Qh(e));default:return null}}convertTimestamp(e){const r=jo(e);return new $r(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=xr.fromString(e);ir(DI(n));const s=new Lh(n.get(1),n.get(3)),i=new ct(n.popFirst(5));return s.isEqual(r)||oa(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yS extends pS{constructor(e,r,n,s,i,A){super(e,r,n,s,A),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new sm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(P2("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class sm extends yS{data(e={}){return super.data(e)}}class wS{constructor(e,r,n,s){this._firestore=e,this._userDataWriter=r,this._snapshot=s,this.metadata=new Pd(s.hasPendingWrites,s.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new sm(this._firestore,this._userDataWriter,n.key,n,new Pd(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new st(Re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let A=0;return s._snapshot.docChanges.map(a=>{const o=new sm(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Pd(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:o,oldIndex:-1,newIndex:A++}})}{let A=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const o=new sm(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Pd(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,h=-1;return a.type!==0&&(c=A.indexOf(a.doc.key),A=A.delete(a.doc.key)),a.type!==1&&(A=A.add(a.doc),h=A.indexOf(a.doc.key)),{type:lR(a.type),doc:o,oldIndex:c,newIndex:h}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function lR(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xt()}}class V2 extends oR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qu(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Ns(this.firestore,null,r)}}function cR(t){t=Pi(t,Yo);const e=Pi(t.firestore,Do),r=Xg(e),n=new V2(e);return mS(t._query),WD(r,t._query).then(s=>new wS(e,n,t,s))}function uR(t,e,r){t=Pi(t,Ns);const n=Pi(t.firestore,Do),s=M2(t.converter,e,r);return r0(n,[Q2(e0(n),"setDoc",t._key,s,t.converter!==null,r).toMutation(t._key,Ss.none())])}function dR(t){return r0(Pi(t.firestore,Do),[new zg(t._key,Ss.none())])}function hR(t,e){const r=Pi(t.firestore,Do),n=GA(t),s=M2(t.converter,e);return r0(r,[Q2(e0(t.firestore),"addDoc",n._key,s,t.converter!==null,{}).toMutation(n._key,Ss.exists(!1))]).then(()=>n)}function fR(t,...e){var r,n,s;t=an(t);let i={includeMetadataChanges:!1,source:"default"},A=0;typeof e[A]!="object"||o5(e[A])||(i=e[A],A++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(o5(e[A])){const f=e[A];e[A]=(r=f.next)===null||r===void 0?void 0:r.bind(f),e[A+1]=(n=f.error)===null||n===void 0?void 0:n.bind(f),e[A+2]=(s=f.complete)===null||s===void 0?void 0:s.bind(f)}let o,c,h;if(t instanceof Ns)c=Pi(t.firestore,Do),h=f2(t._key.path),o={next:f=>{e[A]&&e[A](pR(c,t,f))},error:e[A+1],complete:e[A+2]};else{const f=Pi(t,Yo);c=Pi(f.firestore,Do),h=f._query;const g=new V2(c);o={next:m=>{e[A]&&e[A](new wS(c,g,f,m))},error:e[A+1],complete:e[A+2]},mS(t._query)}return function(g,m,B,b){const F=new AS(b),y=new JI(m,F,B);return g.asyncQueue.enqueueAndForget(async()=>$I(await my(g),y)),()=>{F.Za(),g.asyncQueue.enqueueAndForget(async()=>YI(await my(g),y))}}(Xg(c),h,a,o)}function r0(t,e){return function(n,s){const i=new No;return n.asyncQueue.enqueueAndForget(async()=>PD(await qD(n),s,i)),i.promise}(Xg(t),e)}function pR(t,e,r){const n=r.docs.get(e._key),s=new V2(t);return new yS(t,s,e._key,n,new Pd(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=e0(e)}set(e,r,n){this._verifyNotCommitted();const s=w1(e,this._firestore),i=M2(s.converter,r,n),A=Q2(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,n);return this._mutations.push(A.toMutation(s._key,Ss.none())),this}update(e,r,n,...s){this._verifyNotCommitted();const i=w1(e,this._firestore);let A;return A=typeof(r=an(r))=="string"||r instanceof Zg?nR(this._dataReader,"WriteBatch.update",i._key,r,n,s):rR(this._dataReader,"WriteBatch.update",i._key,r),this._mutations.push(A.toMutation(i._key,Ss.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=w1(e,this._firestore);return this._mutations=this._mutations.concat(new zg(r._key,Ss.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new st(Re.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function w1(t,e){if((t=an(t)).firestore!==e)throw new st(Re.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d5(t){return Xg(t=Pi(t,Do)),new mR(t,e=>r0(t,e))}(function(e,r=!0){(function(s){Ku=s})(Hu),_u(new Ml("firestore",(n,{instanceIdentifier:s,options:i})=>{const A=n.getProvider("app").getImmediate(),a=new Do(new mj(n.getProvider("auth-internal")),new wj(n.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new st(Re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lh(c.options.projectId,h)}(A,s),A);return i=Object.assign({useFetchStreams:r},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Io(Eb,"4.7.3",e),Io(Eb,"4.7.3","esm2017")})();const gR={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_FIREBASE_API_KEY:"AIzaSyD1mANvTNcEZm6APEgYJdgHKggUy43q7i4",VITE_FIREBASE_APP_ID:"1:618593686607:web:d1e2b85108b464a250863a",VITE_FIREBASE_AUTH_DOMAIN:"idedersplan.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"618593686607",VITE_FIREBASE_PROJECT_ID:"idedersplan",VITE_FIREBASE_STORAGE_BUCKET:"idedersplan.firebasestorage.app"},vR={apiKey:"AIzaSyD1mANvTNcEZm6APEgYJdgHKggUy43q7i4",authDomain:"idedersplan.firebaseapp.com",projectId:"idedersplan",storageBucket:"idedersplan.firebasestorage.app",messagingSenderId:"618593686607",appId:"1:618593686607:web:d1e2b85108b464a250863a"},yR=()=>{const e=["VITE_FIREBASE_API_KEY","VITE_FIREBASE_AUTH_DOMAIN","VITE_FIREBASE_PROJECT_ID","VITE_FIREBASE_STORAGE_BUCKET","VITE_FIREBASE_MESSAGING_SENDER_ID","VITE_FIREBASE_APP_ID"].filter(n=>!gR[n]);if(e.length>0)throw console.error("🔒 SECURITY ERROR: Missing Firebase environment variables:",e),new Error(`Missing required environment variables: ${e.join(", ")}`);const r="AIzaSyD1mANvTNcEZm6APEgYJdgHKggUy43q7i4";if(!r.startsWith("AIza")||r.length<30)throw console.error("🔒 SECURITY ERROR: Invalid Firebase API key format"),new Error("Invalid Firebase API key format");console.log("✅ Firebase configuration validated successfully")};yR();const xS=m_(vR),x1=cj(xS),Ms=JD(xS);console.log("🔥 Firebase initialized for project:","idedersplan");const K2=()=>{const[t,e]=ue.useState(null),[r,n]=ue.useState(!0);return ue.useEffect(()=>XL(x1,a=>{e(a),n(!1)}),[]),{user:t,loading:r,login:async(A,a)=>{try{return await $L(x1,A,a),{success:!0}}catch(o){return{success:!1,error:o.message}}},logout:async()=>{try{return await ZL(x1),{success:!0}}catch(A){return{success:!1,error:A.message}}}}},Ys=()=>{const[t,e]=ue.useState([]),r=ue.useCallback(o=>{const c=Math.random().toString(36).substr(2,9),h={id:c,...o,onClose:n};return console.log("🍞 Toast ekleniyor:",h),o.type==="error"?(e(f=>f.filter(g=>g.type!=="error")),e(f=>{const g=[h,...f.slice(0,2)];return console.log("🍞 Error toast eklendi, güncel liste:",g),g})):e(f=>{const g=[h,...f.slice(0,3)];return console.log("🍞 Güncel toast listesi:",g),g}),c},[]),n=ue.useCallback(o=>{console.log("🗑️ Toast siliniyor:",o),e(c=>{const h=c.filter(f=>f.id!==o);return console.log("🍞 Toast silindikten sonra liste:",h),h})},[]),s=ue.useCallback((o,c)=>(console.log("✅ Success toast çağrıldı:",{title:o,message:c}),r({type:"success",title:o,message:c,duration:4e3})),[r]),i=ue.useCallback((o,c)=>(console.log("❌ Error toast çağrıldı:",{title:o,message:c}),r({type:"error",title:o,message:c,duration:12e3})),[r]),A=ue.useCallback((o,c)=>(console.log("⚠️ Warning toast çağrıldı:",{title:o,message:c}),r({type:"warning",title:o,message:c,duration:6e3})),[r]),a=ue.useCallback((o,c)=>(console.log("ℹ️ Info toast çağrıldı:",{title:o,message:c}),r({type:"info",title:o,message:c,duration:5e3})),[r]);return console.log("🍞 useToast hook - mevcut toast sayısı:",t.length),{toasts:t,addToast:r,removeToast:n,success:s,error:i,warning:A,info:a}};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Bt=(t,e)=>{const r=ue.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:A,className:a="",children:o,...c},h)=>ue.createElement("svg",{ref:h,...wR,width:s,height:s,stroke:n,strokeWidth:A?Number(i)*24/Number(s):i,className:["lucide",`lucide-${xR(t)}`,a].join(" "),...c},[...e.map(([f,g])=>ue.createElement(f,g)),...Array.isArray(o)?o:[o]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oh=Bt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=Bt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=Bt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=Bt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=Bt("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=Bt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=Bt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=Bt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=Bt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=Bt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=Bt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vy=Bt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=Bt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=Bt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=Bt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=Bt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=Bt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=Bt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=Bt("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=Bt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=Bt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=Bt("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=Bt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=Bt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=Bt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=Bt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h5=Bt("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=Bt("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=Bt("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=Bt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=Bt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=Bt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=Bt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=Bt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=Bt("Slash",[["path",{d:"M22 2 2 22",key:"y4kqgn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=Bt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=Bt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=Bt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=Bt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=Bt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=Bt("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=Bt("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=Bt("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=Bt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=Bt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=Bt("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),QR=()=>{const{logout:t}=K2(),[e,r]=ue.useState(!1),n=async()=>{await t()},s=[{to:"/",icon:ER,label:"Anasayfa",color:"ide-primary",description:"Ana kontrol paneli"},{to:"/schedule-wizard",icon:df,label:"Program Sihirbazı",color:"ide-accent",description:"Otomatik program oluştur"},{to:"/schedules",icon:ds,label:"Manuel Program",color:"ide-accent",description:"Manuel program oluştur"},{to:"/class-schedules",icon:CS,label:"Sınıf Programları",color:"ide-secondary",description:"Sınıf bazlı görünüm"},{to:"/all-schedules",icon:n0,label:"Öğretmen Programları",color:"ide-primary",description:"Öğretmen bazlı görünüm"},{to:"/data-management",icon:G2,label:"Veri Yönetimi",color:"ide-primary",description:"Sistem verilerini yönet"},{to:"/pdf",icon:ds,label:"PDF Çıktı",color:"ide-orange",description:"Rapor ve çıktılar"}],i=()=>{r(!1)};return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"lg:hidden fixed top-4 left-4 z-50 safe-top safe-left",children:l.jsx("button",{onClick:()=>r(!e),className:"p-3 bg-white rounded-xl shadow-lg border border-gray-200 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-ide-primary-500 focus:ring-offset-2 transition-all duration-300 btn-touch touch-enhanced group","aria-label":"Menüyü aç/kapat",children:e?l.jsx(ca,{size:24,className:"text-ide-gray-700 group-hover:text-ide-primary-600 transition-colors"}):l.jsx(NR,{size:24,className:"text-ide-gray-700 group-hover:text-ide-primary-600 transition-colors"})})}),e&&l.jsx("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-60 z-40 transition-opacity duration-300 backdrop-blur-sm",onClick:i}),l.jsxs("div",{className:`
        fixed lg:static inset-y-0 left-0 z-40 bg-white shadow-2xl lg:shadow-xl h-screen flex flex-col
        transform transition-all duration-500 ease-in-out
        ${e?"translate-x-0":"-translate-x-full lg:translate-x-0"}
        
        /* PROFESSIONAL DESIGN */
        w-80 lg:w-72 xl:w-80
        safe-top safe-bottom safe-left
        border-r border-gray-200
      `,children:[l.jsxs("div",{className:"relative p-6 bg-gradient-to-br from-ide-primary-600 via-ide-primary-700 to-ide-primary-800 border-b border-ide-primary-500",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 to-transparent"}),l.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/5 rounded-full -translate-y-16 translate-x-16"}),l.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white/5 rounded-full translate-y-12 -translate-x-12"}),l.jsxs("div",{className:"relative z-10 flex items-center justify-between lg:justify-start",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"w-12 h-12 bg-white rounded-xl shadow-lg flex items-center justify-center flex-shrink-0",children:l.jsx("img",{src:"https://cv.ide.k12.tr/images/ideokullari_logo.png",alt:"İDE Okulları Logo",className:"w-8 h-8 object-contain",onError:A=>{const a=A.target;a.style.display="none";const o=a.parentElement;o&&(o.innerHTML='<div class="w-8 h-8 text-ide-primary-600 flex items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 10v6M2 10l10-5 10 5-10 5z"/><path d="M6 12v5c3 3 9 3 12 0v-5"/></svg></div>')}})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-bold text-white leading-tight",children:"İDE Okulları"}),l.jsx("p",{className:"text-sm text-ide-primary-100 font-medium",children:"Ders Programı Sistemi"})]})]}),l.jsx("button",{onClick:i,className:"lg:hidden p-2 rounded-lg hover:bg-white/10 focus:outline-none focus:ring-2 focus:ring-white/20 transition-all duration-200 btn-touch touch-enhanced","aria-label":"Menüyü kapat",children:l.jsx(ca,{size:20,className:"text-white"})})]})]}),l.jsx("nav",{className:"flex-1 p-4 overflow-y-auto bg-gray-50",children:l.jsx("div",{className:"space-y-2",children:s.map(({to:A,icon:a,label:o,color:c,description:h})=>l.jsx(gU,{to:A,onClick:i,className:({isActive:f})=>`group relative flex items-center p-4 rounded-xl transition-all duration-300 ${f?"bg-ide-primary-50 text-ide-primary-700 shadow-lg border-2 border-ide-primary-200 transform scale-[1.02]":"text-ide-gray-700 hover:bg-white hover:text-ide-primary-600 hover:shadow-md border-2 border-transparent hover:border-ide-primary-100"}`,children:({isActive:f})=>l.jsxs(l.Fragment,{children:[f&&l.jsx("div",{className:"absolute left-0 top-1/2 transform -translate-y-1/2 w-1 h-8 bg-ide-primary-600 rounded-r-full"}),l.jsx("div",{className:`flex-shrink-0 w-12 h-12 rounded-xl flex items-center justify-center transition-all duration-300 ${f?"bg-ide-primary-100 text-ide-primary-600":"bg-gray-100 text-gray-500 group-hover:bg-ide-primary-100 group-hover:text-ide-primary-600"}`,children:l.jsx(a,{size:24,className:"transition-transform duration-300 group-hover:scale-110"})}),l.jsx("div",{className:"flex-1 ml-4 min-w-0",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:`font-semibold text-base leading-tight transition-colors duration-300 ${f?"text-ide-primary-700":"text-gray-900 group-hover:text-ide-primary-600"}`,children:o}),l.jsx("p",{className:`text-sm mt-1 transition-colors duration-300 ${f?"text-ide-primary-600":"text-gray-500 group-hover:text-ide-primary-500"}`,children:h})]}),l.jsx(vy,{size:18,className:`flex-shrink-0 transition-all duration-300 ${f?"text-ide-primary-600 transform translate-x-1":"text-gray-400 group-hover:text-ide-primary-500 group-hover:transform group-hover:translate-x-1"}`})]})})]})},A))})}),l.jsx("div",{className:"p-4 border-t border-gray-200 bg-white safe-bottom",children:l.jsxs("button",{onClick:n,className:"w-full group flex items-center p-4 rounded-xl text-ide-gray-700 hover:bg-ide-accent-50 hover:text-ide-accent-700 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-ide-accent-500 focus:ring-offset-2 border-2 border-transparent hover:border-ide-accent-200",children:[l.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-xl bg-gray-100 group-hover:bg-ide-accent-100 flex items-center justify-center transition-all duration-300",children:l.jsx(SR,{size:24,className:"text-gray-500 group-hover:text-ide-accent-600 transition-all duration-300 group-hover:scale-110"})}),l.jsxs("div",{className:"flex-1 ml-4 text-left",children:[l.jsx("p",{className:"font-semibold text-base text-gray-900 group-hover:text-ide-accent-700 transition-colors duration-300",children:"Güvenli Çıkış"}),l.jsx("p",{className:"text-sm text-gray-500 group-hover:text-ide-accent-600 transition-colors duration-300 mt-1",children:"Oturumu sonlandır"})]}),l.jsx(vy,{size:18,className:"flex-shrink-0 text-gray-400 group-hover:text-ide-accent-500 group-hover:transform group-hover:translate-x-1 transition-all duration-300"})]})})]})]})},LR=()=>l.jsxs("div",{className:"flex h-screen bg-gray-50",children:[l.jsx(QR,{}),l.jsx("main",{className:"flex-1 overflow-auto lg:ml-0",children:l.jsx("div",{className:"pt-20 lg:pt-0",children:l.jsx(nU,{})})})]}),dr=({label:t,type:e="text",value:r,onChange:n,placeholder:s,required:i=!1,error:A,disabled:a=!1})=>l.jsxs("div",{className:"mb-4",children:[l.jsxs("label",{className:"block text-sm font-semibold text-ide-gray-800 mb-2",children:[t," ",i&&l.jsx("span",{className:"text-ide-accent-600 ml-1",children:"*"})]}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:e,value:r,onChange:o=>n(o.target.value),placeholder:s,required:i,disabled:a,className:`ide-input w-full ${A?"border-ide-accent-400 bg-ide-accent-50 focus:border-ide-accent-500 focus:ring-ide-accent-200 text-ide-accent-900 placeholder-ide-accent-400":a?"border-ide-gray-200 bg-ide-gray-50 text-ide-gray-500 cursor-not-allowed":"border-ide-gray-300 bg-white focus:border-ide-primary-500 focus:ring-ide-primary-200 text-ide-gray-900 placeholder-ide-gray-500 hover:border-ide-gray-400"}`}),A&&l.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:l.jsx(Oh,{className:"h-5 w-5 text-ide-accent-500"})})]}),A&&l.jsxs("div",{className:"mt-2 flex items-start space-x-2",children:[l.jsx(Oh,{className:"h-4 w-4 text-ide-accent-600 mt-0.5 flex-shrink-0"}),l.jsx("p",{className:"text-sm font-medium text-ide-accent-700",children:A})]})]}),Ge=({children:t,onClick:e,type:r="button",variant:n="primary",size:s="md",disabled:i=!1,icon:A,className:a=""})=>{const o="inline-flex items-center justify-center font-semibold rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-60 disabled:cursor-not-allowed disabled:transform-none transform hover:scale-[1.02] active:scale-[0.98] focus-enhanced",c={primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500 shadow-sm hover:shadow-md",secondary:"bg-gray-100 text-gray-800 hover:bg-gray-200 focus:ring-gray-500 border border-gray-300 hover:border-gray-400",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500 shadow-sm hover:shadow-md","ide-primary":"btn-ide-primary","ide-secondary":"btn-ide-secondary","ide-accent":"btn-ide-accent"},h={sm:"px-4 py-3 text-sm min-h-[44px] btn-touch",md:"px-5 py-3.5 text-sm min-h-[48px] btn-touch",lg:"px-6 py-4 text-base min-h-[52px] btn-touch"};return l.jsxs("button",{type:r,onClick:e,disabled:i,className:`${o} ${c[n]} ${h[s]} ${a} touch-enhanced`,children:[A&&l.jsx(A,{size:s==="sm"?18:s==="lg"?22:20,className:"mr-2 flex-shrink-0"}),l.jsx("span",{className:"truncate",children:t})]})},jR=()=>{const[t,e]=ue.useState(""),[r,n]=ue.useState(""),[s,i]=ue.useState(""),[A,a]=ue.useState(!1),{login:o}=K2(),c=async h=>{h.preventDefault(),a(!0),i(""),(await o(t,r)).success||i("Giriş başarısız. Lütfen bilgilerinizi kontrol edin."),a(!1)};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-ide-gray-50 to-ide-primary-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-ide-2xl p-8 border border-ide-gray-200",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:"flex justify-center mb-6",children:l.jsx("div",{className:"p-4 bg-white rounded-full shadow-ide-lg border border-gray-100",children:l.jsx("img",{src:"https://cv.ide.k12.tr/images/ideokullari_logo.png",alt:"İDE Okulları Logo",className:"w-16 h-16 object-contain",onError:h=>{const f=h.target;f.style.display="none";const g=f.parentElement;g&&(g.innerHTML='<div class="w-12 h-12 text-blue-600 flex items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 10v6M2 10l10-5 10 5-10 5z"/><path d="M6 12v5c3 3 9 3 12 0v-5"/></svg></div>')}})})}),l.jsx("h1",{className:"text-2xl font-bold text-ide-gray-900 mb-2",children:"İDE Okulları"}),l.jsx("h2",{className:"text-xl font-semibold text-ide-primary-600 mb-2",children:"Ders Planlama Sistemi"}),l.jsx("p",{className:"text-ide-gray-600",children:"Yönetici Girişi"})]}),l.jsxs("form",{onSubmit:c,className:"space-y-6",children:[l.jsx(dr,{label:"E-posta",type:"email",value:t,onChange:e,placeholder:"email@ide.k12.tr",required:!0}),l.jsx(dr,{label:"Şifre",type:"password",value:r,onChange:n,placeholder:"••••••••",required:!0}),s&&l.jsx("div",{className:"p-4 bg-ide-accent-50 border border-ide-accent-200 rounded-lg",children:l.jsx("p",{className:"text-ide-accent-800 text-sm font-medium",children:s})}),l.jsx(Ge,{type:"submit",variant:"ide-primary",size:"lg",disabled:A,className:"w-full",children:A?l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"ide-loading w-5 h-5 mr-3"}),"Giriş yapılıyor..."]}):"Giriş Yap"})]}),l.jsx("div",{className:"mt-8 text-center",children:l.jsx("p",{className:"text-xs text-ide-gray-500",children:"Firebase Authentication ile güvenli giriş"})})]})})},yt=t=>{const[e,r]=ue.useState([]),[n,s]=ue.useState(!0),[i,A]=ue.useState(null);return ue.useEffect(()=>{const f=l5(du(Ms,t),aR("createdAt","desc"));return fR(f,m=>{const B=m.docs.map(b=>{var F,y;return{id:b.id,...b.data(),createdAt:((y=(F=b.data().createdAt)==null?void 0:F.toDate)==null?void 0:y.call(F))||new Date}});r(B),s(!1),A(null)},m=>{A(m.message),s(!1)})},[t]),{data:e,loading:n,error:i,add:async f=>{try{console.log("🔥 Firebase ADD işlemi başlatıldı:",{collectionName:t,item:f});const g=await hR(du(Ms,t),{...f,createdAt:$r.now()});return console.log("✅ Firebase ADD başarılı:",{docId:g.id}),{success:!0,id:g.id}}catch(g){return console.error("❌ Firebase ADD hatası:",g),{success:!1,error:g.message}}},update:async(f,g)=>{try{if(console.log("🔥 Firebase UPDATE işlemi başlatıldı:",{collectionName:t,id:f,updates:g,updateKeys:Object.keys(g)}),!f)throw new Error("Document ID is required for update");const m=GA(Ms,t,f),B={...g,updatedAt:$r.now()};return console.log("🔥 Firebase setDoc çağrılıyor:",{docRef:m.path,updateData:B}),await uR(m,B,{merge:!0}),console.log("✅ Firebase UPDATE başarılı:",{id:f,updatedFields:Object.keys(g)}),{success:!0}}catch(m){return console.error("❌ Firebase UPDATE hatası:",{error:m,message:m.message,code:m.code,id:f,collectionName:t}),{success:!1,error:m.message}}},remove:async f=>{try{if(console.log("🔥 Firebase DELETE işlemi başlatıldı:",{collectionName:t,id:f}),!f)throw new Error("Document ID is required for delete");return await dR(GA(Ms,t,f)),console.log("✅ Firebase DELETE başarılı:",{id:f}),{success:!0}}catch(g){return console.error("❌ Firebase DELETE hatası:",g),{success:!1,error:g.message}}},exists:async f=>{try{const g=GA(Ms,t,f);return(await cR(l5(du(Ms,t)))).docs.some(B=>B.id===f)}catch(g){return console.error("❌ Firebase EXISTS check hatası:",g),!1}}}},pa=()=>{const[t,e]=ue.useState({isOpen:!1,title:"",message:"",type:"warning",confirmText:"Onayla",cancelText:"İptal",confirmVariant:"primary",onConfirm:()=>{}}),r=ue.useCallback((o,c)=>new Promise(h=>{e({...o,isOpen:!0,onConfirm:()=>{c(),h(!0)}})}),[]),n=ue.useCallback(()=>{e(o=>({...o,isOpen:!1}))},[]),s=ue.useCallback((o,c)=>r({title:"🗑️ Silme Onayı",message:`"${o}" öğesini silmek istediğinizden emin misiniz?

Bu işlem geri alınamaz.`,type:"danger",confirmText:"Sil",cancelText:"İptal",confirmVariant:"danger"},c),[r]),i=ue.useCallback(o=>r({title:"🔄 Sıfırlama Onayı",message:`Tüm değişiklikleri sıfırlamak istediğinizden emin misiniz?

Kaydedilmemiş tüm değişiklikler kaybolacak.`,type:"warning",confirmText:"Sıfırla",cancelText:"İptal",confirmVariant:"danger"},o),[r]),A=ue.useCallback(o=>r({title:"⚠️ Kaydedilmemiş Değişiklikler",message:`Kaydedilmemiş değişiklikler var. Devam etmek istediğinizden emin misiniz?

Tüm değişiklikler kaybolacak.`,type:"warning",confirmText:"Devam Et",cancelText:"İptal",confirmVariant:"danger"},o),[r]),a=ue.useCallback((o,c)=>r({title:"⚠️ Çakışma Uyarısı",message:`Aşağıdaki çakışmalar tespit edildi:

${o.join(`
`)}

Yine de kaydetmek istediğinizden emin misiniz?`,type:"warning",confirmText:"Yine de Kaydet",cancelText:"İptal",confirmVariant:"danger"},c),[r]);return{confirmation:t,showConfirmation:r,hideConfirmation:n,confirmDelete:s,confirmReset:i,confirmUnsavedChanges:A,confirmConflictOverride:a}},ma=({isOpen:t,onClose:e,onConfirm:r,title:n,message:s,type:i="warning",confirmText:A="Onayla",cancelText:a="İptal",confirmVariant:o="primary"})=>{if(!t)return null;const c={warning:ql,danger:TS,success:z2,info:ES},h={warning:{bg:"bg-yellow-50",border:"border-yellow-200",icon:"text-yellow-600",title:"text-yellow-900"},danger:{bg:"bg-red-50",border:"border-red-200",icon:"text-red-600",title:"text-red-900"},success:{bg:"bg-green-50",border:"border-green-200",icon:"text-green-600",title:"text-green-900"},info:{bg:"bg-blue-50",border:"border-blue-200",icon:"text-blue-600",title:"text-blue-900"}},f=c[i],g=h[i],m=()=>{r(),e()};return l.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:l.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[l.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-75 transition-opacity",onClick:e,"aria-hidden":"true"}),l.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),l.jsxs("div",{className:"inline-block align-bottom bg-white rounded-xl text-left overflow-hidden shadow-2xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full mx-4 sm:mx-0",children:[l.jsx("div",{className:`${g.bg} ${g.border} border-b px-6 pt-6 pb-4`,children:l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx(f,{className:`h-8 w-8 ${g.icon}`})}),l.jsx("div",{className:"ml-4 flex-1",children:l.jsx("h3",{className:`text-lg font-bold ${g.title}`,children:n})}),l.jsx("button",{onClick:e,className:"rounded-lg p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200","aria-label":"Modalı kapat",children:l.jsx(ca,{size:20})})]})}),l.jsx("div",{className:"bg-white px-6 py-6",children:l.jsx("div",{className:"text-gray-700 text-base leading-relaxed whitespace-pre-line",children:s})}),l.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex justify-end space-x-3",children:[l.jsx(Ge,{onClick:e,variant:"secondary",size:"md",children:a}),l.jsx(Ge,{onClick:m,variant:o,size:"md",children:A})]})]})]})})},PR=()=>{const t=Yl(),{data:e}=yt("teachers"),{data:r}=yt("classes"),{data:n}=yt("subjects"),{data:s}=yt("schedules"),{data:i,remove:A}=yt("schedule-templates"),{success:a,error:o,warning:c}=Ys(),{confirmation:h,showConfirmation:f,hideConfirmation:g,confirmDelete:m}=pa(),B=[{icon:Mi,title:"Dersler",description:"Dersleri branş ve seviyelerine göre organize edin",color:"text-indigo-600",bgColor:"bg-indigo-50",path:"/subjects"},{icon:ls,title:"Öğretmenler",description:"Öğretmenleri ekleyin ve branşlarına göre yönetin",color:"text-blue-600",bgColor:"bg-blue-50",path:"/teachers"},{icon:Di,title:"Sınıflar",description:"Sınıfları seviyelerine göre kategorize edin",color:"text-emerald-600",bgColor:"bg-emerald-50",path:"/classes"},{icon:df,title:"Program Sihirbazı",description:"Adım adım otomatik program oluşturun",color:"text-orange-600",bgColor:"bg-orange-50",path:"/schedule-wizard"},{icon:ds,title:"Manuel Program",description:"Öğretmen veya sınıf bazlı manuel program oluşturun",color:"text-purple-600",bgColor:"bg-purple-50",path:"/schedules"},{icon:n0,title:"Programları Görüntüle",description:"Oluşturulan programları görüntüleyin ve inceleyin",color:"text-pink-600",bgColor:"bg-pink-50",path:"/all-schedules"},{icon:Sl,title:"PDF İndir",description:"Programları profesyonel PDF formatında indirin",color:"text-orange-600",bgColor:"bg-orange-50",path:"/pdf"},{icon:G2,title:"Veri Yönetimi",description:"Sistem verilerini yönetin ve temizleyin",color:"text-purple-600",bgColor:"bg-purple-50",path:"/data-management"}],b=x=>{t(`/schedule-wizard?templateId=${x}`)},F=x=>{m(x.name,async()=>{try{await A(x.id),a("🗑️ Program Silindi",`${x.name} başarıyla silindi`)}catch{o("❌ Silme Hatası","Program silinirken bir hata oluştu")}})},y=[...i].sort((x,S)=>new Date(S.updatedAt).getTime()-new Date(x.updatedAt).getTime());return l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"flex justify-center mb-3",children:l.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm",children:l.jsx("img",{src:"https://cv.ide.k12.tr/images/ideokullari_logo.png",alt:"İDE Okulları Logo",className:"w-12 h-12 object-contain",onError:x=>{const S=x.target;S.style.display="none";const D=S.parentElement;D&&(D.innerHTML='<div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-blue-600"><path d="M22 10v6M2 10l10-5 10 5-10 5z"/><path d="M6 12v5c3 3 9 3 12 0v-5"/></svg></div>')}})})}),l.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900 mb-2",children:"İDE Okulları Ders Programı Sistemi"}),l.jsx("p",{className:"text-sm md:text-base text-gray-600 mb-4 max-w-2xl mx-auto",children:"Sihirbaz ile otomatik program oluşturun veya manuel olarak düzenleyin. Çakışma kontrolü, zaman kısıtlamaları ve profesyonel PDF çıktıları."})]})}),i.length>0&&l.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:l.jsxs("div",{className:"bg-gradient-to-br from-ide-primary-50 via-white to-ide-secondary-50 rounded-2xl shadow-lg border border-ide-primary-100 p-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-extrabold text-ide-primary-800 flex items-center tracking-tight",children:"Oluşturulan Programlar"}),l.jsxs("p",{className:"text-sm text-ide-primary-600 mt-1 font-medium",children:[i.length," program • Düzenlemek için tıklayın"]})]}),l.jsx(Ge,{onClick:()=>t("/schedule-wizard"),icon:Yn,variant:"primary",size:"md",className:"shadow-md",children:"Yeni Program"})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:y.map(x=>l.jsxs("div",{className:"group bg-white rounded-2xl p-6 border border-ide-primary-100 shadow-sm hover:shadow-lg hover:border-ide-primary-300 transition-all duration-200 cursor-pointer relative flex flex-col min-h-[210px]",onClick:()=>b(x.id),children:[l.jsx("span",{className:`absolute top-4 right-4 px-3 py-1 rounded-full text-xs font-semibold shadow-sm border
                    ${x.status==="published"?"bg-emerald-50 text-emerald-700 border-emerald-200":x.status==="draft"?"bg-yellow-50 text-yellow-700 border-yellow-200":"bg-gray-50 text-gray-500 border-gray-200"}`,children:x.status==="published"?"Yayınlandı":x.status==="draft"?"Taslak":"Arşivlendi"}),l.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[l.jsx(ds,{className:"w-6 h-6 text-ide-primary-600 flex-shrink-0"}),l.jsx("h3",{className:"font-bold text-lg text-ide-primary-900 truncate group-hover:text-ide-primary-700 transition-colors",children:x.name})]}),l.jsxs("p",{className:"text-xs text-ide-primary-500 mb-1 font-medium",children:[x.academicYear," ",x.semester," Dönemi"]}),x.description&&l.jsx("p",{className:"text-sm text-gray-500 mb-3 line-clamp-2",children:x.description}),l.jsx("div",{className:"flex-1"}),l.jsxs("div",{className:"flex items-center justify-between pt-3 mt-3 border-t border-gray-100",children:[l.jsx("span",{className:"text-xs text-gray-400 flex items-center",children:(()=>{const S=new Date(x.updatedAt);return isNaN(S.getTime())?null:l.jsxs(l.Fragment,{children:[l.jsx(ZA,{className:"w-4 h-4 mr-1"}),S.toLocaleDateString("tr-TR")]})})()}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:S=>{S.stopPropagation(),b(x.id)},className:"p-2 rounded-lg bg-ide-primary-50 hover:bg-ide-primary-100 text-ide-primary-700 hover:text-ide-primary-900 shadow-sm border border-transparent hover:border-ide-primary-200 transition",title:"Düzenle",children:l.jsx(fa,{size:18})}),l.jsx("button",{onClick:S=>{S.stopPropagation(),F(x)},className:"p-2 rounded-lg bg-red-50 hover:bg-red-100 text-red-600 hover:text-red-800 shadow-sm border border-transparent hover:border-red-200 transition",title:"Sil",children:l.jsx(Jn,{size:18})})]})]})]},x.id))})]})}),l.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:B.map((x,S)=>l.jsxs("div",{onClick:()=>t(x.path),className:"group cursor-pointer bg-white rounded-lg p-4 shadow-sm hover:shadow-md transition-all duration-200 border border-gray-100 hover:border-gray-200",children:[l.jsx("div",{className:`${x.bgColor} w-10 h-10 rounded-lg flex items-center justify-center mb-3 group-hover:scale-105 transition-transform duration-200`,children:l.jsx(x.icon,{className:`w-5 h-5 ${x.color}`})}),l.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-2 group-hover:text-blue-600 transition-colors",children:x.title}),l.jsx("p",{className:"text-sm text-gray-600 leading-relaxed mb-3",children:x.description}),l.jsxs("div",{className:"flex items-center text-blue-600 text-sm font-medium group-hover:translate-x-1 transition-transform duration-200",children:["Başla ",l.jsx(BR,{className:"ml-1 w-3 h-3"})]})]},S))})}),l.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:l.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-gray-100",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-center",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-lg font-bold text-blue-600",children:e.length}),l.jsx("div",{className:"text-xs text-gray-600",children:"Öğretmen"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-lg font-bold text-emerald-600",children:r.length}),l.jsx("div",{className:"text-xs text-gray-600",children:"Sınıf"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-lg font-bold text-indigo-600",children:n.length}),l.jsx("div",{className:"text-xs text-gray-600",children:"Ders"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-lg font-bold text-purple-600",children:s.length}),l.jsx("div",{className:"text-xs text-gray-600",children:"Program"})]})]})})}),l.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:l.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-gray-100",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-center",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-lg font-bold text-gray-900",children:"Sihirbaz Sistemi"}),l.jsx("div",{className:"text-xs text-gray-600",children:"Adım adım otomatik oluşturma"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-lg font-bold text-gray-900",children:"Zaman Kısıtlamaları"}),l.jsx("div",{className:"text-xs text-gray-600",children:"Esnek kısıtlama yönetimi"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-lg font-bold text-gray-900",children:"Çakışma Kontrolü"}),l.jsx("div",{className:"text-xs text-gray-600",children:"Otomatik çakışma tespiti"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-lg font-bold text-gray-900",children:"PDF Çıktı"}),l.jsx("div",{className:"text-xs text-gray-600",children:"Profesyonel görünüm"})]})]})})}),l.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:l.jsx("div",{className:"text-center",children:l.jsx("p",{className:"text-xs text-gray-500",children:"Sihirbaz tabanlı otomatik program oluşturma sistemi"})})}),l.jsx(ma,{isOpen:h.isOpen,onClose:g,onConfirm:h.onConfirm,title:h.title,message:h.message,type:h.type,confirmText:h.confirmText,cancelText:h.cancelText,confirmVariant:h.confirmVariant})]})},Tt=["Pazartesi","Salı","Çarşamba","Perşembe","Cuma"],An=["1","2","3","4","5","6","7","8","9","10"],cs=["Anaokulu","İlkokul","Ortaokul"],f5=[{period:"breakfast1",startTime:"08:30",endTime:"08:50",isBreak:!0,breakType:"breakfast",breakDuration:20},{period:"1",startTime:"08:50",endTime:"09:25"},{period:"break1",startTime:"09:25",endTime:"09:35",isBreak:!0,breakType:"prep",breakDuration:10},{period:"2",startTime:"09:35",endTime:"10:10"},{period:"break2",startTime:"10:10",endTime:"10:20",isBreak:!0,breakType:"prep",breakDuration:10},{period:"3",startTime:"10:20",endTime:"10:55"},{period:"break3",startTime:"10:55",endTime:"11:05",isBreak:!0,breakType:"prep",breakDuration:10},{period:"4",startTime:"11:05",endTime:"11:40"},{period:"break4",startTime:"11:40",endTime:"11:50",isBreak:!0,breakType:"prep",breakDuration:10},{period:"5",startTime:"11:50",endTime:"12:25"},{period:"lunch",startTime:"12:25",endTime:"12:30",isBreak:!0,breakType:"lunch",breakDuration:5},{period:"6",startTime:"12:30",endTime:"13:05"},{period:"break5",startTime:"13:05",endTime:"13:15",isBreak:!0,breakType:"prep",breakDuration:10},{period:"7",startTime:"13:15",endTime:"13:50"},{period:"break6",startTime:"13:50",endTime:"14:00",isBreak:!0,breakType:"prep",breakDuration:10},{period:"8",startTime:"14:00",endTime:"14:35"},{period:"breakfast2",startTime:"14:35",endTime:"14:45",isBreak:!0,breakType:"breakfast",breakDuration:10},{period:"9",startTime:"14:45",endTime:"15:20"},{period:"break7",startTime:"15:20",endTime:"15:25",isBreak:!0,breakType:"prep",breakDuration:5},{period:"10",startTime:"15:25",endTime:"16:00"}],DR=[{period:"prep",startTime:"08:30",endTime:"08:40",isBreak:!0,breakType:"prep",breakDuration:10},{period:"1",startTime:"08:40",endTime:"09:15"},{period:"breakfast",startTime:"09:15",endTime:"09:35",isBreak:!0,breakType:"breakfast",breakDuration:20},{period:"2",startTime:"09:35",endTime:"10:10"},{period:"break1",startTime:"10:10",endTime:"10:20",isBreak:!0,breakType:"prep",breakDuration:10},{period:"3",startTime:"10:20",endTime:"10:55"},{period:"break2",startTime:"10:55",endTime:"11:05",isBreak:!0,breakType:"prep",breakDuration:10},{period:"4",startTime:"11:05",endTime:"11:40"},{period:"break3",startTime:"11:40",endTime:"11:50",isBreak:!0,breakType:"prep",breakDuration:10},{period:"5",startTime:"11:50",endTime:"12:25"},{period:"break4",startTime:"12:25",endTime:"12:30",isBreak:!0,breakType:"prep",breakDuration:5},{period:"6",startTime:"12:30",endTime:"13:05"},{period:"break5",startTime:"13:05",endTime:"13:15",isBreak:!0,breakType:"prep",breakDuration:10},{period:"7",startTime:"13:15",endTime:"13:50"},{period:"break6",startTime:"13:50",endTime:"14:00",isBreak:!0,breakType:"prep",breakDuration:10},{period:"8",startTime:"14:00",endTime:"14:35"},{period:"breakfast2",startTime:"14:35",endTime:"14:45",isBreak:!0,breakType:"breakfast",breakDuration:10},{period:"9",startTime:"14:45",endTime:"15:20"},{period:"break7",startTime:"15:20",endTime:"15:25",isBreak:!0,breakType:"prep",breakDuration:5},{period:"10",startTime:"15:25",endTime:"16:00"}],RR=[{period:"breakfast1",startTime:"08:30",endTime:"08:50",isBreak:!0,breakType:"breakfast",breakDuration:20},{period:"1",startTime:"08:50",endTime:"09:25"},{period:"break1",startTime:"09:25",endTime:"09:35",isBreak:!0,breakType:"prep",breakDuration:10},{period:"2",startTime:"09:35",endTime:"10:10"},{period:"break2",startTime:"10:10",endTime:"10:20",isBreak:!0,breakType:"prep",breakDuration:10},{period:"3",startTime:"10:20",endTime:"10:55"},{period:"break3",startTime:"10:55",endTime:"11:05",isBreak:!0,breakType:"prep",breakDuration:10},{period:"4",startTime:"11:05",endTime:"11:40"},{period:"break4",startTime:"11:40",endTime:"11:50",isBreak:!0,breakType:"prep",breakDuration:10},{period:"5",startTime:"11:50",endTime:"12:25"},{period:"lunch",startTime:"12:25",endTime:"12:30",isBreak:!0,breakType:"lunch",breakDuration:5},{period:"6",startTime:"12:30",endTime:"13:05"},{period:"break5",startTime:"13:05",endTime:"13:15",isBreak:!0,breakType:"prep",breakDuration:10},{period:"7",startTime:"13:15",endTime:"13:50"},{period:"break6",startTime:"13:50",endTime:"14:00",isBreak:!0,breakType:"prep",breakDuration:10},{period:"8",startTime:"14:00",endTime:"14:35"},{period:"breakfast2",startTime:"14:35",endTime:"14:45",isBreak:!0,breakType:"breakfast",breakDuration:10},{period:"9",startTime:"14:45",endTime:"15:20"},{period:"break7",startTime:"15:20",endTime:"15:25",isBreak:!0,breakType:"prep",breakDuration:5},{period:"10",startTime:"15:25",endTime:"16:00"}],OR=t=>{switch(t){case"İlkokul":return f5;case"Ortaokul":return DR;case"Anaokulu":return RR;default:return f5}},Mh=(t,e)=>OR(e).find(n=>n.period===t&&!n.isBreak),s0=(t,e)=>`${t} - ${e}`,Vi=({isOpen:t,onClose:e,title:r,children:n,size:s="md"})=>{if(ue.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),ue.useEffect(()=>{const A=a=>{a.key==="Escape"&&t&&e()};return document.addEventListener("keydown",A),()=>document.removeEventListener("keydown",A)},[t,e]),!t)return null;const i={sm:"sm:max-w-md",md:"sm:max-w-lg",lg:"sm:max-w-2xl",xl:"sm:max-w-4xl"};return l.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:l.jsxs("div",{className:"flex items-end sm:items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[l.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-75 transition-opacity",onClick:e,"aria-hidden":"true"}),l.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),l.jsxs("div",{className:`
          inline-block align-bottom bg-white text-left overflow-hidden shadow-2xl transform transition-all 
          sm:my-8 sm:align-middle sm:w-full ${i[s]}
          
          /* MOBILE OPTIMIZATIONS */
          w-full max-w-none mx-0 mb-0
          sm:mx-4 sm:mb-4 sm:max-w-lg
          
          /* MOBILE: Full width with rounded top corners */
          rounded-t-2xl sm:rounded-xl
          
          /* MOBILE: Better height management */
          max-h-[95vh] sm:max-h-[90vh]
          
          /* MOBILE: Ensure proper positioning */
          modal-mobile
        `,children:[l.jsx("div",{className:"bg-white px-4 sm:px-6 pt-5 sm:pt-6 pb-4 border-b border-gray-200 sticky top-0 z-10",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 pr-4 truncate",children:r}),l.jsx("button",{onClick:e,className:"rounded-lg p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 btn-touch flex-shrink-0","aria-label":"Modalı kapat",children:l.jsx(ca,{size:24})})]})}),l.jsx("div",{className:"bg-white px-4 sm:px-6 py-4 sm:py-6 overflow-y-auto flex-1",children:l.jsx("div",{className:"form-mobile",children:n})})]})]})})},qt=({label:t,value:e,onChange:r,options:n,required:s=!1,error:i,disabled:A=!1})=>l.jsxs("div",{className:"mb-4",children:[l.jsxs("label",{className:"block text-sm font-semibold text-ide-gray-800 mb-2",children:[t," ",s&&l.jsx("span",{className:"text-ide-accent-600 ml-1",children:"*"})]}),l.jsxs("div",{className:"relative",children:[l.jsxs("select",{value:e,onChange:a=>r(a.target.value),required:s,disabled:A,className:`ide-input w-full appearance-none bg-white ${i?"border-ide-accent-400 bg-ide-accent-50 focus:border-ide-accent-500 focus:ring-ide-accent-200 text-ide-accent-900":A?"border-ide-gray-200 bg-ide-gray-50 text-ide-gray-500 cursor-not-allowed":"border-ide-gray-300 focus:border-ide-primary-500 focus:ring-ide-primary-200 text-ide-gray-900 hover:border-ide-gray-400"}`,children:[l.jsx("option",{value:"",className:"text-ide-gray-500",children:"Seçiniz..."}),n.map(a=>l.jsx("option",{value:a.value,className:"text-ide-gray-900",children:a.label},a.value))]}),l.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:i?l.jsx(Oh,{className:"h-5 w-5 text-ide-accent-500"}):l.jsx(bR,{className:`h-5 w-5 ${A?"text-ide-gray-400":"text-ide-gray-500"}`})})]}),i&&l.jsxs("div",{className:"mt-2 flex items-start space-x-2",children:[l.jsx(Oh,{className:"h-4 w-4 text-ide-accent-600 mt-0.5 flex-shrink-0"}),l.jsx("p",{className:"text-sm font-medium text-ide-accent-700",children:i})]})]}),HR=()=>{const{data:t,loading:e,add:r,update:n,remove:s}=yt("teachers"),{data:i}=yt("subjects"),{success:A,error:a,warning:o}=Ys(),{confirmation:c,showConfirmation:h,hideConfirmation:f,confirmDelete:g}=pa(),[m,B]=ue.useState(!1),[b,F]=ue.useState(!1),[y,x]=ue.useState(null),[S,D]=ue.useState(""),[V,G]=ue.useState(""),[Q,_]=ue.useState(""),[k,N]=ue.useState(!1),[E,U]=ue.useState([{name:"",branch:"",level:""}]),[I,j]=ue.useState({name:"",branch:"",levels:[],subjectIds:[]});ue.useEffect(()=>{if(I.subjectIds.length>0){const ie=I.subjectIds.filter(fe=>{const Ie=i.find(ze=>ze.id===fe);return Ie?(Ie.levels||[Ie.level]).some(ze=>I.levels.includes(ze)):!1});ie.length<I.subjectIds.length&&j(fe=>({...fe,subjectIds:ie}))}},[I.levels,i,I.subjectIds]);const $=()=>[...new Set(i.map(fe=>fe.branch))].sort((fe,Ie)=>fe.localeCompare(Ie,"tr")),ne=t.filter(ie=>{const fe=ie.levels||[ie.level],Ie=ie.branches||ie.branch.split(",").map(lt=>lt.trim()),Ve=!S||fe.includes(S),ze=!V||Ie.includes(V),tt=!Q||ie.name.toLowerCase().includes(Q.toLowerCase())||he(ie).toLowerCase().includes(Q.toLowerCase());return Ve&&ze&&tt}).sort((ie,fe)=>ie.name.localeCompare(fe.name,"tr")),ee=()=>{if(t.length===0){o("⚠️ Silinecek Öğretmen Yok","Sistemde silinecek öğretmen bulunamadı");return}g(`${t.length} Öğretmen`,async()=>{N(!0);try{for(const ie of t)await s(ie.id);A("🗑️ Öğretmenler Silindi",`${t.length} öğretmen başarıyla silindi`),D(""),G(""),_("")}catch{a("❌ Silme Hatası","Öğretmenler silinirken bir hata oluştu")}finally{N(!1)}})},ce=async ie=>{if(ie.preventDefault(),!I.branch){a("❌ Branş Seçimi Gerekli","Lütfen bir branş seçin.");return}if(I.levels.length===0){a("❌ Eğitim Seviyesi Gerekli","En az bir eğitim seviyesi seçmelisiniz.");return}try{const fe={name:I.name,branch:I.branch,branches:[I.branch],level:I.levels[0],levels:I.levels,subjectIds:I.subjectIds};y?(await n(y.id,fe),A("✅ Öğretmen Güncellendi",`${I.name} başarıyla güncellendi.`)):(await r(fe),A("✅ Öğretmen Eklendi",`${I.name} başarıyla eklendi.`)),_e()}catch{a("❌ Hata","Öğretmen kaydedilirken bir hata oluştu.")}},ye=async ie=>{ie.preventDefault();const fe=E.filter(Ie=>Ie.name&&Ie.branch&&Ie.level);if(fe.length===0){a("Hata","Lütfen en az bir geçerli öğretmen bilgisi girin.");return}try{for(const Ie of fe)cs.includes(Ie.level)&&await r({name:Ie.name,branch:Ie.branch,level:Ie.level,branches:[Ie.branch],levels:[Ie.level]});U([{name:"",branch:"",level:""}]),F(!1),A("✅ Öğretmenler Eklendi",`${fe.length} öğretmen başarıyla eklendi`)}catch{a("❌ Hata","Toplu öğretmen eklenirken bir hata oluştu.")}},_e=()=>{j({name:"",branch:"",levels:[],subjectIds:[]}),x(null),B(!1)},P=ie=>{const fe=ie.levels||[ie.level];j({name:ie.name,branch:ie.branch,levels:fe,subjectIds:ie.subjectIds||[]}),x(ie),B(!0)},q=async ie=>{const fe=t.find(Ie=>Ie.id===ie);fe&&g(fe.name,async()=>{await s(ie),A("🗑️ Öğretmen Silindi",`${fe.name} başarıyla silindi`)})},Z=ie=>{j(fe=>({...fe,levels:fe.levels.includes(ie)?fe.levels.filter(Ie=>Ie!==ie):[...fe.levels,ie]}))},Y=ie=>{j(fe=>({...fe,subjectIds:fe.subjectIds.includes(ie)?fe.subjectIds.filter(Ie=>Ie!==ie):[...fe.subjectIds,ie]}))},X=()=>U([...E,{name:"",branch:"",level:""}]),J=ie=>{E.length>1&&U(E.filter((fe,Ie)=>Ie!==ie))},Ae=(ie,fe,Ie)=>{const Ve=[...E];Ve[ie]={...Ve[ie],[fe]:Ie},U(Ve)},le=()=>_(""),oe=ie=>{ie.key==="Enter"&&ie.currentTarget.blur(),ie.key==="Escape"&&le()},he=ie=>ie.branch,Ee=ie=>ie.levels||[ie.level],pe=i.filter(ie=>I.levels.length===0?!1:(ie.levels||[ie.level]).some(Ie=>I.levels.includes(Ie))).sort((ie,fe)=>ie.name.localeCompare(fe.name,"tr")),Te=cs.map(ie=>({value:ie,label:ie})),we=[{value:"",label:"Branş Seçin..."},...$().map(ie=>({value:ie,label:ie}))],te=[{value:"",label:"Tüm Seviyeler"},...Te],ve=[{value:"",label:"Tüm Branşlar"},...$().map(ie=>({value:ie,label:ie}))];return e?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsxs("div",{className:"mobile-loading",children:[l.jsx("div",{className:"mobile-loading-spinner"}),l.jsx("div",{className:"mobile-loading-text",children:"Yükleniyor..."})]})}):l.jsxs("div",{className:"container-mobile",children:[l.jsxs("div",{className:"header-mobile",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(ls,{className:"w-8 h-8 text-blue-600 mr-3"}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-responsive-xl font-bold text-gray-900",children:"Öğretmenler"}),l.jsxs("p",{className:"text-responsive-sm text-gray-600",children:[t.length," öğretmen kayıtlı (",ne.length," gösteriliyor)"]})]})]}),l.jsxs("div",{className:"button-group-mobile",children:[t.length>0&&l.jsx(Ge,{onClick:ee,icon:Jn,variant:"danger",disabled:k,className:"w-full sm:w-auto",children:k?"Siliniyor...":`Tümünü Sil (${t.length})`}),l.jsx(Ge,{onClick:()=>F(!0),icon:Yn,variant:"secondary",className:"w-full sm:w-auto",children:"Toplu Ekle"}),l.jsx(Ge,{onClick:()=>B(!0),icon:Yn,variant:"primary",className:"w-full sm:w-auto",children:"Yeni Öğretmen"})]})]}),l.jsxs("div",{className:"mobile-card mobile-spacing mb-6",children:[l.jsxs("div",{className:"mobile-form-group",children:[l.jsx("label",{className:"mobile-form-label",children:"🔍 Öğretmen Ara"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(SS,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{type:"text",value:Q,onChange:ie=>_(ie.target.value),onKeyDown:oe,placeholder:"Öğretmen adı veya branş ara... (Enter ile ara)",className:"block w-full pl-10 pr-10 py-3 text-base border-2 border-gray-300 rounded-lg bg-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",title:"Enter ile ara, ESC ile temizle"}),Q&&l.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:l.jsx("button",{onClick:le,className:"text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-full hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500",title:"Aramayı temizle",children:l.jsx(ca,{className:"w-5 w-5"})})})]}),Q&&l.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[l.jsxs("p",{className:"text-sm text-blue-600",children:['🔍 "',Q,'" için ',ne.length," sonuç bulundu"]}),l.jsx("button",{onClick:le,className:"text-xs text-gray-500 hover:text-gray-700 underline",children:"Temizle"})]})]}),l.jsxs("div",{className:"responsive-grid-2 gap-responsive",children:[l.jsx(qt,{label:"Seviye Filtresi",value:S,onChange:D,options:te}),l.jsx(qt,{label:"Branş Filtresi",value:V,onChange:G,options:ve})]})]}),ne.length===0?l.jsxs("div",{className:"text-center py-12 mobile-card",children:[l.jsx(ls,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:t.length===0?"Henüz öğretmen eklenmemiş":Q?"Arama sonucu bulunamadı":"Filtrelere uygun öğretmen bulunamadı"}),l.jsx("p",{className:"text-gray-500 mb-4",children:t.length===0?"İlk öğretmeninizi ekleyerek başlayın":Q?`"${Q}" araması için sonuç bulunamadı`:"Farklı filtre kriterleri deneyin"})]}):l.jsx("div",{className:"mobile-card overflow-hidden",children:l.jsx("div",{className:"table-responsive",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ad Soyad"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Branş"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Seviye"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"İşlemler"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ne.map(ie=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm font-medium text-gray-900",children:ie.name})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm text-gray-500",children:he(ie)})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"flex flex-wrap gap-1",children:Ee(ie).map((fe,Ie)=>l.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${fe==="Anaokulu"?"bg-green-100 text-green-800":fe==="İlkokul"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:fe},Ie))})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:l.jsxs("div",{className:"flex justify-end space-x-2",children:[l.jsx(Ge,{onClick:()=>P(ie),icon:fa,size:"sm",variant:"secondary",children:"Düzenle"}),l.jsx(Ge,{onClick:()=>q(ie.id),icon:Jn,size:"sm",variant:"danger",children:"Sil"})]})})]},ie.id))})]})})}),l.jsx(Vi,{isOpen:m,onClose:_e,title:y?"Öğretmen Düzenle":"Yeni Öğretmen Ekle",size:"lg",children:l.jsxs("form",{onSubmit:ce,children:[l.jsx(dr,{label:"Ad Soyad",value:I.name,onChange:ie=>j({...I,name:ie}),placeholder:"Örn: Ahmet Yılmaz",required:!0}),l.jsx(qt,{label:"Branş",value:I.branch,onChange:ie=>j({...I,branch:ie}),options:we,required:!0}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:["Eğitim Seviyeleri ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("div",{className:"flex flex-wrap gap-3",children:cs.map(ie=>l.jsxs("label",{className:`flex items-center p-3 border-2 rounded-lg cursor-pointer transition-all ${I.levels.includes(ie)?"bg-blue-50 border-blue-500 text-blue-700":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[l.jsx("input",{type:"checkbox",checked:I.levels.includes(ie),onChange:()=>Z(ie),className:"sr-only"}),l.jsx("span",{className:"text-sm font-medium",children:ie}),I.levels.includes(ie)&&l.jsx("span",{className:"ml-2 text-blue-600",children:"✓"})]},ie))}),I.levels.length>0&&l.jsxs("p",{className:"text-xs text-blue-600 mt-2",children:["✨ Seçilen seviyeler: ",I.levels.join(", ")]})]}),l.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[l.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[l.jsx(Mi,{className:"w-5 h-5 mr-2 text-indigo-600"}),"Dersler"]}),l.jsxs("div",{className:"space-y-2 p-3 border border-gray-300 rounded-lg bg-gray-50 max-h-60 overflow-y-auto",children:[pe.map(ie=>l.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer p-2 hover:bg-gray-100 rounded-md",children:[l.jsx("input",{type:"checkbox",checked:I.subjectIds.includes(ie.id),onChange:()=>Y(ie.id),className:"w-4 h-4 text-indigo-600 bg-gray-100 border-gray-300 rounded focus:ring-indigo-500"}),l.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[ie.name,l.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",ie.branch," - ",(ie.levels||[ie.level]).join(", "),")"]})]})]},ie.id)),I.levels.length>0&&pe.length===0&&l.jsx("div",{className:"text-center text-sm text-gray-500 py-4",children:"Seçilen seviyelere uygun ders bulunamadı."}),I.levels.length===0&&l.jsx("div",{className:"text-center text-sm text-gray-500 py-4",children:"Dersleri görmek için lütfen önce eğitim seviyesi seçin."})]}),I.subjectIds.length>0&&l.jsxs("p",{className:"text-xs text-indigo-600 mt-2",children:["✨ ",I.subjectIds.length," ders seçildi."]})]}),l.jsxs("div",{className:"button-group-mobile mt-6",children:[l.jsx(Ge,{type:"button",onClick:_e,variant:"secondary",children:"İptal"}),l.jsx(Ge,{type:"submit",variant:"primary",disabled:!I.branch||I.levels.length===0,children:y?"Güncelle":"Kaydet"})]})]})}),l.jsx(Vi,{isOpen:b,onClose:()=>F(!1),title:"Toplu Öğretmen Ekleme",children:l.jsxs("form",{onSubmit:ye,children:[l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Öğretmen Listesi"}),l.jsx(Ge,{type:"button",onClick:X,variant:"secondary",size:"sm",children:"+ Satır Ekle"})]}),l.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:E.map((ie,fe)=>l.jsxs("div",{className:"grid grid-cols-4 gap-2 p-3 bg-gray-50 rounded-lg",children:[l.jsx("input",{type:"text",placeholder:"Ad Soyad",value:ie.name,onChange:Ie=>Ae(fe,"name",Ie.target.value),className:"col-span-2 px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",required:!0}),l.jsxs("select",{value:ie.branch,onChange:Ie=>Ae(fe,"branch",Ie.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",required:!0,children:[l.jsx("option",{value:"",children:"Branş Seç"}),$().map(Ie=>l.jsx("option",{value:Ie,children:Ie},Ie))]}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsxs("select",{value:ie.level,onChange:Ie=>Ae(fe,"level",Ie.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",required:!0,children:[l.jsx("option",{value:"",children:"Seviye"}),cs.map(Ie=>l.jsx("option",{value:Ie,children:Ie},Ie))]}),l.jsx("button",{type:"button",onClick:()=>J(fe),className:"p-1.5 bg-red-100 text-red-600 rounded hover:bg-red-200 disabled:opacity-50",disabled:E.length===1,children:l.jsx(Jn,{size:14})})]})]},fe))})]}),l.jsxs("div",{className:"button-group-mobile mt-4",children:[l.jsx(Ge,{type:"button",onClick:()=>F(!1),variant:"secondary",children:"İptal"}),l.jsxs(Ge,{type:"submit",variant:"primary",children:["Toplu Ekle (",E.filter(ie=>ie.name&&ie.branch&&ie.level).length," öğretmen)"]})]})]})}),l.jsx(ma,{isOpen:c.isOpen,onClose:f,onConfirm:c.onConfirm,title:c.title,message:c.message,type:c.type,confirmText:c.confirmText,cancelText:c.cancelText,confirmVariant:c.confirmVariant})]})},MR=()=>{const t=Yl(),{data:e,loading:r,add:n,update:s,remove:i}=yt("classes"),{data:A}=yt("schedules"),{data:a}=yt("teachers"),{success:o,error:c,warning:h}=Ys(),{confirmation:f,showConfirmation:g,hideConfirmation:m,confirmDelete:B}=pa(),[b,F]=ue.useState(!1),[y,x]=ue.useState(!1),[S,D]=ue.useState(null),[V,G]=ue.useState(""),[Q,_]=ue.useState(!1),[k,N]=ue.useState([{name:"",level:""}]),[E,U]=ue.useState({name:"",levels:[],teacherIds:[],classTeacherId:""}),I=ve=>A.some(ie=>Object.values(ie.schedule).some(fe=>Object.values(fe).some(Ie=>(Ie==null?void 0:Ie.classId)===ve))),j=ve=>{let ie=0;return A.forEach(fe=>{Object.values(fe.schedule).forEach(Ie=>{Object.values(Ie).forEach(Ve=>{(Ve==null?void 0:Ve.classId)===ve&&ie++})})}),ie},$=ve=>{t(`/class-schedules?classId=${ve}`)},ae=ve=>{t(`/schedules?mode=class&classId=${ve}`)},ee=e.filter(ve=>!V||ve.level===V||ve.levels&&ve.levels.includes(V)).sort((ve,ie)=>ve.name.localeCompare(ie.name,"tr")),ce=()=>{if(e.length===0){h("⚠️ Silinecek Sınıf Yok","Sistemde silinecek sınıf bulunamadı");return}B(`${e.length} Sınıf`,async()=>{_(!0);try{let ve=0;console.log("🗑️ Tüm sınıflar siliniyor:",{totalClasses:e.length});for(const ie of e)try{await i(ie.id),ve++,console.log(`✅ Sınıf silindi: ${ie.name}`)}catch(fe){console.error(`❌ Sınıf silinemedi: ${ie.name}`,fe)}ve>0?(o("🗑️ Sınıflar Silindi",`${ve} sınıf başarıyla silindi`),G("")):c("❌ Silme Hatası","Hiçbir sınıf silinemedi")}catch(ve){console.error("❌ Toplu silme hatası:",ve),c("❌ Silme Hatası","Sınıflar silinirken bir hata oluştu")}finally{_(!1)}})},ye=async ve=>{if(ve.preventDefault(),E.levels.length===0){c("❌ Eğitim Seviyesi Gerekli","En az bir eğitim seviyesi seçmelisiniz");return}const ie={name:E.name,level:E.levels[0],levels:E.levels,teacherIds:E.teacherIds,classTeacherId:E.classTeacherId};try{S?(await s(S.id,ie),o("✅ Sınıf Güncellendi",`${E.name} sınıfı başarıyla güncellendi`)):(await n(ie),o("✅ Sınıf Eklendi",`${E.name} sınıfı başarıyla eklendi`)),P()}catch{c("❌ Hata","Sınıf kaydedilirken bir hata oluştu")}},_e=async ve=>{ve.preventDefault();for(const ie of k)ie.name&&ie.level&&cs.includes(ie.level)&&await n({name:ie.name,level:ie.level,levels:[ie.level],teacherIds:[]});N([{name:"",level:""}]),x(!1),o("✅ Sınıflar Eklendi",`${k.filter(ie=>ie.name&&ie.level).length} sınıf başarıyla eklendi`)},P=()=>{U({name:"",levels:[],teacherIds:[],classTeacherId:""}),D(null),F(!1)},q=ve=>{const ie=ve.levels||[ve.level];U({name:ve.name,levels:ie,teacherIds:ve.teacherIds||[],classTeacherId:ve.classTeacherId||""}),D(ve),F(!0)},Z=async ve=>{const ie=e.find(fe=>fe.id===ve);ie&&B(ie.name,async()=>{await i(ve),o("🗑️ Sınıf Silindi",`${ie.name} başarıyla silindi`)})},Y=()=>{N([...k,{name:"",level:""}])},X=ve=>{k.length>1&&N(k.filter((ie,fe)=>fe!==ve))},J=(ve,ie,fe)=>{const Ie=[...k];Ie[ve]={...Ie[ve],[ie]:fe},N(Ie)},Ae=ve=>{U(ie=>{if(ie.teacherIds.includes(ve)){const Ie=ie.teacherIds.filter(ze=>ze!==ve),Ve=ie.classTeacherId===ve?"":ie.classTeacherId;return{...ie,teacherIds:Ie,classTeacherId:Ve}}else return{...ie,teacherIds:[...ie.teacherIds,ve]}})},le=ve=>{U(ie=>{const fe=ie.teacherIds.includes(ve)?ie.teacherIds:[...ie.teacherIds,ve];return{...ie,teacherIds:fe,classTeacherId:ve}})},oe=ve=>{U(ie=>ie.levels.includes(ve)?{...ie,levels:ie.levels.filter(Ie=>Ie!==ve)}:{...ie,levels:[...ie.levels,ve]})},he=()=>E.levels.length===0?[]:a.filter(ve=>{const ie=ve.levels||[ve.level];return E.levels.some(fe=>ie.includes(fe))}).sort((ve,ie)=>ve.name.localeCompare(ie.name,"tr")),Ee=ve=>{if(!ve)return"";const ie=a.find(fe=>fe.id===ve);return ie?ie.name:""},pe=ve=>!ve||ve.length===0?"":a.filter(fe=>ve.includes(fe.id)).map(fe=>fe.name).join(", "),Te=ve=>ve.levels&&ve.levels.length>0?ve.levels:[ve.level],we=cs.map(ve=>({value:ve,label:ve})),te=[{value:"",label:"Tüm Seviyeler"},...we];return r?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsxs("div",{className:"mobile-loading",children:[l.jsx("div",{className:"mobile-loading-spinner"}),l.jsx("div",{className:"mobile-loading-text",children:"Yükleniyor..."})]})}):l.jsxs("div",{className:"container-mobile",children:[l.jsxs("div",{className:"header-mobile",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Di,{className:"w-8 h-8 text-emerald-600 mr-3"}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-responsive-xl font-bold text-gray-900",children:"Sınıflar"}),l.jsxs("p",{className:"text-responsive-sm text-gray-600",children:[e.length," sınıf kayıtlı (",ee.length," gösteriliyor)"]})]})]}),l.jsxs("div",{className:"button-group-mobile",children:[e.length>0&&l.jsx(Ge,{onClick:ce,icon:Jn,variant:"danger",disabled:Q,className:"w-full sm:w-auto",children:Q?"Siliniyor...":`Tümünü Sil (${e.length})`}),l.jsx(Ge,{onClick:()=>x(!0),icon:Yn,variant:"secondary",className:"w-full sm:w-auto",children:"Toplu Ekle"}),l.jsx(Ge,{onClick:()=>F(!0),icon:Yn,variant:"primary",className:"w-full sm:w-auto",children:"Yeni Sınıf"})]})]}),l.jsx("div",{className:"mobile-card mobile-spacing mb-6",children:l.jsx("div",{className:"responsive-grid-1 gap-responsive",children:l.jsx(qt,{label:"Seviye Filtresi",value:V,onChange:G,options:te})})}),ee.length===0?l.jsxs("div",{className:"text-center py-12 mobile-card",children:[l.jsx(Di,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:e.length===0?"Henüz sınıf eklenmemiş":"Filtrelere uygun sınıf bulunamadı"}),l.jsx("p",{className:"text-gray-500 mb-4",children:e.length===0?"İlk sınıfınızı ekleyerek başlayın":"Farklı filtre kriterleri deneyin"}),l.jsx("div",{className:"button-group-mobile",children:e.length===0&&l.jsxs(l.Fragment,{children:[l.jsx(Ge,{onClick:()=>x(!0),icon:Yn,variant:"secondary",children:"Toplu Ekle"}),l.jsx(Ge,{onClick:()=>F(!0),icon:Yn,variant:"primary",children:"Sınıf Ekle"})]})})]}):l.jsx("div",{className:"responsive-grid gap-responsive",children:ee.map(ve=>{const ie=I(ve.id),fe=j(ve.id),Ie=Ee(ve.classTeacherId),Ve=pe(ve.teacherIds),ze=Te(ve);return l.jsxs("div",{className:"mobile-card mobile-spacing hover:shadow-md transition-shadow",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:ve.name}),l.jsx("div",{className:"flex flex-wrap gap-1",children:ze.map((tt,lt)=>l.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${tt==="Anaokulu"?"bg-green-100 text-green-800":tt==="İlkokul"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:tt},lt))})]}),(Ie||Ve)&&l.jsx("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(ls,{className:"w-4 h-4 text-blue-600 mr-2"}),l.jsxs("div",{children:[Ie&&l.jsxs("p",{className:"text-sm font-medium text-blue-700",children:[l.jsx("span",{className:"font-bold",children:"Sınıf öğretmeni:"})," ",Ie]}),Ve&&l.jsxs("p",{className:"text-sm text-blue-600 mt-1",children:[l.jsx("span",{className:"font-medium",children:"Öğretmenler:"})," ",Ve]})]})]})}),l.jsx("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Program Durumu"}),l.jsxs("div",{className:"flex items-center mt-1",children:[l.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${ie?"bg-green-500":"bg-gray-400"}`}),l.jsx("span",{className:`text-sm ${ie?"text-green-700":"text-gray-500"}`,children:ie?`${fe} ders saati`:"Program yok"})]})]}),ie&&l.jsx("button",{onClick:()=>$(ve.id),className:"p-2 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",title:"Programı Görüntüle","aria-label":`${ve.name} sınıfının programını görüntüle`,children:l.jsx(n0,{size:18})})]})}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{className:"flex space-x-1",children:[l.jsx("button",{onClick:()=>q(ve),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",title:"Sınıfı Düzenle","aria-label":`${ve.name} sınıfını düzenle`,children:l.jsx(fa,{size:16})}),l.jsx("button",{onClick:()=>Z(ve.id),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",title:"Sınıfı Sil","aria-label":`${ve.name} sınıfını sil`,children:l.jsx(Jn,{size:16})})]}),l.jsx("button",{onClick:()=>ae(ve.id),className:"p-2 text-emerald-600 hover:text-emerald-800 hover:bg-emerald-50 rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2",title:ie?"Programı Düzenle":"Program Oluştur","aria-label":`${ve.name} sınıfı için ${ie?"programı düzenle":"program oluştur"}`,children:l.jsx(ds,{size:18})})]})]},ve.id)})}),l.jsx(Vi,{isOpen:b,onClose:P,title:S?"Sınıf Düzenle":"Yeni Sınıf Ekle",size:"lg",children:l.jsxs("form",{onSubmit:ye,children:[l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Sınıf Bilgileri"}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(dr,{label:"Sınıf Adı",value:E.name,onChange:ve=>U({...E,name:ve}),placeholder:"Örn: 5A, 7B",required:!0}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:["Eğitim Seviyeleri ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("div",{className:"flex flex-wrap gap-3",children:cs.map(ve=>l.jsxs("label",{className:`
                          flex items-center p-3 border-2 rounded-lg cursor-pointer transition-all
                          ${E.levels.includes(ve)?"bg-emerald-50 border-emerald-500 text-emerald-700":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}
                        `,children:[l.jsx("input",{type:"checkbox",checked:E.levels.includes(ve),onChange:()=>oe(ve),className:"sr-only"}),l.jsx("span",{className:"text-sm font-medium",children:ve}),E.levels.includes(ve)&&l.jsx("span",{className:"ml-2 text-emerald-600",children:"✓"})]},ve))}),E.levels.length>0&&l.jsxs("p",{className:"text-xs text-emerald-600 mt-2",children:["✨ Seçilen seviyeler: ",E.levels.join(", ")]})]})]})]}),E.levels.length>0&&l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[l.jsx(ls,{className:"w-5 h-5 mr-2 text-blue-600"}),"Sınıf Öğretmenleri"]}),he().length===0?l.jsxs("div",{className:"text-center py-6 bg-gray-50 rounded-lg",children:[l.jsx(ls,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),l.jsx("p",{className:"text-gray-500",children:"Seçilen seviyelerde öğretmen bulunamadı"}),l.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Önce öğretmen ekleyin veya farklı seviyeler seçin"})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sınıf Öğretmeni"}),l.jsxs("select",{value:E.classTeacherId,onChange:ve=>le(ve.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"",children:"Sınıf öğretmeni seçin..."}),he().map(ve=>l.jsxs("option",{value:ve.id,children:[ve.name," (",ve.branch,")"]},ve.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sınıfta Ders Verecek Öğretmenler"}),l.jsx("div",{className:"max-h-60 overflow-y-auto border border-gray-200 rounded-lg",children:l.jsx("div",{className:"divide-y divide-gray-200",children:he().map(ve=>{const ie=E.teacherIds.includes(ve.id),fe=E.classTeacherId===ve.id;return l.jsxs("div",{className:`p-3 flex items-center justify-between hover:bg-gray-50 transition-colors ${fe?"bg-blue-50":""}`,children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:`teacher-${ve.id}`,checked:ie,onChange:()=>Ae(ve.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),l.jsxs("label",{htmlFor:`teacher-${ve.id}`,className:"ml-3 block text-sm font-medium text-gray-700 cursor-pointer",children:[ve.name,l.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",ve.branch,")"]}),fe&&l.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:"Sınıf Öğretmeni"})]})]}),!fe&&ie&&l.jsx("button",{type:"button",onClick:()=>le(ve.id),className:"text-xs text-blue-600 hover:text-blue-800 hover:underline",children:"Sınıf öğretmeni yap"})]},ve.id)})})}),l.jsxs("div",{className:"mt-2 text-sm text-gray-500 flex items-center",children:[l.jsx(ls,{className:"w-4 h-4 mr-1"}),l.jsxs("span",{children:[E.teacherIds.length," öğretmen seçildi"]})]})]})]})]})]}),l.jsxs("div",{className:"button-group-mobile mt-6",children:[l.jsx(Ge,{type:"button",onClick:P,variant:"secondary",children:"İptal"}),l.jsx(Ge,{type:"submit",variant:"primary",disabled:E.levels.length===0,children:S?"Güncelle":"Kaydet"})]})]})}),l.jsx(Vi,{isOpen:y,onClose:()=>x(!1),title:"Toplu Sınıf Ekleme",children:l.jsxs("form",{onSubmit:_e,children:[l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Sınıf Listesi",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx(Ge,{type:"button",onClick:Y,variant:"secondary",size:"sm",children:"+ Satır Ekle"})]}),l.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:k.map((ve,ie)=>l.jsxs("div",{className:"grid grid-cols-3 gap-2 p-3 bg-gray-50 rounded-lg",children:[l.jsx("input",{type:"text",placeholder:"Sınıf Adı",value:ve.name,onChange:fe=>J(ie,"name",fe.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",required:!0}),l.jsxs("select",{value:ve.level,onChange:fe=>J(ie,"level",fe.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",required:!0,children:[l.jsx("option",{value:"",children:"Seviye"}),cs.map(fe=>l.jsx("option",{value:fe,children:fe},fe))]}),l.jsx("button",{type:"button",onClick:()=>X(ie),className:"px-2 py-1 bg-red-100 text-red-600 rounded text-sm hover:bg-red-200 disabled:opacity-50",disabled:k.length===1,children:"Sil"})]},ie))})]}),l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:[l.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"Örnek Sınıflar:"}),l.jsxs("div",{className:"text-xs text-blue-700 space-y-1",children:[l.jsx("p",{children:"• 5A - İlkokul"}),l.jsx("p",{children:"• 7B - Ortaokul"}),l.jsx("p",{children:"• Papatya - Anaokulu"})]})]}),l.jsxs("div",{className:"button-group-mobile",children:[l.jsx(Ge,{type:"button",onClick:()=>x(!1),variant:"secondary",children:"İptal"}),l.jsxs(Ge,{type:"submit",variant:"primary",children:["Toplu Ekle (",k.filter(ve=>ve.name&&ve.level).length," sınıf)"]})]})]})}),l.jsx(ma,{isOpen:f.isOpen,onClose:m,onConfirm:f.onConfirm,title:f.title,message:f.message,type:f.type,confirmText:f.confirmText,cancelText:f.cancelText,confirmVariant:f.confirmVariant})]})},VR=()=>{const{data:t,loading:e,add:r,update:n,remove:s}=yt("subjects"),{success:i,error:A}=Ys(),{confirmation:a,confirmDelete:o}=pa(),[c,h]=ue.useState(!1),[f,g]=ue.useState(null),[m,B]=ue.useState(""),[b,F]=ue.useState(""),[y,x]=ue.useState({name:"",branch:"",levels:[],weeklyHours:"1"}),S=()=>[...new Set(t.map(j=>j.branch))].sort((j,$)=>j.localeCompare($,"tr")),V=t.filter(j=>(!m||(j.levels||[j.level]).includes(m))&&(!b||j.branch===b)).sort((j,$)=>j.name.localeCompare($.name,"tr")),G=()=>{x({name:"",branch:"",levels:[],weeklyHours:"1"}),g(null),h(!1)},Q=j=>{x({name:j.name,branch:j.branch,levels:j.levels||(j.level?[j.level]:[]),weeklyHours:j.weeklyHours.toString()}),g(j),h(!0)},_=j=>{const $=t.find(ae=>ae.id===j);$&&o($.name,async()=>{await s(j),i("🗑️ Ders Silindi",`${$.name} başarıyla silindi`)})},k=async j=>{if(j.preventDefault(),y.levels.length===0){A("❌ Eğitim Seviyesi Gerekli","En az bir eğitim seviyesi seçmelisiniz.");return}const $={name:y.name,branch:y.branch,level:y.levels[0],levels:y.levels,weeklyHours:parseInt(y.weeklyHours)||1};try{f?(await n(f.id,$),i("✅ Ders Güncellendi",`${y.name} başarıyla güncellendi`)):(await r($),i("✅ Ders Eklendi",`${y.name} başarıyla eklendi`)),G()}catch{A("❌ Hata","Ders kaydedilirken bir hata oluştu")}},N=j=>{x($=>{const ae=$.levels.includes(j)?$.levels.filter(ne=>ne!==j):[...$.levels,j];return{...$,levels:ae}})},E=j=>j.levels&&j.levels.length>0?j.levels:[j.level],U=cs.map(j=>({value:j,label:j})),I=S().map(j=>({value:j,label:j}));return l.jsxs("div",{className:"container-mobile",children:[l.jsxs("div",{className:"header-mobile",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Mi,{className:"w-8 h-8 text-indigo-600 mr-3"}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-responsive-xl font-bold text-gray-900",children:"Dersler"}),l.jsxs("p",{className:"text-responsive-sm text-gray-600",children:[t.length," ders kayıtlı (",V.length," gösteriliyor)"]})]})]}),l.jsx("div",{className:"button-group-mobile",children:l.jsx(Ge,{onClick:()=>h(!0),icon:Yn,variant:"primary",className:"w-full sm:w-auto",children:"Yeni Ders"})})]}),l.jsx("div",{className:"mobile-card mobile-spacing mb-6",children:l.jsxs("div",{className:"responsive-grid-2 gap-responsive",children:[l.jsx(qt,{label:"Seviye Filtresi",value:m,onChange:B,options:[{value:"",label:"Tüm Seviyeler"},...U]}),l.jsx(qt,{label:"Branş Filtresi",value:b,onChange:F,options:[{value:"",label:"Tüm Branşlar"},...I]})]})}),e?l.jsx("p",{children:"Yükleniyor..."}):V.length===0?l.jsxs("div",{className:"text-center py-12 mobile-card",children:[l.jsx(Mi,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium",children:"Henüz Ders Eklenmemiş"})]}):l.jsx("div",{className:"mobile-card overflow-hidden",children:l.jsx("div",{className:"table-responsive",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Ders Adı"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Branş"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Seviye"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Haftalık Saat"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"İşlemler"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:V.map(j=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:j.name}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:j.branch}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"flex flex-wrap gap-1",children:E(j).map(($,ae)=>l.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${$==="Anaokulu"?"bg-green-100 text-green-800":$==="İlkokul"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:$},ae))})}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:[j.weeklyHours," saat"]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:l.jsxs("div",{className:"flex justify-end space-x-2",children:[l.jsx(Ge,{onClick:()=>Q(j),icon:fa,size:"sm",variant:"secondary",children:"Düzenle"}),l.jsx(Ge,{onClick:()=>_(j.id),icon:Jn,size:"sm",variant:"danger",children:"Sil"})]})})]},j.id))})]})})}),l.jsx(Vi,{isOpen:c,onClose:G,title:f?"Ders Düzenle":"Yeni Ders Ekle",size:"lg",children:l.jsxs("form",{onSubmit:k,className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(dr,{label:"Ders Adı",value:y.name,onChange:j=>x($=>({...$,name:j})),required:!0}),l.jsx(dr,{label:"Branş",value:y.branch,onChange:j=>x($=>({...$,branch:j})),required:!0})]}),l.jsx(dr,{label:"Haftalık Ders Saati",type:"number",value:y.weeklyHours,onChange:j=>x($=>({...$,weeklyHours:j})),required:!0}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:["Eğitim Seviyeleri ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("div",{className:"flex flex-wrap gap-3",children:cs.map(j=>l.jsxs("label",{className:`flex items-center p-3 border-2 rounded-lg cursor-pointer ${y.levels.includes(j)?"bg-indigo-50 border-indigo-500":"bg-white border-gray-300"}`,children:[l.jsx("input",{type:"checkbox",checked:y.levels.includes(j),onChange:()=>N(j),className:"sr-only"}),l.jsx("span",{className:"text-sm",children:j}),y.levels.includes(j)&&l.jsx("span",{className:"ml-2",children:"✓"})]},j))})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[l.jsx(Ge,{type:"button",onClick:G,variant:"secondary",children:"İptal"}),l.jsx(Ge,{type:"submit",variant:"primary",disabled:y.levels.length===0,children:f?"Güncelle":"Kaydet"})]})]})}),l.jsx(ma,{...a,onClose:()=>{}})]})},KR=()=>{const[t,e]=ue.useState({isOpen:!1,title:"",message:""}),r=ue.useCallback((s,i)=>{console.log("🚨 ERROR MODAL AÇILIYOR:",{title:s,message:i}),e({isOpen:!0,title:s,message:i})},[]),n=ue.useCallback(()=>{console.log("✅ ERROR MODAL KAPATILIYOR"),e(s=>({...s,isOpen:!1}))},[]);return{errorModal:t,showError:r,hideError:n}},zR=(t,e,r,n,s,i,A,a)=>{var h;if(!e||!r||!n||!s)return{hasConflict:!0,message:"Geçersiz parametre"};const o=e,c=r;if(!Tt.includes(o)||!An.includes(c))return{hasConflict:!0,message:"Geçersiz gün veya ders saati"};if(console.log("🔍 IMPROVED Çakışma kontrolü başlatıldı:",{mode:t,day:o,period:c,targetId:n,currentEntityId:s,schedulesCount:i.length}),t==="teacher"){const f=i.filter(g=>{var b;if(g.teacherId===s)return!1;const m=(b=g.schedule[o])==null?void 0:b[c],B=(m==null?void 0:m.classId)===n&&m.classId!=="fixed-period";return B&&console.log("⚠️ Teacher mode çakışma bulundu:",{conflictingTeacherId:g.teacherId,currentTeacherId:s,classId:n,slot:m}),B});if(f.length>0){const g=f[0],m=A.find(F=>F.id===g.teacherId),B=a.find(F=>F.id===n),b=`${(B==null?void 0:B.name)||"Sınıf"} ${o} günü ${c}. ders saatinde ${(m==null?void 0:m.name)||"başka bir öğretmen"} ile çakışıyor`;return console.log("❌ Teacher mode çakışma mesajı:",b),{hasConflict:!0,message:b}}}else{const f=i.find(g=>g.teacherId===n);if(console.log("🔍 Class mode - öğretmen programı kontrol ediliyor:",{teacherId:n,teacherScheduleFound:!!f,currentClassId:s}),f){const g=(h=f.schedule[o])==null?void 0:h[c];if(console.log("🔍 Mevcut slot kontrol ediliyor:",{day:o,period:c,existingSlot:g,existingClassId:g==null?void 0:g.classId,currentClassId:s,isFixedPeriod:(g==null?void 0:g.classId)==="fixed-period"}),g!=null&&g.classId&&g.classId!==s&&g.classId!=="fixed-period"){const m=A.find(F=>F.id===n),B=a.find(F=>F.id===g.classId),b=`${(m==null?void 0:m.name)||"Öğretmen"} ${o} günü ${c}. ders saatinde ${(B==null?void 0:B.name)||"başka bir sınıf"} ile çakışıyor`;return console.log("❌ Class mode çakışma mesajı:",b),{hasConflict:!0,message:b}}}}return console.log("✅ Çakışma bulunamadı"),{hasConflict:!1,message:""}},ap=(t,e,r,n,s,i=[])=>{const A=[];return t==="teacher"&&n&&i.filter(o=>o.entityType==="teacher"&&o.entityId===n&&o.day===e&&o.period===r).forEach(o=>{o.constraintType==="unavailable"&&A.push(`Öğretmen ${e} günü ${r}. ders saatinde müsait değil`)}),t==="class"&&s&&i.filter(o=>o.entityType==="class"&&o.entityId===s&&o.day===e&&o.period===r).forEach(o=>{o.constraintType==="unavailable"&&A.push(`Sınıf ${e} günü ${r}. ders saatinde müsait değil`)}),A},op=(t,e,r,n,s,i=[])=>{const A=[];return t==="teacher"&&n&&i.filter(o=>o.entityType==="teacher"&&o.entityId===n&&o.day===e&&o.period===r).forEach(o=>{o.constraintType==="restricted"&&A.push(`Öğretmen ${e} günü ${r}. ders saatinde kısıtlı`)}),t==="class"&&s&&i.filter(o=>o.entityType==="class"&&o.entityId===s&&o.day===e&&o.period===r).forEach(o=>{o.constraintType==="restricted"&&A.push(`Sınıf ${e} günü ${r}. ders saatinde kısıtlı`)}),A},GR=(t,e,r,n,s,i,A,a=[])=>{const o=[],c=[],h=[];return!t||!e||!r?(o.push("Geçersiz program verisi"),{isValid:!1,errors:o,warnings:c,constraintViolations:h}):(Tt.forEach(f=>{An.forEach(g=>{var B;const m=(B=e[f])==null?void 0:B[g];if(!(!m||m.classId==="fixed-period")){if(t==="teacher"&&m.classId){const b=ap("teacher",f,g,r,m.classId,a);h.push(...b);const F=ap("class",f,g,r,m.classId,a);h.push(...F);const y=op("teacher",f,g,r,m.classId,a);c.push(...y);const x=op("class",f,g,r,m.classId,a);c.push(...x)}else if(t==="class"&&m.teacherId){const b=ap("teacher",f,g,m.teacherId,r,a);h.push(...b);const F=ap("class",f,g,m.teacherId,r,a);h.push(...F);const y=op("teacher",f,g,m.teacherId,r,a);c.push(...y);const x=op("class",f,g,m.teacherId,r,a);c.push(...x)}}})}),Tt.forEach(f=>{An.forEach(g=>{var B;const m=(B=e[f])==null?void 0:B[g];!m||m.classId==="fixed-period"||t==="teacher"&&r&&a.filter(F=>F.entityType==="teacher"&&F.entityId===r&&F.day===f&&F.period===g).some(F=>F.constraintType!=="preferred")})}),{isValid:o.length===0&&h.length===0,errors:[...new Set(o)],warnings:[...new Set(c)],constraintViolations:[...new Set(h)]})},qR=({isOpen:t,onClose:e,onSave:r,subjects:n,classes:s,teachers:i=[],mode:A="teacher",currentSubjectId:a="",currentClassId:o="",currentTeacherId:c="",day:h,period:f})=>{const[g,m]=ue.useState(a),[B,b]=ue.useState(o),[F,y]=ue.useState(c);hi.useEffect(()=>{m(a),b(o),y(c)},[a,o,c,t]);const x=()=>{if(A==="teacher")if(B){const N=n[0];r(g||(N==null?void 0:N.id)||"",B)}else r("","");else if(F){const N=n[0];r(g||(N==null?void 0:N.id)||"",B,F)}else r("","","");e()},S=()=>{A==="teacher"?r("",""):r("","",""),e()},V=[...s].sort((N,E)=>N.name.localeCompare(E.name,"tr")).map(N=>({value:N.id,label:N.name})),Q=[...i].sort((N,E)=>N.name.localeCompare(E.name,"tr")).map(N=>({value:N.id,label:`${N.name} (${N.branch})`})),k=[...n].sort((N,E)=>N.name.localeCompare(E.name,"tr")).map(N=>({value:N.id,label:N.name}));return t?l.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:l.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[l.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:e}),l.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen",children:"​"}),l.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-md sm:w-full",children:l.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:[h," - ",f,". Ders"]}),l.jsx("button",{onClick:e,className:"rounded-md text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500",children:l.jsx(ca,{size:24})})]}),l.jsx("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:l.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[l.jsx("div",{className:`w-3 h-3 rounded-full ${A==="teacher"?"bg-blue-500":"bg-emerald-500"}`}),l.jsx("span",{className:"text-sm font-medium text-gray-700",children:A==="teacher"?"Öğretmen Modu: Sınıf Seçin":"Sınıf Modu: Öğretmen Seçin"})]})}),l.jsxs("div",{className:"space-y-4",children:[n.length>1&&l.jsx(qt,{label:"Ders Seçin",value:g,onChange:m,options:k}),A==="teacher"?l.jsx(qt,{label:"Sınıf Seçin (A-Z Sıralı)",value:B,onChange:b,options:V,required:!0}):l.jsx(qt,{label:"Öğretmen Seçin (A-Z Sıralı)",value:F,onChange:y,options:Q,required:!0})]}),l.jsxs("div",{className:"flex justify-between mt-6",children:[l.jsx(Ge,{onClick:S,variant:"danger",size:"sm",children:"Temizle"}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(Ge,{onClick:e,variant:"secondary",children:"İptal"}),l.jsx(Ge,{onClick:x,variant:"primary",disabled:A==="teacher"?!B:!F,children:"Kaydet"})]})]})]})})]})}):null},WR=({isOpen:t,onClose:e,title:r,message:n})=>t?l.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto bg-black bg-opacity-75 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full mx-4 transform animate-pulse",children:[l.jsx("div",{className:"bg-red-600 text-white p-6 rounded-t-xl",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(ql,{className:"w-8 h-8 mr-3 animate-bounce"}),l.jsx("h3",{className:"text-xl font-bold",children:r})]}),l.jsx("button",{onClick:e,className:"text-white hover:text-red-200 transition-colors p-1 rounded-full hover:bg-red-700",children:l.jsx(ca,{size:24})})]})}),l.jsx("div",{className:"p-6",children:l.jsx("div",{className:"text-gray-800 text-base leading-relaxed whitespace-pre-line",children:n})}),l.jsx("div",{className:"bg-gray-50 px-6 py-4 rounded-b-xl flex justify-end",children:l.jsx("button",{onClick:e,className:"bg-red-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-red-700 transition-colors focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",children:"Tamam"})})]})}):null,$R=()=>{var Vt,Zt,es,Lt,Ts,Ar,Yr,Qn;Yl();const t=qo(),{data:e}=yt("teachers"),{data:r}=yt("classes"),{data:n}=yt("subjects"),{data:s,add:i,update:A,remove:a}=yt("schedules"),{data:o}=yt("constraints"),{success:c,error:h,warning:f}=Ys(),{confirmation:g,showConfirmation:m,hideConfirmation:B,confirmUnsavedChanges:b}=pa(),{errorModal:F,showError:y,hideError:x}=KR(),[S,D]=ue.useState("teacher"),[V,G]=ue.useState(""),[Q,_]=ue.useState(""),[k,N]=ue.useState(""),[E,U]=ue.useState(""),[I,j]=ue.useState(!1),[$,ae]=ue.useState({}),[ne,ee]=ue.useState({}),[ce,ye]=ue.useState(!1),[_e,P]=ue.useState(!1),[q,Z]=ue.useState(!1),[Y,X]=ue.useState(""),[J,Ae]=ue.useState(""),[le,oe]=ue.useState(!1),he=()=>{const Qe={};return Tt.forEach(De=>{Qe[De]={},An.forEach(We=>{Qe[De][We]=null})}),Qe};ue.useEffect(()=>{const Qe=new URLSearchParams(t.search),De=Qe.get("mode"),We=Qe.get("teacherId"),Nt=Qe.get("classId");De==="class"&&Nt?(D("class"),_(Nt)):We&&(D("teacher"),G(We))},[t]),ue.useEffect(()=>{let Qe=he();if(S==="teacher"&&V){const De=s.find(We=>We.teacherId===V);De&&Object.assign(Qe,JSON.parse(JSON.stringify(De.schedule)))}else S==="class"&&Q&&s.forEach(De=>{Object.entries(De.schedule).forEach(([We,Nt])=>{Object.entries(Nt).forEach(([kt,ht])=>{(ht==null?void 0:ht.classId)===Q&&(Qe[We]||(Qe[We]={}),Qe[We][kt]={...ht,teacherId:De.teacherId})})})});ae(Qe),ee(JSON.parse(JSON.stringify(Qe))),ye(!1)},[S,V,Q,s]),ue.useEffect(()=>{ye(JSON.stringify($)!==JSON.stringify(ne))},[$,ne]),ue.useEffect(()=>{oe(S==="teacher"&&!!V&&!!Y&&!!J||S==="class"&&!!Q)},[S,V,Q,Y,J]);const Ee=e.find(Qe=>Qe.id===V),pe=r.find(Qe=>Qe.id===Q),Te=Qe=>Qe?Qe.levels||[Qe.level]:[],we=Qe=>Qe?Qe.branches||[Qe.branch]:[],te=Ee?Te(Ee).map(Qe=>({value:Qe,label:Qe})):[],ie=(()=>{if(!Ee||!Y)return[];const Qe=we(Ee);return n.filter(De=>Qe.includes(De.branch)&&(De.levels||[De.level]).includes(Y)).map(De=>({value:De.id,label:De.name}))})(),Ve=[...S!=="teacher"||!Y||!J||!n.find(De=>De.id===J)?r:r.filter(De=>(De.levels||[De.level]).includes(Y))].sort((Qe,De)=>Qe.name.localeCompare(De.name,"tr")),ze=(Qe,De)=>{var We,Nt;(Nt=(We=$[Qe])==null?void 0:We[De])!=null&&Nt.isFixed||(N(Qe),U(De),j(!0))},tt=(Qe,De,We)=>{if(!k||!E)return;const Nt=S==="teacher"?!De:!We;if(!Nt){const kt=zR(S,k,E,S==="teacher"?De:We,S==="teacher"?V:Q,s,e,r);if(kt.hasConflict){y("Çakışma Tespit Edildi",kt.message);return}}ae(kt=>{const ht=JSON.parse(JSON.stringify(kt));return ht[k]||(ht[k]={}),Nt?ht[k][E]=null:S==="teacher"?ht[k][E]={classId:De,subjectId:J||Qe}:ht[k][E]={teacherId:We,subjectId:Qe,classId:Q},ht}),j(!1)},lt=async()=>{const Qe=GR(S,$,S==="teacher"?V:Q,s,e,r,n,o);if(!Qe.isValid){y("Program Kaydedilemedi",`Aşağıdaki sorunları düzeltin:

${Qe.errors.join(`
`)}`);return}if(Qe.warnings.length>0){m({title:"Uyarılar Mevcut",message:`Aşağıdaki uyarılar mevcut:

${Qe.warnings.join(`
`)}

Yine de kaydetmek istiyor musunuz?`,type:"warning",confirmText:"Yine de Kaydet",cancelText:"İptal",confirmVariant:"primary"},wt);return}await wt()},wt=async()=>{P(!0);try{if(S==="teacher"){const Qe=s.find(We=>We.teacherId===V),De={schedule:$,updatedAt:new Date};Qe?await A(Qe.id,De):await i({teacherId:V,...De}),c("✅ Program Kaydedildi",`${Ee==null?void 0:Ee.name} programı başarıyla güncellendi.`)}else{const Qe=new Set;Object.values(ne).forEach(De=>Object.values(De||{}).forEach(We=>{We!=null&&We.teacherId&&Qe.add(We.teacherId)})),Object.values($).forEach(De=>Object.values(De||{}).forEach(We=>{We!=null&&We.teacherId&&Qe.add(We.teacherId)}));for(const De of Qe){const We=s.find(ht=>ht.teacherId===De),Nt=We?JSON.parse(JSON.stringify(We.schedule)):he();Tt.forEach(ht=>An.forEach(Ut=>{var Jr,Tr,hr;((Tr=(Jr=Nt[ht])==null?void 0:Jr[Ut])==null?void 0:Tr.classId)===Q&&(Nt[ht][Ut]=null);const Ze=(hr=$[ht])==null?void 0:hr[Ut];(Ze==null?void 0:Ze.teacherId)===De&&(Nt[ht][Ut]={classId:Q,subjectId:Ze.subjectId})}));const kt=Object.values(Nt).some(ht=>Object.values(ht).some(Ut=>Ut!==null));We?kt?await A(We.id,{schedule:Nt,updatedAt:new Date}):await a(We.id):kt&&await i({teacherId:De,schedule:Nt,updatedAt:new Date})}c("✅ Program Kaydedildi",`${pe==null?void 0:pe.name} programı başarıyla güncellendi.`)}ee(JSON.parse(JSON.stringify($)))}catch{h("❌ Kayıt Hatası","Program kaydedilirken bir hata oluştu.")}finally{P(!1)}},ot=()=>{ce?m({title:"Değişiklikleri Sıfırla",message:"Kaydedilmemiş değişiklikler var. Sıfırlamak istediğinizden emin misiniz?",type:"warning",confirmText:"Sıfırla",cancelText:"İptal",confirmVariant:"danger"},dt):dt()},dt=()=>{Z(!0),ae(JSON.parse(JSON.stringify(ne))),ye(!1),Z(!1),c("🔄 Program Sıfırlandı","Tüm değişiklikler sıfırlandı")},Pt=Qe=>{ce?m({title:"Kaydedilmemiş Değişiklikler",message:"Kaydedilmemiş değişiklikler var. Devam etmek istediğinizden emin misiniz?",type:"warning",confirmText:"Devam Et",cancelText:"İptal",confirmVariant:"danger"},()=>ut(Qe)):ut(Qe)},ut=Qe=>{D(Qe),G(""),_(""),ae({}),ee({}),ye(!1),X(""),Ae(""),oe(!1)},St=(Qe,De)=>{var Nt;const We=(Nt=$[Qe])==null?void 0:Nt[De];if(S==="teacher"){if(!(We!=null&&We.classId)||We.classId==="fixed-period")return null;const kt=r.find(Ut=>Ut.id===We.classId),ht=n.find(Ut=>Ut.id===We.subjectId);return{classItem:kt,subject:ht}}else{if(!(We!=null&&We.teacherId))return null;const kt=e.find(Ut=>Ut.id===We.teacherId),ht=n.find(Ut=>Ut.id===We.subjectId);return{teacher:kt,subject:ht}}},Ye=(Qe,De,We)=>{var kt;const Nt=(kt=$[Qe])==null?void 0:kt[De];return!Nt||Nt.classId!=="fixed-period"?null:Nt.subjectId==="fixed-prep"?{title:"Hazırlık",subtitle:We==="Ortaokul"?"08:30-08:40":"08:30-08:50",color:"bg-blue-100 border-blue-300 text-blue-800"}:Nt.subjectId==="fixed-breakfast"?{title:"Kahvaltı",subtitle:"09:15-09:35",color:"bg-orange-100 border-orange-300 text-orange-800"}:Nt.subjectId==="fixed-lunch"?{title:"Yemek",subtitle:We==="İlkokul"||We==="Anaokulu"?"11:50-12:25":"12:30-13:05",color:"bg-green-100 border-green-300 text-green-800"}:Nt.subjectId==="fixed-afternoon-breakfast"?{title:"İkindi Kahvaltısı",subtitle:"14:35-14:45",color:"bg-yellow-100 border-yellow-300 text-yellow-800"}:null},Cr=Qe=>{const De=S==="teacher"?Y:pe==null?void 0:pe.level,We=Mh(Qe,De);return We?s0(We.startTime,We.endTime):`${Qe}. Ders`},Qt=e.map(Qe=>({value:Qe.id,label:`${Qe.name} (${Qe.branch} - ${Qe.level})`})),Un=Ve.map(Qe=>({value:Qe.id,label:`${Qe.name} (${Qe.level})`}));return l.jsxs("div",{className:"container-mobile",children:[l.jsxs("div",{className:"header-mobile",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(ds,{className:"w-8 h-8 text-purple-600 mr-3"}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-responsive-xl font-bold text-gray-900",children:"Program Oluşturucu"}),l.jsx("p",{className:"text-responsive-sm text-gray-600",children:S==="teacher"?"Öğretmen bazlı program oluşturun":"Sınıf bazlı program oluşturun"})]})]}),l.jsxs("div",{className:"button-group-mobile",children:[l.jsx(Ge,{onClick:()=>Pt("teacher"),variant:S==="teacher"?"primary":"secondary",icon:ls,className:"w-full sm:w-auto",children:"Öğretmen Modu"}),l.jsx(Ge,{onClick:()=>Pt("class"),variant:S==="class"?"primary":"secondary",icon:Di,className:"w-full sm:w-auto",children:"Sınıf Modu"})]})]}),l.jsx("div",{className:"mobile-card mobile-spacing mb-6",children:S==="teacher"?l.jsxs("div",{className:"space-y-4",children:[l.jsx(qt,{label:"Öğretmen Seçin",value:V,onChange:Qe=>{ce?b(()=>{G(Qe),X(""),Ae(""),oe(!1)}):(G(Qe),X(""),Ae(""),oe(!1))},options:Qt,required:!0}),Ee&&l.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[l.jsxs("div",{className:"flex items-center mb-2",children:[l.jsx(ls,{className:"w-5 h-5 text-blue-600 mr-2"}),l.jsx("h3",{className:"font-medium text-blue-800",children:"Öğretmen Bilgileri"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"text-sm text-blue-700",children:[l.jsx("span",{className:"font-medium",children:"Ad Soyad:"})," ",Ee.name]}),l.jsxs("p",{className:"text-sm text-blue-700",children:[l.jsx("span",{className:"font-medium",children:"Branş:"})," ",we(Ee).join(", ")]})]}),l.jsx("div",{children:l.jsxs("p",{className:"text-sm text-blue-700",children:[l.jsx("span",{className:"font-medium",children:"Seviye:"})," ",Te(Ee).join(", ")]})})]})]}),Ee&&l.jsxs("div",{className:"space-y-4 p-4 bg-purple-50 rounded-lg border border-purple-200",children:[l.jsxs("div",{className:"flex items-center mb-2",children:[l.jsx(yy,{className:"w-5 h-5 text-purple-600 mr-2"}),l.jsx("h3",{className:"font-medium text-purple-800",children:"Program Filtresi"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(qt,{label:"Eğitim Seviyesi Seçin",value:Y,onChange:X,options:te,required:!0}),Y&&l.jsx(qt,{label:"Ders Seçin",value:J,onChange:Ae,options:ie,required:!0})]}),!le&&Y&&J&&l.jsx("div",{className:"flex justify-center",children:l.jsx(Ge,{onClick:()=>oe(!0),variant:"primary",icon:ds,children:"Program Tablosunu Göster"})})]})]}):l.jsx(qt,{label:"Sınıf Seçin",value:Q,onChange:Qe=>{ce?b(()=>{_(Qe)}):_(Qe)},options:Un,required:!0})}),le&&l.jsxs("div",{className:"mobile-card overflow-hidden mb-6",children:[l.jsx("div",{className:"p-4 bg-gray-50 border-b",children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between space-y-3 sm:space-y-0",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-gray-900",children:S==="teacher"?`${(Ee==null?void 0:Ee.name)||"Öğretmen"} - ${Y} - ${((Vt=n.find(Qe=>Qe.id===J))==null?void 0:Vt.name)||"Ders"} Programı`:`${(pe==null?void 0:pe.name)||"Sınıf"} Programı`}),l.jsx("p",{className:"text-sm text-gray-600",children:S==="teacher"?`${Y} seviyesindeki ${((Zt=n.find(Qe=>Qe.id===J))==null?void 0:Zt.name)||"ders"} için program`:`${(pe==null?void 0:pe.level)||""} seviyesi`})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Ge,{onClick:ot,icon:IS,variant:"secondary",disabled:!ce||q,children:q?"Sıfırlanıyor...":"Sıfırla"}),l.jsx(Ge,{onClick:lt,icon:q2,variant:"primary",disabled:!ce||_e,children:_e?"Kaydediliyor...":"Kaydet"})]})]})}),ce&&l.jsx("div",{className:"p-3 bg-yellow-50 border-b border-yellow-200",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(ql,{className:"w-5 h-5 text-yellow-600 mr-2"}),l.jsx("p",{className:"text-sm text-yellow-700",children:"Kaydedilmemiş değişiklikler var"})]})}),l.jsx("div",{className:"table-responsive",children:l.jsxs("table",{className:"min-w-full schedule-table",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Saat"}),Tt.map(Qe=>l.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-gray-500 uppercase",children:Qe},Qe))]})}),l.jsxs("tbody",{className:"divide-y divide-gray-200",children:[l.jsxs("tr",{className:"bg-blue-50",children:[l.jsx("td",{className:"px-3 py-2 font-medium text-gray-900 bg-blue-100 text-sm",children:l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("span",{children:"Hazırlık"}),l.jsxs("span",{className:"text-xs text-gray-600 flex items-center mt-1",children:[l.jsx(ZA,{className:"w-3 h-3 mr-1"}),S==="teacher"&&Y==="Ortaokul"?"08:30-08:40":"08:30-08:50"]})]})}),Tt.map(Qe=>{const De=Ye(Qe,"prep",S==="teacher"?Y:pe==null?void 0:pe.level);return l.jsx("td",{className:"px-2 py-2",children:l.jsx("div",{className:"text-center p-2 bg-blue-50 rounded border border-blue-200",children:l.jsx("div",{className:"font-medium text-blue-900 text-sm",children:(De==null?void 0:De.title)||"Hazırlık"})})},`${Qe}-prep`)})]}),An.map(Qe=>{const De=((S==="teacher"?Y:pe==null?void 0:pe.level)==="İlkokul"||(S==="teacher"?Y:pe==null?void 0:pe.level)==="Anaokulu")&&Qe==="5"||(S==="teacher"?Y:pe==null?void 0:pe.level)==="Ortaokul"&&Qe==="6",We=(S==="teacher"?Y:pe==null?void 0:pe.level)==="Ortaokul"&&Qe==="1",Nt=Qe==="8",kt=Cr(Qe);return l.jsxs(hi.Fragment,{children:[l.jsxs("tr",{className:De?"bg-green-50":"",children:[l.jsx("td",{className:`px-3 py-2 font-medium text-gray-900 text-sm ${De?"bg-green-100":"bg-gray-50"}`,children:l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("span",{children:De?"Yemek":`${Qe}.`}),l.jsxs("span",{className:"text-xs text-gray-600 flex items-center mt-1",children:[l.jsx(ZA,{className:"w-3 h-3 mr-1"}),De?(S==="teacher"?Y:pe==null?void 0:pe.level)==="İlkokul"||(S==="teacher"?Y:pe==null?void 0:pe.level)==="Anaokulu"?"11:50-12:25":"12:30-13:05":kt]})]})}),Tt.map(ht=>{var Ze,Jr,Tr,hr;if(De)return Ye(ht,Qe,S==="teacher"?Y:pe==null?void 0:pe.level),l.jsx("td",{className:"px-2 py-2",children:l.jsx("div",{className:"text-center p-2 bg-green-50 rounded border border-green-200",children:l.jsx("div",{className:"font-medium text-green-900 text-sm",children:"Yemek"})})},`${ht}-${Qe}`);const Ut=St(ht,Qe);return l.jsx("td",{className:"px-2 py-2",onClick:()=>ze(ht,Qe),children:Ut?l.jsx("div",{className:"text-center p-2 bg-blue-50 rounded border border-blue-200 hover:bg-blue-100 cursor-pointer transition-colors",children:S==="teacher"?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"font-medium text-blue-900 text-sm",children:(Ze=Ut.classItem)==null?void 0:Ze.name}),l.jsx("div",{className:"text-xs text-blue-700 mt-1",children:((Jr=Ut.subject)==null?void 0:Jr.name)||(Ee==null?void 0:Ee.name)})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"font-medium text-blue-900 text-sm",children:(Tr=Ut.teacher)==null?void 0:Tr.name}),l.jsx("div",{className:"text-xs text-blue-700 mt-1",children:((hr=Ut.subject)==null?void 0:hr.name)||""})]})}):l.jsx("div",{className:"text-center p-2 bg-gray-50 rounded border border-transparent hover:border-gray-200 cursor-pointer transition-colors min-h-[50px] flex items-center justify-center",children:l.jsx("div",{className:"text-gray-400 text-xs",children:"Boş"})})},`${ht}-${Qe}`)})]}),We&&l.jsxs("tr",{className:"bg-yellow-50",children:[l.jsx("td",{className:"px-3 py-2 font-medium text-gray-900 bg-yellow-100 text-sm",children:l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("span",{children:"Kahvaltı"}),l.jsxs("span",{className:"text-xs text-gray-600 flex items-center mt-1",children:[l.jsx(ZA,{className:"w-3 h-3 mr-1"}),"09:15-09:35"]})]})}),Tt.map(ht=>{const Ut=Ye(ht,"breakfast",S==="teacher"?Y:pe==null?void 0:pe.level);return l.jsx("td",{className:"px-2 py-2",children:l.jsx("div",{className:"text-center p-2 bg-yellow-50 rounded border border-yellow-200",children:l.jsx("div",{className:"font-medium text-yellow-900 text-sm",children:(Ut==null?void 0:Ut.title)||"Kahvaltı"})})},`${ht}-breakfast`)})]}),Nt&&l.jsxs("tr",{className:"bg-yellow-50",children:[l.jsx("td",{className:"px-3 py-2 font-medium text-gray-900 bg-yellow-100 text-sm",children:l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("span",{children:"İkindi Kahvaltısı"}),l.jsxs("span",{className:"text-xs text-gray-600 flex items-center mt-1",children:[l.jsx(ZA,{className:"w-3 h-3 mr-1"}),"14:35-14:45"]})]})}),Tt.map(ht=>l.jsx("td",{className:"px-2 py-2",children:l.jsx("div",{className:"text-center p-2 bg-yellow-50 rounded border border-yellow-200",children:l.jsx("div",{className:"font-medium text-yellow-900 text-sm",children:"İkindi Kahvaltısı"})})},`${ht}-afternoon-breakfast`))]})]},Qe)})]})]})})]}),(S==="teacher"&&!V||S==="class"&&!Q)&&l.jsxs("div",{className:"text-center py-12 mobile-card",children:[l.jsx(ds,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:S==="teacher"?"Öğretmen Seçin":"Sınıf Seçin"}),l.jsx("p",{className:"text-gray-500 mb-4",children:S==="teacher"?"Program oluşturmak için bir öğretmen seçin":"Program oluşturmak için bir sınıf seçin"})]}),S==="teacher"&&V&&!le&&l.jsxs("div",{className:"text-center py-12 mobile-card",children:[l.jsx(yy,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Eğitim Seviyesi ve Ders Seçin"}),l.jsx("p",{className:"text-gray-500 mb-4",children:"Program tablosunu görmek için yukarıdan eğitim seviyesi ve o seviyeye uygun bir ders seçimi yapın."})]}),l.jsx(qR,{isOpen:I,onClose:()=>j(!1),onSave:tt,subjects:n,classes:Ve,teachers:e,mode:S,currentSubjectId:((Lt=(es=$[k])==null?void 0:es[E])==null?void 0:Lt.subjectId)||J,currentClassId:S==="teacher"?((Ar=(Ts=$[k])==null?void 0:Ts[E])==null?void 0:Ar.classId)||"":Q,currentTeacherId:S==="class"?((Qn=(Yr=$[k])==null?void 0:Yr[E])==null?void 0:Qn.teacherId)||"":V,day:k,period:E}),l.jsx(ma,{isOpen:g.isOpen,onClose:B,onConfirm:g.onConfirm,...g}),l.jsx(WR,{isOpen:F.isOpen,onClose:x,...F})]})},YR=({data:t,onUpdate:e})=>{var o,c;const n=(()=>{const h=[];for(let f=2024;f<=2030;f++){const g=f+1,m=`${f}/${g}`,B=`${f}-09-01`,b=`${g}-08-31`;h.push({value:m,label:m,startDate:B,endDate:b})}return h})(),s=[{value:"",label:"Seçiniz (İsteğe bağlı)"},{value:"Güz",label:"Güz Dönemi"},{value:"Bahar",label:"Bahar Dönemi"},{value:"Yaz",label:"Yaz Dönemi"}],i=[{value:"6",label:"6 Ders Saati"},{value:"7",label:"7 Ders Saati"},{value:"8",label:"8 Ders Saati"},{value:"9",label:"9 Ders Saati"},{value:"10",label:"10 Ders Saati"}],A=[{value:"5",label:"5 Gün (Pazartesi-Cuma)"},{value:"6",label:"6 Gün (Pazartesi-Cumartesi)"}],a=(h,f)=>{const g={...t,[h]:f};if(h==="academicYear"){const m=n.find(B=>B.value===f);m&&(g.startDate=m.startDate,g.endDate=m.endDate)}e(g)};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(ds,{className:"w-8 h-8 text-blue-600"})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Program Temel Bilgileri"}),l.jsx("p",{className:"text-gray-600",children:"Oluşturacağınız ders programının temel bilgilerini girin"})]}),l.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[l.jsx(dr,{label:"Program Başlığı",value:t.name||"",onChange:h=>a("name",h),placeholder:"Örn: 2024-2025 Güz Dönemi Ders Programı",required:!0}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(qt,{label:"Eğitim Dönemi",value:t.academicYear||"2024/2025",onChange:h=>a("academicYear",h),options:n.map(h=>({value:h.value,label:h.label})),required:!0}),l.jsx(qt,{label:"Dönem",value:t.semester||"",onChange:h=>a("semester",h),options:s})]}),l.jsx(dr,{label:"Kurum Yetkilisi Ünvanı",value:t.institutionTitle||"",onChange:h=>a("institutionTitle",h),placeholder:"Örn: Okul Müdürü, Müdür Yardımcısı",required:!0}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(qt,{label:"Günlük Ders Saati",value:((o=t.dailyHours)==null?void 0:o.toString())||"8",onChange:h=>a("dailyHours",parseInt(h)),options:i,required:!0}),l.jsx(qt,{label:"Haftalık Gün Sayısı",value:((c=t.weekDays)==null?void 0:c.toString())||"5",onChange:h=>a("weekDays",parseInt(h)),options:A,required:!0})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("input",{type:"checkbox",id:"weekendClasses",checked:t.weekendClasses||!1,onChange:h=>a("weekendClasses",h.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),l.jsx("label",{htmlFor:"weekendClasses",className:"text-sm font-medium text-gray-700",children:"Hafta sonu dersleri var"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(dr,{label:"Başlangıç Tarihi",type:"date",value:t.startDate||"",onChange:h=>a("startDate",h),required:!0}),l.jsx(dr,{label:"Bitiş Tarihi",type:"date",value:t.endDate||"",onChange:h=>a("endDate",h),required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:["Açıklama ",l.jsx("span",{className:"text-gray-500",children:"(İsteğe bağlı)"})]}),l.jsx("textarea",{value:t.description||"",onChange:h=>a("description",h.target.value),placeholder:"Program hakkında ek bilgiler...",rows:4,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200"})]}),l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(Sl,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),l.jsxs("div",{className:"text-sm text-blue-700",children:[l.jsx("h4",{className:"font-medium mb-1",children:"💡 Eğitim Dönemleri:"}),l.jsxs("ul",{className:"space-y-1 text-xs",children:[l.jsxs("li",{children:["• ",l.jsx("strong",{children:"2024/2025:"})," 1 Eylül 2024 - 31 Ağustos 2025"]}),l.jsxs("li",{children:["• ",l.jsx("strong",{children:"2025/2026:"})," 1 Eylül 2025 - 31 Ağustos 2026"]}),l.jsxs("li",{children:["• ",l.jsx("strong",{children:"2026/2027:"})," 1 Eylül 2026 - 31 Ağustos 2027"]}),l.jsx("li",{children:"• Dönem seçildiğinde tarihler otomatik güncellenir"})]})]})]})}),t.name&&l.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[l.jsxs("h4",{className:"font-medium text-gray-900 mb-2 flex items-center",children:[l.jsx(CS,{className:"w-4 h-4 mr-2 text-blue-600"}),"Program Önizlemesi:"]}),l.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Program:"})," ",t.name]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Dönem:"})," ",t.academicYear," ",t.semester?`${t.semester} Dönemi`:""]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Yetkilisi:"})," ",t.institutionTitle||"Belirtilmemiş"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Ders Saati:"})," Günde ",t.dailyHours||8," saat, Haftada ",t.weekDays||5," gün"]}),t.weekendClasses&&l.jsxs("p",{children:[l.jsx("strong",{children:"Hafta Sonu:"})," Hafta sonu dersleri dahil"]}),t.startDate&&t.endDate&&l.jsxs("p",{children:[l.jsx("strong",{children:"Süre:"})," ",new Date(t.startDate).toLocaleDateString("tr-TR")," - ",new Date(t.endDate).toLocaleDateString("tr-TR")]}),t.description&&l.jsxs("p",{children:[l.jsx("strong",{children:"Açıklama:"})," ",t.description]})]})]}),l.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(ZA,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),l.jsxs("div",{className:"text-sm text-green-700",children:[l.jsx("h4",{className:"font-medium mb-1",children:"⏰ Ders Saatleri:"}),l.jsxs("ul",{className:"space-y-1 text-xs",children:[l.jsxs("li",{children:["• ",l.jsx("strong",{children:"Günlük Ders Saati:"})," Bir günde kaç ders saati olacağını belirler"]}),l.jsxs("li",{children:["• ",l.jsx("strong",{children:"Haftalık Gün Sayısı:"})," Haftada kaç gün ders olacağını belirler"]}),l.jsxs("li",{children:["• ",l.jsx("strong",{children:"Hafta Sonu Dersleri:"})," Cumartesi ve/veya Pazar günleri ders olup olmayacağını belirler"]}),l.jsx("li",{children:"• Bu bilgiler program oluşturma algoritmasında kullanılacaktır"})]})]})]})})]})]})},JR=({data:t,onUpdate:e})=>{const{data:r,add:n,update:s,remove:i}=yt("subjects"),{success:A,error:a}=Ys(),[o,c]=ue.useState(""),[h,f]=ue.useState(!1),[g,m]=ue.useState(null),[B,b]=ue.useState({name:"",branch:"",levels:[],weeklyHours:"1"}),F=r.filter(N=>!o||(N.levels||[N.level]).includes(o)),y=r.filter(N=>t.selectedSubjects.includes(N.id)),x=N=>{const E=t.selectedSubjects.includes(N),U=E?t.selectedSubjects.filter(j=>j!==N):[...t.selectedSubjects,N],I={...t.subjectHours};if(E)delete I[N];else{const j=r.find($=>$.id===N);I[N]=(j==null?void 0:j.weeklyHours)||1}e({selectedSubjects:U,subjectHours:I,subjectPriorities:t.subjectPriorities})},S=(N,E)=>{e({...t,subjectHours:{...t.subjectHours,[N]:Math.max(1,E)}})},D=()=>y.reduce((N,E)=>N+(t.subjectHours[E.id]||E.weeklyHours),0),V=()=>{b({name:"",branch:"",levels:[],weeklyHours:"1"}),m(null),f(!1)},G=async N=>{if(N.preventDefault(),B.levels.length===0){a("❌ Eğitim Seviyesi Gerekli","En az bir eğitim seviyesi seçmelisiniz.");return}const E={name:B.name,branch:B.branch,level:B.levels[0],levels:B.levels,weeklyHours:parseInt(B.weeklyHours)||1};try{g?(await s(g.id,E),A("✅ Ders Güncellendi",`${B.name} başarıyla güncellendi`)):(await n(E),A("✅ Ders Eklendi",`${B.name} başarıyla eklendi`)),V()}catch{a("❌ Hata","Ders kaydedilirken bir hata oluştu")}},Q=N=>{b({name:N.name,branch:N.branch,levels:N.levels||(N.level?[N.level]:[]),weeklyHours:N.weeklyHours.toString()}),m(N),f(!0)},_=async N=>{const E=r.find(U=>U.id===N);E&&window.confirm(`${E.name} dersini silmek istediğinizden emin misiniz?`)&&(await i(N),A("🗑️ Silindi",`${E.name} başarıyla silindi`),t.selectedSubjects.includes(N)&&x(N))},k=N=>{b(E=>({...E,levels:E.levels.includes(N)?E.levels.filter(U=>U!==N):[...E.levels,N]}))};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Mi,{className:"w-8 h-8 text-indigo-600"})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Ders Seçimi ve Konfigürasyonu"}),l.jsx("p",{className:"text-gray-600",children:"Programa dahil edilecek dersleri seçin ve haftalık saatlerini belirleyin"})]}),l.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[l.jsx("div",{className:"md:w-1/2",children:l.jsx(qt,{label:"Seviye Filtresi",value:o,onChange:c,options:[{value:"",label:"Tüm Seviyeler"},...cs.map(N=>({value:N,label:N}))]})}),l.jsx(Ge,{onClick:()=>f(!0),icon:Yn,variant:"primary",children:"Yeni Ders Ekle"})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsxs("h4",{className:"font-medium text-gray-900 mb-3",children:["Mevcut Dersler (",F.length,")"]}),l.jsx("div",{className:"bg-gray-50 rounded-lg p-4 max-h-96 overflow-y-auto",children:l.jsx("div",{className:"space-y-2",children:F.map(N=>l.jsx("div",{className:`p-3 rounded-lg border-2 transition-all ${t.selectedSubjects.includes(N.id)?"bg-blue-50 border-blue-300":"bg-white border-gray-200"}`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-sm",children:N.name}),l.jsxs("p",{className:"text-xs text-gray-600",children:[N.branch," • ",(N.levels||[N.level]).join(", ")," • ",N.weeklyHours," sa/h"]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:()=>Q(N),className:"p-1 text-gray-400 hover:text-blue-600",children:l.jsx(fa,{size:16})}),l.jsx("button",{onClick:()=>_(N.id),className:"p-1 text-gray-400 hover:text-red-600",children:l.jsx(Jn,{size:16})}),l.jsx("button",{onClick:()=>x(N.id),className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${t.selectedSubjects.includes(N.id)?"bg-blue-500 border-blue-500":"border-gray-300"}`,children:t.selectedSubjects.includes(N.id)?l.jsx(h5,{className:"w-3 h-3 text-white"}):l.jsx(Yn,{className:"w-3 h-3 text-gray-500"})})]})]})},N.id))})})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("h4",{className:"font-medium text-gray-900",children:["Seçilen Dersler (",y.length,")"]}),l.jsxs("div",{className:"text-sm text-gray-600",children:["Toplam: ",l.jsxs("span",{className:"font-bold text-blue-600",children:[D()," saat/hafta"]})]})]}),y.length===0?l.jsxs("div",{className:"bg-gray-50 rounded-lg p-8 text-center",children:[l.jsx(Mi,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),l.jsx("p",{className:"text-gray-500",children:"Henüz ders seçilmedi"})]}):l.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 max-h-96 overflow-y-auto",children:l.jsx("div",{className:"space-y-3",children:y.map(N=>l.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-sm",children:N.name}),l.jsxs("p",{className:"text-xs text-gray-600",children:[N.branch," • ",(N.levels||[N.level]).join(", ")]})]}),l.jsx("button",{onClick:()=>x(N.id),className:"text-red-500 hover:text-red-700 p-1",children:l.jsx(h5,{className:"w-4 h-4"})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Haftalık Saat"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{type:"button",onClick:()=>S(N.id,(t.subjectHours[N.id]||0)-1),className:"w-6 h-6 bg-gray-200 rounded text-xs",children:"-"}),l.jsx("input",{type:"number",min:"1",value:t.subjectHours[N.id]||N.weeklyHours,onChange:E=>S(N.id,parseInt(E.target.value)||1),className:"w-12 text-center text-sm font-medium border border-gray-300 rounded py-1"}),l.jsx("button",{type:"button",onClick:()=>S(N.id,(t.subjectHours[N.id]||0)+1),className:"w-6 h-6 bg-gray-200 rounded text-xs",children:"+"})]})]})]},N.id))})})]})]}),l.jsx(Vi,{isOpen:h,onClose:V,title:g?"Ders Düzenle":"Yeni Ders Ekle",size:"lg",children:l.jsxs("form",{onSubmit:G,className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(dr,{label:"Ders Adı",value:B.name,onChange:N=>b({...B,name:N}),required:!0}),l.jsx(dr,{label:"Branş",value:B.branch,onChange:N=>b({...B,branch:N}),required:!0})]}),l.jsx(dr,{label:"Haftalık Ders Saati",type:"number",value:B.weeklyHours,onChange:N=>b({...B,weeklyHours:N}),required:!0}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:["Eğitim Seviyeleri",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("div",{className:"flex flex-wrap gap-3",children:cs.map(N=>l.jsxs("label",{className:`flex items-center p-3 border-2 rounded-lg cursor-pointer ${B.levels.includes(N)?"bg-indigo-50 border-indigo-500":"bg-white border-gray-300"}`,children:[l.jsx("input",{type:"checkbox",checked:B.levels.includes(N),onChange:()=>k(N),className:"sr-only"}),l.jsx("span",{className:"text-sm",children:N}),B.levels.includes(N)&&l.jsx("span",{className:"ml-2",children:"✓"})]},N))})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[l.jsx(Ge,{type:"button",onClick:V,variant:"secondary",children:"İptal"}),l.jsx(Ge,{type:"submit",variant:"primary",disabled:B.levels.length===0,children:g?"Güncelle":"Kaydet"})]})]})})]})},XR=({data:t,onUpdate:e,classes:r})=>{const{add:n,update:s,remove:i}=yt("classes"),{data:A}=yt("teachers"),[a,o]=ue.useState(""),[c,h]=ue.useState(!1),[f,g]=ue.useState(null),[m,B]=ue.useState({name:"",levels:[],teacherIds:[],classTeacherId:""}),b=t.classes||{selectedClasses:[],classCapacities:{},classPreferences:{}},F=I=>{const j=b.selectedClasses.includes(I);let $=b.selectedClasses;j?$=$.filter(ae=>ae!==I):$=[...$,I],e({classes:{...b,selectedClasses:$}})},y=(I,j)=>{e({classes:{...b,classCapacities:{...b.classCapacities,[I]:Math.max(1,j)}}})},x=I=>{const j=(a?r.filter(ae=>(ae.levels||[ae.level]).includes(a)):r).map(ae=>ae.id);let $=b.selectedClasses;I?$=Array.from(new Set([...$,...j])):$=$.filter(ae=>!j.includes(ae)),e({classes:{...b,selectedClasses:$}})},S=()=>{B({name:"",levels:[],teacherIds:[],classTeacherId:""}),g(null),h(!1)},D=async I=>{if(I.preventDefault(),m.levels.length===0)return;const j={name:m.name,level:m.levels[0],levels:m.levels,teacherIds:m.teacherIds,classTeacherId:m.classTeacherId};f?await s(f.id,j):await n(j),S()},V=I=>{B({name:I.name,levels:I.levels||[I.level],teacherIds:I.teacherIds||[],classTeacherId:I.classTeacherId||""}),g(I),h(!0)},G=async I=>{window.confirm("Bu sınıfı silmek istediğinizden emin misiniz?")&&(await i(I),b.selectedClasses.includes(I)&&F(I))},Q=I=>{B(j=>({...j,levels:j.levels.includes(I)?j.levels.filter($=>$!==I):[...j.levels,I]}))},_=I=>{B(j=>{const $=j.teacherIds.includes(I)?j.teacherIds.filter(ne=>ne!==I):[...j.teacherIds,I],ae=$.includes(j.classTeacherId)?j.classTeacherId:"";return{...j,teacherIds:$,classTeacherId:ae}})},k=I=>{B(j=>({...j,teacherIds:j.teacherIds.includes(I)?j.teacherIds:[...j.teacherIds,I],classTeacherId:I}))},N=()=>m.levels.length===0?[]:A.filter(I=>(I.levels||[I.level]).some(j=>m.levels.includes(j))).sort((I,j)=>I.name.localeCompare(j.name,"tr")),U=(a?r.filter(I=>(I.levels||[I.level]).includes(a)):r).reduce((I,j)=>((j.levels||[j.level]).forEach($=>{I[$]||(I[$]=[]),I[$].push(j)}),I),{});return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx(Di,{className:"w-12 h-12 text-emerald-600 mx-auto mb-4"}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Sınıf Seçimi"}),l.jsx("p",{className:"text-gray-600",children:"Programa dahil edilecek sınıfları seçin, düzenleyin veya yeni sınıf ekleyin"})]}),l.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[l.jsx("div",{className:"md:w-1/2",children:l.jsx(qt,{label:"Seviye Filtresi",value:a,onChange:o,options:[{value:"",label:"Tüm Seviyeler"},...cs.map(I=>({value:I,label:I}))]})}),l.jsx(Ge,{onClick:()=>h(!0),icon:Yn,variant:"primary",children:"Yeni Sınıf Ekle"})]}),l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-blue-900",children:"Seçilen Sınıflar"}),l.jsxs("p",{className:"text-sm text-blue-700",children:[b.selectedClasses.length," / ",r.length," sınıf seçildi"]})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(Ge,{onClick:()=>x(!0),variant:"secondary",size:"sm",children:a?`${a} Tümünü Seç`:"Tümünü Seç"}),l.jsx(Ge,{onClick:()=>x(!1),variant:"secondary",size:"sm",children:a?`${a} Seçimini Kaldır`:"Tüm Seçimi Kaldır"})]})]})}),l.jsx("div",{className:"space-y-6",children:Object.entries(U).map(([I,j])=>l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[l.jsx(ls,{className:"w-5 h-5 mr-2 text-emerald-600"}),I,l.jsxs("span",{className:"ml-2 text-sm font-normal text-gray-500",children:["(",j.filter($=>b.selectedClasses.includes($.id)).length,"/",j.length,")"]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:j.map($=>{const ae=b.selectedClasses.includes($.id),ne=b.classCapacities[$.id]||30;return l.jsxs("div",{className:`p-4 rounded-lg border-2 transition-all duration-200 ${ae?"border-emerald-500 bg-emerald-50":"border-gray-200 bg-gray-50 hover:border-emerald-300"}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{onClick:()=>F($.id),className:`w-5 h-5 rounded-full border-2 flex items-center justify-center cursor-pointer ${ae?"border-emerald-500 bg-emerald-500":"border-gray-300"}`,children:ae&&l.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-gray-900",children:$.name}),l.jsx("p",{className:"text-xs text-gray-600",children:$.level})]})]}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("button",{onClick:()=>V($),className:"p-1 text-gray-400 hover:text-blue-600",title:"Düzenle",children:l.jsx(fa,{size:16})}),l.jsx("button",{onClick:()=>G($.id),className:"p-1 text-gray-400 hover:text-red-600",title:"Sil",children:l.jsx(Jn,{size:16})})]})]}),ae&&l.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Kapasite"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{type:"button",onClick:()=>y($.id,ne-1),className:"w-6 h-6 bg-gray-200 rounded text-xs",children:"-"}),l.jsx("span",{className:"w-8 text-center text-sm font-medium",children:ne}),l.jsx("button",{type:"button",onClick:()=>y($.id,ne+1),className:"w-6 h-6 bg-gray-200 rounded text-xs",children:"+"}),l.jsx("span",{className:"text-xs text-gray-500",children:"öğrenci"})]})]})]},$.id)})})]},I))}),l.jsx(Vi,{isOpen:c,onClose:S,title:f?"Sınıf Düzenle":"Yeni Sınıf Ekle",size:"lg",children:l.jsxs("form",{onSubmit:D,className:"space-y-4",children:[l.jsx(dr,{label:"Sınıf Adı",value:m.name,onChange:I=>B({...m,name:I}),placeholder:"Örn: 5A",required:!0}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:["Eğitim Seviyeleri",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("div",{className:"flex flex-wrap gap-3",children:cs.map(I=>l.jsxs("label",{className:`flex items-center p-3 border-2 rounded-lg cursor-pointer transition-all ${m.levels.includes(I)?"bg-emerald-50 border-emerald-500":"bg-white border-gray-300"}`,children:[l.jsx("input",{type:"checkbox",checked:m.levels.includes(I),onChange:()=>Q(I),className:"sr-only"}),l.jsx("span",{className:"text-sm font-medium",children:I}),m.levels.includes(I)&&l.jsx("span",{className:"ml-2 text-emerald-600",children:"✓"})]},I))})]}),m.levels.length>0&&l.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Sınıf Öğretmenleri"}),N().length>0?l.jsxs("div",{className:"space-y-4",children:[l.jsx(qt,{label:"Sınıf Öğretmeni",value:m.classTeacherId,onChange:k,options:[{value:"",label:"Sınıf öğretmeni seçin..."},...N().map(I=>({value:I.id,label:`${I.name} (${I.branch})`}))]}),l.jsx("div",{className:"max-h-60 overflow-y-auto border rounded-lg",children:l.jsx("div",{className:"divide-y",children:N().map(I=>{const j=m.teacherIds.includes(I.id),$=m.classTeacherId===I.id;return l.jsxs("div",{className:`p-3 flex items-center justify-between ${$?"bg-blue-50":""}`,children:[l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",checked:j,onChange:()=>_(I.id),className:"h-4 w-4 rounded"}),l.jsxs("span",{className:"ml-3 text-sm",children:[I.name," ",l.jsxs("span",{className:"text-xs text-gray-500",children:["(",I.branch,")"]}),$&&l.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full",children:"Sınıf Öğrt."})]})]}),!$&&j&&l.jsx("button",{type:"button",onClick:()=>k(I.id),className:"text-xs text-blue-600 hover:underline",children:"Sınıf öğrt. yap"})]},I.id)})})})]}):l.jsx("div",{className:"text-center py-6 bg-gray-50 rounded-lg",children:l.jsx("p",{children:"Seçilen seviyelerde öğretmen bulunamadı."})})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[l.jsx(Ge,{type:"button",onClick:S,variant:"secondary",children:"İptal"}),l.jsx(Ge,{type:"submit",variant:"primary",disabled:m.levels.length===0,children:f?"Güncelle":"Kaydet"})]})]})})]})},ZR=({data:t,onUpdate:e})=>{const{data:r}=yt("classrooms"),[n,s]=ue.useState(!1),[i,A]=ue.useState(null),[a,o]=ue.useState({name:"",shortName:"",classLevel:"",sharedClassroom:!1,needsSpecialEquipment:!1,color:"",floors:"",nearbyClassrooms:""});ue.useEffect(()=>{r.length>0&&(!t.classrooms||t.classrooms.length===0)&&e({classrooms:r})},[r,t.classrooms,e]);const c=t.classrooms||[],h=D=>D?D.substring(0,2).toUpperCase():"",f=()=>{const D=["#3B82F6","#10B981","#8B5CF6","#F59E0B","#EF4444","#06B6D4"];return D[Math.floor(Math.random()*D.length)]},g=[{value:"normal",label:"Normal Sınıf"},{value:"laboratory",label:"Laboratuvar"},{value:"workshop",label:"Atölye"},{value:"gym",label:"Spor Salonu"},{value:"library",label:"Kütüphane"},{value:"computer",label:"Bilgisayar Sınıfı"}],m=[{id:"projector",label:"Projeksiyon",icon:ng},{id:"computer",label:"Bilgisayar",icon:ng},{id:"wifi",label:"WiFi",icon:FS},{id:"sound",label:"Ses Sistemi",icon:NS}],B=D=>{D.preventDefault();const V={id:(i==null?void 0:i.id)||Date.now().toString(),name:a.name,type:"normal",capacity:30,floor:"1",building:"Ana Bina",equipment:[],shortName:a.shortName||h(a.name),color:a.color||f()};e(i?{classrooms:c.map(G=>G.id===i.id?V:G)}:{classrooms:[...c,V]}),b()},b=()=>{o({name:"",shortName:"",classLevel:"",sharedClassroom:!1,needsSpecialEquipment:!1,color:"",floors:"",nearbyClassrooms:""}),A(null),s(!1)},F=D=>{o({name:D.name,shortName:D.shortName||h(D.name),classLevel:"",sharedClassroom:!1,needsSpecialEquipment:!1,color:D.color||f(),floors:D.floor,nearbyClassrooms:""}),A(D),s(!0)},y=D=>{e({classrooms:c.filter(V=>V.id!==D)})};hi.useEffect(()=>{a.name&&!i&&o(D=>({...D,shortName:h(D.name)}))},[a.name,i]),hi.useEffect(()=>{a.name&&!i&&!a.color&&o(D=>({...D,color:f()}))},[a.name,i]);const x=D=>{var V;return((V=g.find(G=>G.value===D))==null?void 0:V.label)||D},S=D=>({normal:"bg-blue-100 text-blue-800",laboratory:"bg-purple-100 text-purple-800",workshop:"bg-orange-100 text-orange-800",gym:"bg-green-100 text-green-800",library:"bg-indigo-100 text-indigo-800",computer:"bg-red-100 text-red-800"})[D]||"bg-gray-100 text-gray-800";return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx(Hh,{className:"w-12 h-12 text-orange-600 mx-auto mb-4"}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Derslik Yönetimi"}),l.jsx("p",{className:"text-gray-600",children:"Derslikleri tanımlayın ve özelliklerini belirleyin"})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Derslikler"}),l.jsxs("p",{className:"text-sm text-gray-600",children:[c.length," derslik tanımlandı"]})]}),l.jsx(Ge,{onClick:()=>s(!0),icon:Yn,variant:"primary",children:"Yeni Derslik"})]}),c.length===0?l.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[l.jsx(Hh,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Derslik Eklenmemiş"}),l.jsx("p",{className:"text-gray-500 mb-4",children:"Program oluşturmak için en az bir derslik tanımlamalısınız"}),l.jsx(Ge,{onClick:()=>s(!0),icon:Yn,variant:"primary",children:"İlk Dersliği Ekle"})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(D=>l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-shadow",children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-gray-900",children:D.name}),l.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${S(D.type)}`,children:x(D.type)})]}),l.jsxs("div",{className:"flex space-x-1",children:[l.jsx("button",{onClick:()=>F(D),className:"p-1 text-gray-400 hover:text-blue-600 transition-colors",children:l.jsx(fa,{size:16})}),l.jsx("button",{onClick:()=>y(D.id),className:"p-1 text-gray-400 hover:text-red-600 transition-colors",children:l.jsx(Jn,{size:16})})]})]}),l.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Kapasite:"}),l.jsxs("span",{className:"font-medium",children:[D.capacity," kişi"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Konum:"}),l.jsxs("span",{className:"font-medium",children:[D.building," - ",D.floor,". Kat"]})]}),D.equipment&&D.equipment.length>0&&l.jsxs("div",{children:[l.jsx("span",{className:"text-xs text-gray-500",children:"Ekipmanlar:"}),l.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:D.equipment.map(V=>{const G=m.find(Q=>Q.id===V);return G?l.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded",children:[l.jsx(G.icon,{size:12,className:"mr-1"}),G.label]},V):null})})]})]})]},D.id))}),l.jsx(Vi,{isOpen:n,onClose:b,title:i?"Derslik Düzenle":"Yeni Derslik Ekle",size:"lg",children:l.jsxs("form",{onSubmit:B,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(dr,{label:"İsim",value:a.name,onChange:D=>o({...a,name:D}),placeholder:"Örn: A101, Fen Lab 1",required:!0}),l.jsx(dr,{label:"Kısaltma",value:a.shortName,onChange:D=>o({...a,shortName:D}),placeholder:"Otomatik oluşturulur",disabled:!0})]}),l.jsx(dr,{label:"Sınıfın Dersliği",value:a.classLevel,onChange:D=>o({...a,classLevel:D}),placeholder:"Hangi sınıfın dersliği"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",id:"sharedClassroom",checked:a.sharedClassroom,onChange:D=>o({...a,sharedClassroom:D.target.checked}),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),l.jsx("label",{htmlFor:"sharedClassroom",className:"text-sm font-medium text-gray-700",children:"Ortak Derslik"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",id:"needsSpecialEquipment",checked:a.needsSpecialEquipment,onChange:D=>o({...a,needsSpecialEquipment:D.target.checked}),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),l.jsx("label",{htmlFor:"needsSpecialEquipment",className:"text-sm font-medium text-gray-700",children:"Nöbet/Gözetim Gereken Alan"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(dr,{label:"Renk",value:a.color,onChange:D=>o({...a,color:D}),placeholder:"Otomatik atanır",disabled:!0}),l.jsx(dr,{label:"Ziller",value:a.floors,onChange:D=>o({...a,floors:D}),placeholder:"Kat bilgisi"})]}),l.jsx(dr,{label:"Yakındaki Derslikler",value:a.nearbyClassrooms,onChange:D=>o({...a,nearbyClassrooms:D}),placeholder:"Komşu derslikler"}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[l.jsx(Ge,{type:"button",onClick:b,variant:"secondary",children:"İptal"}),l.jsx(Ge,{type:"submit",variant:"primary",children:i?"Güncelle":"Tamamla"})]})]})})]})},e8=({selectedTeachers:t,onSelectedTeachersChange:e,wizardData:r,all_classes:n})=>{const{data:s,add:i,update:A,remove:a}=yt("teachers"),{data:o}=yt("subjects"),{success:c,error:h,info:f}=Ys(),[g,m]=ue.useState(!1),[B,b]=ue.useState(null),[F,y]=ue.useState({name:"",branch:"",levels:[],subjectIds:[]});ue.useEffect(()=>{var ne;const j=((ne=r.classes)==null?void 0:ne.selectedClasses)||[];if(j.length===0||n.length===0)return;const $=new Set;if(n.filter(ee=>j.includes(ee.id)).forEach(ee=>{(ee.teacherIds||[]).forEach(ce=>$.add(ce)),ee.classTeacherId&&$.add(ee.classTeacherId)}),$.size>0){const ee=Array.from(new Set([...t,...Array.from($)]));ee.length>t.length&&(e(ee),f("Öğretmenler Otomatik Seçildi",`Seçilen sınıflara atanmış ${$.size} öğretmen listeye eklendi.`))}},[r.classes.selectedClasses,n]);const x=async j=>{if(j.preventDefault(),!F.branch){h("❌ Branş Seçimi Gerekli","Lütfen bir branş seçin.");return}if(F.levels.length===0){h("❌ Eğitim Seviyesi Gerekli","En az bir eğitim seviyesi seçmelisiniz.");return}try{const $={name:F.name,branch:F.branch,branches:[F.branch],level:F.levels[0],levels:F.levels,subjectIds:F.subjectIds};B?(await A(B.id,$),c("✅ Öğretmen Güncellendi",`${F.name} başarıyla güncellendi.`)):(await i($),c("✅ Öğretmen Eklendi",`${F.name} başarıyla eklendi.`)),S()}catch{h("❌ Hata","Öğretmen kaydedilirken bir hata oluştu.")}},S=()=>{y({name:"",branch:"",levels:[],subjectIds:[]}),b(null),m(!1)},D=j=>{y({name:j.name,branch:j.branch,levels:j.levels||(j.level?[j.level]:[]),subjectIds:j.subjectIds||[]}),b(j),m(!0)},V=async j=>{const $=s.find(ae=>ae.id===j);$&&window.confirm(`${$.name} öğretmenini silmek istediğinizden emin misiniz?`)&&(await a(j),c("🗑️ Silindi",`${$.name} başarıyla silindi`),e(t.filter(ae=>ae!==j)))},G=j=>e(t.includes(j)?t.filter($=>$!==j):[...t,j]),Q=()=>e(t.length===s.length?[]:s.map(j=>j.id)),_=j=>y($=>({...$,levels:$.levels.includes(j)?$.levels.filter(ae=>ae!==j):[...$.levels,j]})),k=j=>y($=>({...$,subjectIds:$.subjectIds.includes(j)?$.subjectIds.filter(ae=>ae!==j):[...$.subjectIds,j]})),N=[...s].sort((j,$)=>j.name.localeCompare($.name,"tr")),E=[...new Set(o.map(j=>j.branch))].sort((j,$)=>j.localeCompare($,"tr")),U=[{value:"",label:"Branş Seçin..."},...E.map(j=>({value:j,label:j}))],I=o.filter(j=>F.levels.length===0?!1:(j.levels||[j.level]).some($=>F.levels.includes($))).sort((j,$)=>j.name.localeCompare($.name,"tr"));return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(ls,{className:"w-8 h-8 text-blue-600"})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Öğretmen Seçimi"}),l.jsx("p",{className:"text-gray-600",children:"Programa dahil edilecek öğretmenleri seçin. Sınıf adımında seçtiğiniz öğretmenler otomatik olarak işaretlenir."})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{children:l.jsxs("h3",{className:"text-lg font-semibold",children:["Öğretmenler (",s.length,")"]})}),l.jsxs("div",{className:"flex items-center space-x-3",children:[s.length>0&&l.jsx(Ge,{onClick:Q,variant:"secondary",size:"sm",children:t.length===s.length?"Tüm Seçimi Kaldır":"Tümünü Seç"}),l.jsx(Ge,{onClick:()=>m(!0),icon:Yn,variant:"primary",size:"sm",children:"Yeni Öğretmen"})]})]}),N.length>0?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:N.map(j=>{const $=t.includes(j.id);return l.jsxs("div",{className:`relative bg-white rounded-lg border-2 p-4 transition-all cursor-pointer ${$?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>G(j.id),children:[l.jsx("div",{className:`absolute top-3 right-3 w-6 h-6 rounded-full border-2 flex items-center justify-center ${$?"bg-blue-500 border-blue-500":"border-gray-300 bg-white"}`,children:$&&l.jsx(bS,{className:"w-4 h-4 text-white"})}),l.jsxs("div",{className:"pr-8",children:[l.jsx("h4",{className:"font-semibold",children:j.name}),l.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Branş: ",j.branch]}),l.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:(j.levels||[j.level]).map(ae=>l.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${ae==="Anaokulu"?"bg-green-100 text-green-800":ae==="İlkokul"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:ae},ae))})]}),l.jsxs("div",{className:"absolute bottom-3 right-3 flex space-x-1",children:[l.jsx("button",{onClick:ae=>{ae.stopPropagation(),D(j)},className:"p-1 text-gray-400 hover:text-blue-600",children:l.jsx(fa,{size:14})}),l.jsx("button",{onClick:ae=>{ae.stopPropagation(),V(j.id)},className:"p-1 text-gray-400 hover:text-red-600",children:l.jsx(Jn,{size:14})})]})]},j.id)})}):l.jsx("p",{className:"text-center text-gray-500 py-8",children:"Henüz öğretmen eklenmemiş."}),l.jsx(Vi,{isOpen:g,onClose:S,title:B?"Öğretmen Düzenle":"Yeni Öğretmen Ekle",size:"lg",children:l.jsxs("form",{onSubmit:x,className:"space-y-4",children:[l.jsx(dr,{label:"Ad Soyad",value:F.name,onChange:j=>y($=>({...$,name:j})),required:!0}),l.jsx(qt,{label:"Branş",value:F.branch,onChange:j=>y($=>({...$,branch:j})),options:U,required:!0}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:["Eğitim Seviyeleri ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("div",{className:"flex flex-wrap gap-3",children:cs.map(j=>l.jsxs("label",{className:`flex items-center p-3 border-2 rounded-lg cursor-pointer ${F.levels.includes(j)?"bg-blue-50 border-blue-500":"bg-white border-gray-300"}`,children:[l.jsx("input",{type:"checkbox",checked:F.levels.includes(j),onChange:()=>_(j),className:"sr-only"}),l.jsx("span",{className:"text-sm",children:j}),F.levels.includes(j)&&l.jsx("span",{className:"ml-2 text-blue-600",children:"✓"})]},j))})]}),l.jsxs("div",{className:"mt-6 pt-6 border-t",children:[l.jsxs("h3",{className:"text-lg font-medium mb-4 flex items-center",children:[l.jsx(Mi,{className:"w-5 h-5 mr-2 text-indigo-600"}),"Verebileceği Dersler"]}),l.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-gray-50 max-h-60 overflow-y-auto",children:[I.map(j=>l.jsxs("label",{className:"flex items-center space-x-3 p-2 hover:bg-gray-100 rounded-md",children:[l.jsx("input",{type:"checkbox",checked:F.subjectIds.includes(j.id),onChange:()=>k(j.id),className:"w-4 h-4"}),l.jsxs("span",{className:"text-sm",children:[j.name," ",l.jsxs("span",{className:"text-xs text-gray-500",children:["(",j.branch," - ",(j.levels||[j.level]).join(", "),")"]})]})]},j.id)),F.levels.length>0&&I.length===0&&l.jsx("div",{className:"text-center text-sm text-gray-500 py-4",children:"Seçilen seviyelere uygun ders bulunamadı."}),F.levels.length===0&&l.jsx("div",{className:"text-center text-sm text-gray-500 py-4",children:"Dersleri görmek için seviye seçin."})]})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[l.jsx(Ge,{type:"button",onClick:S,variant:"secondary",children:"İptal"}),l.jsx(Ge,{type:"submit",variant:"primary",disabled:!F.branch||F.levels.length===0,children:B?"Güncelle":"Kaydet"})]})]})})]})},lp={unavailable:{label:"Müsait Değil",description:"Bu zaman diliminde kesinlikle ders verilemez",color:"bg-red-100 border-red-300 text-red-800",icon:"🚫"},preferred:{label:"Tercih Edilen",description:"Bu zaman dilimi tercih edilir",color:"bg-green-100 border-green-300 text-green-800",icon:"✅"},restricted:{label:"Kısıtlı",description:"Bu zaman diliminde sınırlı ders verilebilir",color:"bg-yellow-100 border-yellow-300 text-yellow-800",icon:"⚠️"}},t8=({entityType:t,entityId:e,entityName:r,entityLevel:n,constraints:s,onConstraintsChange:i,onSave:A,hasUnsavedChanges:a})=>{const[o,c]=ue.useState("unavailable"),h=["prep","1","2","3","4","5","6","7","8","afternoon-breakfast","9","10"],f=F=>{const y=n||"İlkokul";return F==="prep"?{name:"Hazırlık",time:"08:30 - 08:50"}:F==="afternoon-breakfast"?{name:"İkindi K.",time:"14:35 - 14:45"}:F==="5"&&(y==="İlkokul"||y==="Anaokulu")?{name:"Yemek",time:"11:50 - 12:25"}:F==="6"&&y==="Ortaokul"?{name:"Yemek",time:"12:30 - 13:05"}:Mh("2",y)&&F==="break-after-1"?{name:"Kahvaltı",time:"09:15 - 09:35"}:null},g=F=>{const y=[];Tt.forEach(S=>{An.forEach(D=>{f(D)||y.push({id:`${e}-${S}-${D}-${Date.now()}`,entityType:t,entityId:e,day:S,period:D,constraintType:F,reason:`Toplu atama: ${lp[F].label}`,createdAt:new Date,updatedAt:new Date})})});const x=s.filter(S=>S.entityId!==e);i([...x,...y])},m=(F,y)=>{if(f(y))return;const x=s.findIndex(D=>D.entityId===e&&D.day===F&&D.period===y);let S=[...s];if(x!==-1){const D=S[x],V=D.constraintType===o?"preferred":o;S[x]={...D,constraintType:V,updatedAt:new Date}}else{const D={id:`${e}-${F}-${y}-${Date.now()}`,entityType:t,entityId:e,day:F,period:y,constraintType:o,reason:`${lp[o].label} - ${r}`,createdAt:new Date,updatedAt:new Date};S.push(D)}i(S)},B=(F,y)=>s.find(x=>x.entityId===e&&x.day===F&&x.period===y),b=F=>{const y=Mh(F,n);return y?s0(y.startTime,y.endTime):`${F}. Ders`};return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"p-6 bg-gray-50 border-b border-gray-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[r," - Zaman Kısıtlamaları"]}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Zaman dilimlerine tıklayarak kısıtlama türünü değiştirin."})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Ge,{onClick:()=>g("unavailable"),icon:FR,variant:"danger",size:"sm",title:"Tüm saatleri 'Müsait Değil' yap",children:"Tümünü Meşgul Yap"}),l.jsx(Ge,{onClick:()=>g("preferred"),icon:IS,variant:"secondary",size:"sm",title:"Tüm saatleri 'Tercih Edilen' yap",children:"Sıfırla"}),l.jsx(Ge,{onClick:A,icon:q2,variant:"primary",size:"sm",disabled:!a,children:"Kaydet"})]})]})}),l.jsx("div",{className:"p-6"}),l.jsx("div",{className:"border-t border-gray-200",children:l.jsx("div",{className:"table-responsive",children:l.jsxs("table",{className:"min-w-full",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase sticky left-0 bg-gray-50 z-10",children:"Ders Saati"}),Tt.map(F=>l.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:l.jsx("div",{className:"font-bold",children:F})},F))]})}),l.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:h.map((F,y)=>{if(F==="6"&&(n==="İlkokul"||n==="Anaokulu")||F==="5"&&n==="Ortaokul"&&f("6"))return null;f(F);const x=n==="Ortaokul"&&F==="1",S=(D,V=!1)=>{const G=f(D),Q=G?G.time:b(D),_=G?G.name:`${D}. Ders`;return l.jsxs("tr",{className:G?"bg-green-50":y%2===0?"bg-white":"bg-gray-50",children:[l.jsx("td",{className:`px-4 py-3 font-medium text-gray-900 sticky left-0 z-10 border-r ${G?"bg-green-100":"bg-gray-50"}`,children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"font-bold text-sm",children:_}),l.jsxs("div",{className:"text-xs text-gray-600 mt-1 flex items-center justify-center",children:[l.jsx(ZA,{className:"w-3 h-3 mr-1"}),Q]})]})}),Tt.map(k=>{if(G)return l.jsx("td",{className:"px-2 py-2",children:l.jsxs("div",{className:"w-full min-h-[70px] p-3 rounded-lg border-2 border-green-200 bg-green-100 flex flex-col items-center justify-center text-green-800",children:[l.jsx(IR,{size:18,className:"mb-1"}),l.jsx("div",{className:"text-xs font-medium leading-tight",children:G.name})]})},`${k}-${D}`);const N=B(k,D),E=N?lp[N.constraintType]:lp.preferred;return l.jsx("td",{className:"px-2 py-2",children:l.jsx("button",{onClick:()=>m(k,D),className:`w-full min-h-[70px] p-3 rounded-lg border-2 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 ${E.color} hover:opacity-80 hover:scale-105`,children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-xl mb-1",children:E.icon}),l.jsx("div",{className:"text-xs font-medium leading-tight",children:E.label})]})})},`${k}-${D}`)})]},D)};return l.jsxs(hi.Fragment,{children:[S(F),x&&S("break-after-1",!0)]},F)})})]})})})]})},p5=[{id:"ilkokul-kulup",label:"İlkokul Kulüp (Perşembe Son 2 Saat)",level:"İlkokul",day:"Perşembe",periods:["9","10"]},{id:"ortaokul-kulup",label:"Ortaokul Kulüp (Perşembe 7-8. Saat)",level:"Ortaokul",day:"Perşembe",periods:["7","8"]}],r8=({data:t,onUpdate:e,teachers:r,classes:n,subjects:s})=>{var I,j,$,ae;const[i,A]=ue.useState("global"),[a,o]=ue.useState(""),[c,h]=ue.useState([]),[f,g]=ue.useState(!1),[m,B]=ue.useState("");ue.useEffect(()=>{var ne;h(((ne=t.constraints)==null?void 0:ne.timeConstraints)||[]),g(!1)},[(I=t.constraints)==null?void 0:I.timeConstraints,a]),ue.useEffect(()=>{var ee;const ne=JSON.stringify(c)!==JSON.stringify(((ee=t.constraints)==null?void 0:ee.timeConstraints)||[]);g(ne)},[c,(j=t.constraints)==null?void 0:j.timeConstraints]);const b=()=>{switch(i){case"teachers":return r.filter(ne=>{var ee;return(ee=t.teachers)==null?void 0:ee.selectedTeachers.includes(ne.id)}).map(ne=>({value:ne.id,label:`${ne.name} (${ne.branch})`}));case"classes":return n.filter(ne=>{var ee;return(ee=t.classes)==null?void 0:ee.selectedClasses.includes(ne.id)}).map(ne=>({value:ne.id,label:`${ne.name} (${(ne.levels||[ne.level]).join(", ")})`}));case"subjects":return s.filter(ne=>{var ee;return(ee=t.subjects)==null?void 0:ee.selectedSubjects.includes(ne.id)}).map(ne=>({value:ne.id,label:`${ne.name} (${ne.branch})`}));default:return[]}},F=()=>{if(!a)return null;switch(i){case"teachers":return r.find(ne=>ne.id===a);case"classes":return n.find(ne=>ne.id===a);case"subjects":return s.find(ne=>ne.id===a);default:return null}},y=()=>{var ye;if(!a||!m||i!=="subjects")return;const ne=p5.find(_e=>_e.id===m);if(!ne)return;const ee=[];Tt.forEach(_e=>{An.forEach(P=>{const q=_e===ne.day&&ne.periods.includes(P)?"preferred":"unavailable";ee.push({id:`${a}-${_e}-${P}`,entityType:"subject",entityId:a,day:_e,period:P,constraintType:q,reason:`Kural: ${ne.label}`,createdAt:new Date,updatedAt:new Date})})});const ce=(((ye=t.constraints)==null?void 0:ye.timeConstraints)||[]).filter(_e=>_e.entityId!==a);x([...ce,...ee])},x=ne=>{h(ne),g(!0)},S=()=>{e({constraints:{...t.constraints||{},timeConstraints:c}}),g(!1)},D=(ne,ee)=>{var ce;e({constraints:{...t.constraints||{timeConstraints:[]},globalRules:{...(ce=t.constraints)==null?void 0:ce.globalRules,[ne]:ee}}})},V=F(),G=(V==null?void 0:V.name)||"",Q=(V==null?void 0:V.levels)||[V==null?void 0:V.level],_=Q[0],k=V?p5.filter(ne=>Q.includes(ne.level)):[],N=(($=t.constraints)==null?void 0:$.globalRules)||{},E=()=>l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[l.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Günlük Limitler"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Maksimum Günlük Ders (Öğretmen)"}),l.jsx("input",{type:"number",min:"1",max:"10",value:N.maxDailyHoursTeacher||8,onChange:ne=>D("maxDailyHoursTeacher",parseInt(ne.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Maksimum Günlük Ders (Sınıf)"}),l.jsx("input",{type:"number",min:"1",max:"10",value:N.maxDailyHoursClass||9,onChange:ne=>D("maxDailyHoursClass",parseInt(ne.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]})]}),l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[l.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Ardışık Ders Kuralları"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Maksimum Ardışık Ders"}),l.jsx("input",{type:"number",min:"1",max:"5",value:N.maxConsecutiveHours||3,onChange:ne=>D("maxConsecutiveHours",parseInt(ne.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:"avoidConsecutive",checked:N.avoidConsecutiveSameSubject||!1,onChange:ne=>D("avoidConsecutiveSameSubject",ne.target.checked),className:"mr-2"}),l.jsx("label",{htmlFor:"avoidConsecutive",className:"text-sm",children:"Aynı dersin ardışık olmasını önle"})]})]})]})]})}),U=[{id:"global",label:"Genel Kurallar",icon:W2},{id:"teachers",label:"Öğretmenler",icon:kR},{id:"classes",label:"Sınıflar",icon:Di},{id:"subjects",label:"Dersler",icon:Mi}];return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx(ZA,{className:"w-12 h-12 text-purple-600 mx-auto mb-4"}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Zaman Kısıtlamaları"}),l.jsx("p",{className:"text-gray-600",children:"Program oluşturma kurallarını ve zaman kısıtlamalarını belirleyin."})]}),l.jsx("div",{className:"border-b border-gray-200",children:l.jsx("nav",{className:"-mb-px flex space-x-8",children:U.map(ne=>l.jsxs("button",{onClick:()=>{A(ne.id),o("")},className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center ${i===ne.id?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[l.jsx(ne.icon,{className:"w-4 h-4 mr-2"}),ne.label]},ne.id))})}),l.jsxs("div",{className:"mt-6",children:[i==="global"&&E(),i!=="global"&&l.jsxs("div",{className:"space-y-4",children:[l.jsx(qt,{label:`${i==="teachers"?"Öğretmen":i==="classes"?"Sınıf":"Ders"} Seçin`,value:a,onChange:ne=>{o(ne),B("")},options:[{value:"",label:"Seçim yapın..."},...b()]}),a&&V?l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[i==="subjects"&&l.jsxs("div",{className:"p-4 bg-gray-50 border-b",children:[l.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-2 flex items-center",children:[l.jsx(UR,{className:"w-4 h-4 mr-2 text-orange-500"}),"Kural Şablonu Uygula"]}),k.length>0?l.jsxs("div",{className:"flex items-end gap-2",children:[l.jsx("div",{className:"flex-grow",children:l.jsx(qt,{label:"Uygulanacak Kural",value:m,onChange:B,options:[{value:"",label:"Şablon Seçin..."},...k.map(ne=>({value:ne.id,label:ne.label}))]})}),l.jsx(Ge,{onClick:y,disabled:!m,variant:"primary",children:"Uygula"})]}):l.jsx("p",{className:"text-sm text-gray-500",children:"Bu dersin seviyelerine uygun kural şablonu bulunmuyor."}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Bu işlem, bu dersin tüm kısıtlamalarını sıfırlayıp şablonu uygular."})]}),l.jsx(t8,{entityType:i.slice(0,-1),entityId:a,entityName:G,entityLevel:_,constraints:c,onConstraintsChange:x,onSave:S,hasUnsavedChanges:f})]}):l.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border border-dashed",children:[l.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:hi.createElement(((ae=U.find(ne=>ne.id===i))==null?void 0:ae.icon)||ZA,{className:"w-8 h-8 text-gray-400"})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Öğe Seçin"}),l.jsxs("p",{className:"text-gray-500 max-w-md mx-auto",children:["Zaman kısıtlamalarını düzenlemek için yukarıdaki listeden bir ",i.slice(0,-1)," seçin."]})]})]})]})]})},n8=({data:t,wizardData:e,onUpdate:r,onGenerate:n,isGenerating:s,teachers:i,classes:A,subjects:a})=>{var S,D,V,G,Q,_,k;const[o,c]=ue.useState(!1),h=[{value:"balanced",label:"Dengeli Dağılım",description:"Öğretmen ve sınıf yüklerini eşit dağıtır"},{value:"compact",label:"Kompakt Program",description:"Dersleri mümkün olduğunca sıkıştırır"},{value:"distributed",label:"Dağıtılmış Program",description:"Dersleri hafta boyunca eşit dağıtır"}],f=[{value:"fast",label:"Hızlı (1-2 dakika)",description:"Temel optimizasyon, hızlı sonuç"},{value:"balanced",label:"Dengeli (3-5 dakika)",description:"İyi kalite ve makul süre"},{value:"thorough",label:"Kapsamlı (5-10 dakika)",description:"En iyi kalite, uzun süre"}],g=(N,E)=>{r({...t,[N]:E})},m=()=>{var I,j,$,ae;const N=[],E=[];return(!((I=e.subjects)!=null&&I.selectedSubjects)||e.subjects.selectedSubjects.length===0)&&N.push("Hiç ders seçilmemiş"),(!((j=e.classes)!=null&&j.selectedClasses)||e.classes.selectedClasses.length===0)&&N.push("Hiç sınıf seçilmemiş"),(!(($=e.teachers)!=null&&$.selectedTeachers)||e.teachers.selectedTeachers.length===0)&&N.push("Hiç öğretmen seçilmemiş"),(!e.classrooms||e.classrooms.length===0)&&E.push("Hiç derslik seçilmemiş (isteğe bağlı)"),((ae=e.subjects)!=null&&ae.subjectHours?Object.values(e.subjects.subjectHours).reduce((ne,ee)=>ne+ee,0):0)>45&&E.push("Haftalık toplam ders saati çok yüksek (45+ saat)"),{issues:N,warnings:E}},{issues:B,warnings:b}=m(),F=B.length===0,y=()=>{var ae,ne,ee,ce,ye,_e;const N={fast:2,balanced:4,thorough:8}[t.optimizationLevel||"balanced"],E=((ne=(ae=e.subjects)==null?void 0:ae.selectedSubjects)==null?void 0:ne.length)||0,U=((ce=(ee=e.classes)==null?void 0:ee.selectedClasses)==null?void 0:ce.length)||0,I=((_e=(ye=e.teachers)==null?void 0:ye.selectedTeachers)==null?void 0:_e.length)||0,j=E*U*I,$=j>100?1.5:j>50?1.2:1;return Math.round(N*$)},x={algorithm:"balanced",optimizationLevel:"balanced",prioritizeTeacherPreferences:!0,prioritizeClassPreferences:!0,generateMultipleOptions:!1,allowOverlaps:!1,...t};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(df,{className:"w-8 h-8 text-purple-600"})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Program Oluşturma ve Optimizasyon"}),l.jsx("p",{className:"text-gray-600",children:"Algoritma ayarlarını yapın ve otomatik program oluşturmayı başlatın."})]}),l.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[l.jsxs("h4",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[l.jsx(BS,{className:"w-5 h-5 mr-2 text-blue-600"}),"Hazırlık Durumu"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[l.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-blue-600",children:((D=(S=e.subjects)==null?void 0:S.selectedSubjects)==null?void 0:D.length)||0}),l.jsx("div",{className:"text-xs text-blue-700",children:"Ders"})]}),l.jsxs("div",{className:"text-center p-3 bg-emerald-50 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-emerald-600",children:((G=(V=e.classes)==null?void 0:V.selectedClasses)==null?void 0:G.length)||0}),l.jsx("div",{className:"text-xs text-emerald-700",children:"Sınıf"})]}),l.jsxs("div",{className:"text-center p-3 bg-indigo-50 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:((_=(Q=e.teachers)==null?void 0:Q.selectedTeachers)==null?void 0:_.length)||0}),l.jsx("div",{className:"text-xs text-indigo-700",children:"Öğretmen"})]}),l.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-purple-600",children:((k=e.classrooms)==null?void 0:k.length)||0}),l.jsx("div",{className:"text-xs text-purple-700",children:"Derslik"})]})]}),B.length>0&&l.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:l.jsxs("div",{className:"flex items-start space-x-2",children:[l.jsx(ql,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("h5",{className:"font-medium text-red-800 mb-1",children:"Kritik Sorunlar:"}),l.jsx("ul",{className:"text-sm text-red-700 space-y-1",children:B.map((N,E)=>l.jsxs("li",{children:["• ",N]},E))})]})]})}),b.length>0&&l.jsx("div",{className:"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:l.jsxs("div",{className:"flex items-start space-x-2",children:[l.jsx(ql,{className:"w-5 h-5 text-yellow-600 mt-0.5 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("h5",{className:"font-medium text-yellow-800 mb-1",children:"Uyarılar:"}),l.jsx("ul",{className:"text-sm text-yellow-700 space-y-1",children:b.map((N,E)=>l.jsxs("li",{children:["• ",N]},E))})]})]})}),F&&l.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(z2,{className:"w-5 h-5 text-green-600"}),l.jsx("span",{className:"font-medium text-green-800",children:"Tüm gereksinimler karşılandı! Program oluşturmaya hazır."})]})})]}),l.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[l.jsxs("h4",{className:"font-medium text-gray-900 mb-4 flex items-center",children:[l.jsx(W2,{className:"w-5 h-5 mr-2 text-purple-600"}),"Algoritma Ayarları"]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Program Türü"}),l.jsx("div",{className:"space-y-2",children:h.map(N=>l.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[l.jsx("input",{type:"radio",name:"algorithm",value:N.value,checked:x.algorithm===N.value,onChange:E=>g("algorithm",E.target.value),className:"mt-1"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-sm",children:N.label}),l.jsx("div",{className:"text-xs text-gray-600",children:N.description})]})]},N.value))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Optimizasyon Seviyesi"}),l.jsx("div",{className:"space-y-2",children:f.map(N=>l.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[l.jsx("input",{type:"radio",name:"optimization",value:N.value,checked:x.optimizationLevel===N.value,onChange:E=>g("optimizationLevel",E.target.value),className:"mt-1"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-sm",children:N.label}),l.jsx("div",{className:"text-xs text-gray-600",children:N.description})]})]},N.value))})]}),l.jsxs("div",{children:[l.jsx("button",{onClick:()=>c(!o),className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:o?"Gelişmiş ayarları gizle":"Gelişmiş ayarları göster"}),o&&l.jsxs("div",{className:"mt-4 space-y-3 p-3 bg-gray-50 rounded-lg",children:[l.jsxs("label",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",checked:x.prioritizeTeacherPreferences||!1,onChange:N=>g("prioritizeTeacherPreferences",N.target.checked)}),l.jsx("span",{className:"text-sm",children:"Öğretmen tercihlerini öncelikle"})]}),l.jsxs("label",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",checked:x.prioritizeClassPreferences||!1,onChange:N=>g("prioritizeClassPreferences",N.target.checked)}),l.jsx("span",{className:"text-sm",children:"Sınıf tercihlerini öncelikle"})]}),l.jsxs("label",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",checked:x.generateMultipleOptions||!1,onChange:N=>g("generateMultipleOptions",N.target.checked)}),l.jsx("span",{className:"text-sm",children:"Birden fazla seçenek oluştur"})]}),l.jsxs("label",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",checked:x.allowOverlaps||!1,onChange:N=>g("allowOverlaps",N.target.checked)}),l.jsx("span",{className:"text-sm",children:"Çakışmalara izin ver (acil durumlar için)"})]})]})]})]})]}),l.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 border border-purple-200 rounded-lg p-6",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Program Oluşturmaya Hazır!"}),l.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Tahmini süre: ",l.jsxs("span",{className:"font-medium text-purple-600",children:[y()," dakika"]})]}),s?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[l.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-purple-600"}),l.jsx("span",{className:"text-purple-600 font-medium",children:"Program oluşturuluyor..."})]}),l.jsx("p",{className:"text-xs text-gray-600",children:"Bu işlem birkaç dakika sürebilir. Lütfen sayfayı kapatmayın."})]}):l.jsx(Ge,{onClick:n,icon:_S,variant:"primary",size:"lg",disabled:!F||s,className:"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700",children:"🎯 Program Oluşturmayı Başlat"})]})})]})};function s8(t,e,r){const n=e.levels||[e.level],s=t.levels||[t.level];if(!n.some(f=>s.includes(f)))return null;const A=r.filter(f=>{var g;return((g=e.teacherIds)==null?void 0:g.includes(f.id))||e.classTeacherId===f.id}),a=r.filter(f=>!A.some(g=>g.id===f.id)),o=f=>{const g=f.branches||[f.branch],m=f.levels||[f.level],B=g.includes(t.branch),b=m.some(F=>s.includes(F));return B&&b},c=A.find(o);if(c)return c;const h=a.find(o);return h||null}function i8(t,e,r,n){const s=[],i=[],A=r.filter(c=>t.classes.selectedClasses.includes(c.id)),a=n.filter(c=>t.subjects.selectedSubjects.includes(c.id)),o=e.filter(c=>t.teachers.selectedTeachers.includes(c.id));for(const c of A)for(const h of a){const f=c.levels||[c.level],g=h.levels||[h.level];if(!f.some(b=>g.includes(b)))continue;const B=s8(h,c,o);B?s.push({id:`${c.id}-${h.id}`,classId:c.id,subjectId:h.id,teacherId:B.id,weeklyHours:t.subjects.subjectHours[h.id]||h.weeklyHours,assignedHours:0,priority:t.subjects.subjectPriorities[h.id]||"medium"}):i.push(`'${c.name}' sınıfı için "${h.name}" dersine uygun öğretmen bulunamadı.`)}return{mappings:s,errors:i}}function A8(t,e){const r={isFixed:!0,classId:"fixed-period"},n=e==="Ortaokul"?"6":"5",s={prep:{...r,subjectId:"Hazırlık/Kahvaltı"},"afternoon-breakfast":{...r,subjectId:"İkindi Kahvaltısı"},[n]:{...r,subjectId:"Yemek"}};e==="Ortaokul"&&(s.breakfast={...r,subjectId:"Kahvaltı"}),Tt.forEach(i=>{t[i]||(t[i]={}),Object.entries(s).forEach(([A,a])=>{t[i][A]=a})})}function a8(t,e,r,n,s){var V,G,Q;console.log("🚀 Program oluşturma başlatıldı (v32 - Sizin Kodunuzun Düzeltilmiş Hali)...");const i={},A={},a={},o=45,c=new Set(t.map(_=>_.classId));r.forEach(_=>{c.has(_.id)&&(i[_.id]={},a[_.id]=new Set,Tt.forEach(k=>{i[_.id][k]={}}),A8(i[_.id],_.level))}),e.forEach(_=>{A[_.id]=new Set});const h=new Map;s.forEach(_=>{const k=`${_.entityType}-${_.entityId}-${_.day}-${_.period}`;h.set(k,_.constraintType)});const f=[],g=[];t.forEach(_=>{const k=s.some(N=>N.entityType==="subject"&&N.entityId===_.subjectId&&N.constraintType==="preferred");for(let N=0;N<_.weeklyHours;N++){const E={mapping:_,taskId:`${_.id}-${N}`,placed:!1};k?f.push(E):g.push(E)}});const m=(_,k)=>{var I,j,$,ae;const{teacherId:N,classId:E,subjectId:U}=_.mapping;for(const ne of k){const[ee,ce]=ne.split("-"),ye=h.get(`teacher-${N}-${ee}-${ce}`)==="unavailable",_e=h.get(`class-${E}-${ee}-${ce}`)==="unavailable";if(!((I=A[N])!=null&&I.has(ne))&&!((j=a[E])!=null&&j.has(ne))&&!((ae=($=i[E])==null?void 0:$[ee])!=null&&ae[ce])&&!ye&&!_e)return i[E][ee][ce]={subjectId:U,teacherId:N,classId:E,isFixed:!1},A[N].add(ne),a[E].add(ne),!0}return!1};f.forEach(_=>{const k=s.filter(N=>N.entityType==="subject"&&N.entityId===_.mapping.subjectId&&N.constraintType==="preferred").map(N=>`${N.day}-${N.period}`);k.sort(()=>Math.random()-.5),_.placed=m(_,k)}),g.forEach(_=>{const k=[];Tt.forEach(N=>An.forEach(E=>{h.get(`subject-${_.mapping.subjectId}-${N}-${E}`)!=="unavailable"&&k.push(`${N}-${E}`)})),k.sort(()=>Math.random()-.5),_.placed=m(_,k)});for(const _ of c){const k=r.find($=>$.id===_);if(!k)continue;const N=i[_];let E=0;Tt.forEach($=>An.forEach(ae=>{var ne;(ne=N[$])!=null&&ne[ae]&&!N[$][ae].isFixed&&E++}));const U=o-E;if(U<=0)continue;const j=e.find($=>$.id===k.classTeacherId)||e.find($=>$.branch.toLowerCase().includes("nöbetçi"))||e[0];if(j){let $=0;const ae=[];Tt.forEach(ne=>An.forEach(ee=>ae.push(`${ne}-${ee}`))),ae.sort(()=>Math.random()-.5);for(const ne of ae){if($>=U)break;if(!((V=A[j.id])!=null&&V.has(ne))&&!((G=a[_])!=null&&G.has(ne))){const[ee,ce]=ne.split("-");if(!((Q=N[ee])!=null&&Q[ce])){const ye=n.find(_e=>_e.name.toLowerCase().includes("etüt"))||{id:"etut-dersi",name:"Etüt",branch:"Etüt"};N[ee][ce]={subjectId:ye.id,teacherId:j.id,classId:_,isFixed:!1},A[j.id].add(ne),a[_].add(ne),$++}}}}}const B={};Object.values(i).forEach(_=>{Object.entries(_).forEach(([k,N])=>{Object.entries(N).forEach(([E,U])=>{U&&U.teacherId&&!U.isFixed&&(B[U.teacherId]||(B[U.teacherId]={},Tt.forEach(I=>B[U.teacherId][I]={})),B[U.teacherId][k][E]={classId:U.classId,subjectId:U.subjectId,isFixed:!1})})})});const b=Object.entries(B).map(([_,k])=>({teacherId:_,schedule:k,updatedAt:new Date})),F=[...f,...g],y=F.filter(_=>!_.placed),x=new Map;y.forEach(_=>{var N,E,U;const k=_.mapping.id;x.has(k)||x.set(k,{className:((N=r.find(I=>I.id===_.mapping.classId))==null?void 0:N.name)||"Bilinmeyen Sınıf",subjectName:((E=n.find(I=>I.id===_.mapping.subjectId))==null?void 0:E.name)||"Bilinmeyen Ders",teacherName:((U=e.find(I=>I.id===_.mapping.teacherId))==null?void 0:U.name)||"Bilinmeyen Öğretmen",missingHours:0}),x.get(k).missingHours++});const S={totalLessonsToPlace:F.length,placedLessons:F.length-y.length,unassignedLessons:Array.from(x.values())},D=S.unassignedLessons.length>0?[`Bazı dersler (${S.unassignedLessons.length} adet) kısıtlamalar nedeniyle tam olarak yerleştirilemedi.`]:[];return{success:b.length>0,schedules:b,statistics:S,warnings:D,errors:[]}}const cp=[{id:"basic-info",title:"Temel Bilgiler",description:"Program adı ve dönem",icon:"📝"},{id:"subjects",title:"Dersler",description:"Ders seçimi ve saatleri",icon:"📚"},{id:"classes",title:"Sınıflar",description:"Sınıf seçimi ve özellikleri",icon:"🏫"},{id:"classrooms",title:"Derslikler",description:"Derslik yönetimi",icon:"🚪"},{id:"teachers",title:"Öğretmenler",description:"Öğretmen seçimi ve dersleri",icon:"👨‍🏫"},{id:"constraints",title:"Kısıtlamalar",description:"Zaman kuralları",icon:"⏰"},{id:"generation",title:"Program Oluştur",description:"Otomatik oluşturma",icon:"⚡"}],o8=()=>{const t=Yl(),e=qo(),{data:r}=yt("teachers"),{data:n}=yt("classes"),{data:s}=yt("subjects"),{add:i,update:A,data:a}=yt("schedule-templates"),{add:o,data:c,remove:h}=yt("schedules");yt("constraints");const{success:f,error:g,warning:m,info:B}=Ys(),[b,F]=ue.useState(0),[y,x]=ue.useState(null),[S,D]=ue.useState({basicInfo:{name:"",academicYear:"2024/2025",semester:"",startDate:"2024-09-01",endDate:"2025-08-31",description:"",institutionTitle:"",dailyHours:8,weekDays:5,weekendClasses:!1},subjects:{selectedSubjects:[],subjectHours:{},subjectPriorities:{}},classes:{selectedClasses:[],classCapacities:{},classPreferences:{}},classrooms:[],teachers:{selectedTeachers:[],teacherSubjects:{},teacherMaxHours:{},teacherPreferences:{}},constraints:{timeConstraints:[],globalRules:{maxDailyHoursTeacher:8,maxDailyHoursClass:9,maxConsecutiveHours:3,avoidConsecutiveSameSubject:!0,preferMorningHours:!0,avoidFirstLastPeriod:!1,lunchBreakRequired:!0,lunchBreakDuration:1}},generationSettings:{algorithm:"balanced",prioritizeTeacherPreferences:!0,prioritizeClassPreferences:!0,allowOverlaps:!1,generateMultipleOptions:!0,optimizationLevel:"balanced"}}),[V,G]=ue.useState(new Set),[Q,_]=ue.useState(!1),[k,N]=ue.useState(!1);ue.useEffect(()=>{var q,Z,Y,X,J,Ae,le,oe;const P=new URLSearchParams(e.search).get("templateId");if(P&&a.length>0){const he=a.find(Ee=>Ee.id===P);if(he&&he.wizardData){x(P),D(he.wizardData);const Ee=new Set;(q=he.wizardData.basicInfo)!=null&&q.name&&Ee.add(0),((Y=(Z=he.wizardData.subjects)==null?void 0:Z.selectedSubjects)==null?void 0:Y.length)>0&&Ee.add(1),((J=(X=he.wizardData.classes)==null?void 0:X.selectedClasses)==null?void 0:J.length)>0&&Ee.add(2),((Ae=he.wizardData.classrooms)==null?void 0:Ae.length)>0&&Ee.add(3),((oe=(le=he.wizardData.teachers)==null?void 0:le.selectedTeachers)==null?void 0:oe.length)>0&&Ee.add(4),G(Ee),f("Şablon Yüklendi",`'${he.name}' düzenleniyor.`)}}},[e.search,a]);const E=cp[b],U=()=>{switch(E.id){case"basic-info":return!!(S.basicInfo.name&&S.basicInfo.academicYear);case"subjects":return S.subjects.selectedSubjects.length>0;case"classes":return S.classes.selectedClasses.length>0;case"teachers":return S.teachers.selectedTeachers.length>0;default:return!0}},I=()=>{U()?(G(_e=>new Set([..._e,b])),b<cp.length-1&&F(b+1)):m("⚠️ Eksik Bilgi","Lütfen gerekli alanları doldurun")},j=()=>{b>0&&F(b-1)},$=_e=>{(V.has(_e)||_e<=b)&&F(_e)},ae=async()=>{if(!S.basicInfo.name){m("⚠️ Program Adı Gerekli","Lütfen program adını girin");return}_(!0);try{const _e={name:S.basicInfo.name,description:S.basicInfo.description,academicYear:S.basicInfo.academicYear,semester:S.basicInfo.semester,updatedAt:new Date,wizardData:S,status:"draft",generatedSchedules:[]};if(y)await A(y,_e),f("✅ Şablon Güncellendi",`'${_e.name}' başarıyla güncellendi`);else{const P=await i(_e);P.success&&P.id&&x(P.id),f("✅ Şablon Kaydedildi",`'${_e.name}' başarıyla kaydedildi`)}}catch{g("❌ Kayıt Hatası","Şablon kaydedilirken bir hata oluştu")}finally{_(!1)}},ne=(_e,P)=>{D(q=>({...q,[_e.replace("-","_")]:P}))},ee=_e=>{D(P=>({...P,teachers:{...P.teachers,selectedTeachers:_e}}))},ce=async()=>{var _e,P,q,Z,Y,X,J,Ae;if(!k){if((((P=(_e=S.teachers)==null?void 0:_e.selectedTeachers)==null?void 0:P.length)??0)===0||(((Z=(q=S.classes)==null?void 0:q.selectedClasses)==null?void 0:Z.length)??0)===0||(((X=(Y=S.subjects)==null?void 0:Y.selectedSubjects)==null?void 0:X.length)??0)===0){g("Eksik Bilgi","Devam etmek için en az bir öğretmen, sınıf ve ders seçmelisiniz.");return}N(!0),B("Program Oluşturuluyor...","Bu işlem birkaç dakika sürebilir.");try{const{mappings:le,errors:oe}=i8(S,r,n,s);if(oe.length>0){g("Planlama Hatası",`Program oluşturulamadı:
- ${oe.join(`
- `)}`),N(!1);return}if(le.length===0){g("Eşleştirme Hatası","Hiçbir ders-öğretmen-sınıf eşleştirmesi yapılamadı. Lütfen seçimlerinizi kontrol edin."),N(!1);return}const he=a8(le,r,n,s,((J=S.constraints)==null?void 0:J.timeConstraints)||[]);if(!he||!he.schedules){g("Oluşturma Hatası","Algoritma beklenmedik bir sonuç döndürdü. Lütfen tekrar deneyin."),N(!1);return}if(!he.success||he.schedules.length===0){g("Oluşturma Başarısız","Program oluşturulamadı veya hiç ders atanamadı. Kısıtlamalarınızı kontrol edip tekrar deneyin."),N(!1);return}const Ee=((Ae=he.statistics)==null?void 0:Ae.unassignedLessons)||[];if(Ee.length>0){const we=Ee.map(te=>`'${te.className}' > '${te.subjectName}': ${te.missingHours} saat eksik`).join(`
`);m("Eksik Dersler",`Bazı dersler programda tam olarak yerleştirilemedi:
${we}`)}const pe=new Set(he.schedules.map(we=>we.teacherId)),Te=c.filter(we=>pe.has(we.teacherId));for(const we of Te)await h(we.id);for(const we of he.schedules)await o(we);f("🎉 Program Başarıyla Oluşturuldu!",`${he.schedules.length} öğretmen için yeni program kaydedildi.`),await ae(),setTimeout(()=>t("/all-schedules"),2e3)}catch(le){console.error("Program oluşturma sırasında kritik hata:",le),g("Kritik Hata",`Beklenmedik bir hata oluştu: ${le.message}`)}finally{N(!1)}}},ye=()=>{switch(E.id){case"basic-info":return l.jsx(YR,{data:S.basicInfo,onUpdate:_e=>ne("basicInfo",_e)});case"subjects":return l.jsx(JR,{data:S.subjects,onUpdate:_e=>ne("subjects",_e)});case"classes":return l.jsx(XR,{data:S,onUpdate:_e=>{_e.classes&&ne("classes",_e.classes)},classes:n});case"classrooms":return l.jsx(ZR,{data:S,onUpdate:_e=>{_e.classrooms&&ne("classrooms",_e.classrooms)}});case"teachers":return l.jsx(e8,{selectedTeachers:S.teachers.selectedTeachers,onSelectedTeachersChange:ee,wizardData:S,all_classes:n});case"constraints":return l.jsx(r8,{data:S,onUpdate:_e=>{_e.constraints&&ne("constraints",_e.constraints)},teachers:r,classes:n,subjects:s});case"generation":return l.jsx(n8,{data:S.generationSettings,wizardData:S,onUpdate:_e=>ne("generationSettings",_e),onGenerate:ce,isGenerating:k,teachers:r,classes:n,subjects:s});default:return l.jsx("div",{children:"Bilinmeyen adım"})}};return l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex items-center justify-between h-16",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(df,{className:"w-8 h-8 text-blue-600 mr-3"}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-bold text-gray-900",children:y?"Program Düzenleme":"Program Oluşturma Sihirbazı"}),l.jsx("p",{className:"text-sm text-gray-600",children:`Adım ${b+1}: ${E.title}`})]})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Ge,{onClick:ae,icon:q2,variant:"secondary",disabled:Q||!S.basicInfo.name,children:Q?"Kaydediliyor...":"Şablonu Kaydet"}),l.jsx(Ge,{onClick:()=>t("/"),variant:"secondary",children:"İptal"})]})]})})}),l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[l.jsx("div",{className:"lg:col-span-1",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 sticky top-8",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Adımlar"}),l.jsx("div",{className:"space-y-2",children:cp.map((_e,P)=>{const q=V.has(P),Z=P===b,Y=V.has(P)||Z||V.has(P-1)||P===0;return l.jsx("button",{onClick:()=>$(P),disabled:!Y,className:`w-full text-left p-4 rounded-xl border-2 transition-all duration-300 transform hover:scale-[1.02] ${Z?"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-400 shadow-lg ring-2 ring-blue-200":q?"bg-gradient-to-r from-green-50 to-emerald-50 border-green-300 hover:border-green-400 shadow-md":Y?"bg-white border-gray-200 hover:bg-gray-50 hover:border-gray-300 shadow-sm":"bg-gray-50 border-gray-100 text-gray-400 cursor-not-allowed opacity-60"}`,children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-bold text-sm transition-all ${Z?"bg-gradient-to-r from-blue-500 to-indigo-500 shadow-lg":q?"bg-gradient-to-r from-green-500 to-emerald-500 shadow-md":Y?"bg-gradient-to-r from-gray-400 to-gray-500":"bg-gray-300"}`,children:q?l.jsx(bS,{size:20}):l.jsx("span",{children:P+1})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:`font-semibold text-sm ${Z?"text-blue-700":q?"text-green-700":Y?"text-gray-700":"text-gray-400"}`,children:_e.title}),l.jsx("p",{className:`text-xs mt-1 ${Z?"text-blue-600":q?"text-green-600":Y?"text-gray-500":"text-gray-400"}`,children:_e.description})]}),Z&&l.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"})]})},_e.id)})})]})}),l.jsx("div",{className:"lg:col-span-3",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[l.jsx("div",{className:"p-6 border-b border-gray-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:l.jsx("span",{className:"text-2xl",children:E.icon})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:E.title}),l.jsx("p",{className:"text-gray-600",children:E.description})]})]}),!U()&&l.jsxs("div",{className:"flex items-center text-amber-600",children:[l.jsx(ql,{className:"w-5 h-5 mr-2"}),l.jsx("span",{className:"text-sm font-medium",children:"Eksik bilgi"})]})]})}),l.jsx("div",{className:"p-6",children:ye()}),l.jsx("div",{className:"p-6 border-t border-gray-200 bg-gray-50",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Ge,{onClick:j,icon:CR,variant:"secondary",disabled:b===0,children:"Önceki"}),b<cp.length-1?l.jsx(Ge,{onClick:I,icon:vy,variant:"primary",disabled:!U(),children:"Sonraki"}):l.jsx(Ge,{onClick:ce,icon:_S,variant:"primary",disabled:!U()||k,size:"lg",children:k?"Program Oluşturuluyor...":"Program Oluştur ve Kaydet"})]})})]})})]})})]})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var wy=function(t,e){return wy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},wy(t,e)};function Ki(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");wy(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var xy=function(){return xy=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},xy.apply(this,arguments)};function as(t,e,r,n){function s(i){return i instanceof r?i:new r(function(A){A(i)})}return new(r||(r=Promise))(function(i,A){function a(h){try{c(n.next(h))}catch(f){A(f)}}function o(h){try{c(n.throw(h))}catch(f){A(f)}}function c(h){h.done?i(h.value):s(h.value).then(a,o)}c((n=n.apply(t,[])).next())})}function Kn(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,A;return A={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function a(c){return function(h){return o([c,h])}}function o(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,s=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(h){c=[6,h],s=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function up(t,e,r){if(arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||e)}var ua=function(){function t(e,r,n,s){this.left=e,this.top=r,this.width=n,this.height=s}return t.prototype.add=function(e,r,n,s){return new t(this.left+e,this.top+r,this.width+n,this.height+s)},t.fromClientRect=function(e,r){return new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(e,r){var n=Array.from(r).find(function(s){return s.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),i0=function(t,e){return ua.fromClientRect(t,e.getBoundingClientRect())},l8=function(t){var e=t.body,r=t.documentElement;if(!e||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,r.scrollWidth),Math.max(e.offsetWidth,r.offsetWidth),Math.max(e.clientWidth,r.clientWidth)),s=Math.max(Math.max(e.scrollHeight,r.scrollHeight),Math.max(e.offsetHeight,r.offsetHeight),Math.max(e.clientHeight,r.clientHeight));return new ua(0,0,n,s)},A0=function(t){for(var e=[],r=0,n=t.length;r<n;){var s=t.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){var i=t.charCodeAt(r++);(i&64512)===56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),r--)}else e.push(s)}return e},Vr=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],s=-1,i="";++s<r;){var A=t[s];A<=65535?n.push(A):(A-=65536,n.push((A>>10)+55296,A%1024+56320)),(s+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},m5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c8=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var dp=0;dp<m5.length;dp++)c8[m5.charCodeAt(dp)]=dp;var g5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Dd=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var hp=0;hp<g5.length;hp++)Dd[g5.charCodeAt(hp)]=hp;var u8=function(t){var e=t.length*.75,r=t.length,n,s=0,i,A,a,o;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),h=Array.isArray(c)?c:new Uint8Array(c);for(n=0;n<r;n+=4)i=Dd[t.charCodeAt(n)],A=Dd[t.charCodeAt(n+1)],a=Dd[t.charCodeAt(n+2)],o=Dd[t.charCodeAt(n+3)],h[s++]=i<<2|A>>4,h[s++]=(A&15)<<4|a>>2,h[s++]=(a&3)<<6|o&63;return c},d8=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},h8=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},Ql=5,$2=11,B1=2,f8=$2-Ql,kS=65536>>Ql,p8=1<<Ql,b1=p8-1,m8=1024>>Ql,g8=kS+m8,v8=g8,y8=32,w8=v8+y8,x8=65536>>$2,B8=1<<f8,b8=B8-1,v5=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},C8=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},E8=function(t,e){var r=u8(t),n=Array.isArray(r)?h8(r):new Uint32Array(r),s=Array.isArray(r)?d8(r):new Uint16Array(r),i=24,A=v5(s,i/2,n[4]/2),a=n[5]===2?v5(s,(i+n[4])/2):C8(n,Math.ceil((i+n[4])/4));return new _8(n[0],n[1],n[2],n[3],A,a)},_8=function(){function t(e,r,n,s,i,A){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=s,this.index=i,this.data=A}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>Ql],r=(r<<B1)+(e&b1),this.data[r];if(e<=65535)return r=this.index[kS+(e-55296>>Ql)],r=(r<<B1)+(e&b1),this.data[r];if(e<this.highStart)return r=w8-x8+(e>>$2),r=this.index[r],r+=e>>Ql&b8,r=this.index[r],r=(r<<B1)+(e&b1),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),y5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",I8=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var fp=0;fp<y5.length;fp++)I8[y5.charCodeAt(fp)]=fp;var S8="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",w5=50,N8=1,US=2,QS=3,F8=4,T8=5,x5=7,LS=8,B5=9,uo=10,By=11,b5=12,by=13,k8=14,Rd=15,Cy=16,pp=17,Bd=18,U8=19,C5=20,Ey=21,bd=22,C1=23,_c=24,Os=25,Od=26,Hd=27,Ic=28,Q8=29,Bl=30,L8=31,mp=32,gp=33,_y=34,Iy=35,Sy=36,Vh=37,Ny=38,im=39,Am=40,E1=41,jS=42,j8=43,P8=[9001,65288],PS="!",Ot="×",vp="÷",Fy=E8(S8),HA=[Bl,Sy],Ty=[N8,US,QS,T8],DS=[uo,LS],E5=[Hd,Od],D8=Ty.concat(DS),_5=[Ny,im,Am,_y,Iy],R8=[Rd,by],O8=function(t,e){e===void 0&&(e="strict");var r=[],n=[],s=[];return t.forEach(function(i,A){var a=Fy.get(i);if(a>w5?(s.push(!0),a-=w5):s.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return n.push(A),r.push(Cy);if(a===F8||a===By){if(A===0)return n.push(A),r.push(Bl);var o=r[A-1];return D8.indexOf(o)===-1?(n.push(n[A-1]),r.push(o)):(n.push(A),r.push(Bl))}if(n.push(A),a===L8)return r.push(e==="strict"?Ey:Vh);if(a===jS||a===Q8)return r.push(Bl);if(a===j8)return i>=131072&&i<=196605||i>=196608&&i<=262141?r.push(Vh):r.push(Bl);r.push(a)}),[n,r,s]},_1=function(t,e,r,n){var s=n[r];if(Array.isArray(t)?t.indexOf(s)!==-1:t===s)for(var i=r;i<=n.length;){i++;var A=n[i];if(A===e)return!0;if(A!==uo)break}if(s===uo)for(var i=r;i>0;){i--;var a=n[i];if(Array.isArray(t)?t.indexOf(a)!==-1:t===a)for(var o=r;o<=n.length;){o++;var A=n[o];if(A===e)return!0;if(A!==uo)break}if(a!==uo)break}return!1},I5=function(t,e){for(var r=t;r>=0;){var n=e[r];if(n===uo)r--;else return n}return 0},H8=function(t,e,r,n,s){if(r[n]===0)return Ot;var i=n-1;if(Array.isArray(s)&&s[i]===!0)return Ot;var A=i-1,a=i+1,o=e[i],c=A>=0?e[A]:0,h=e[a];if(o===US&&h===QS)return Ot;if(Ty.indexOf(o)!==-1)return PS;if(Ty.indexOf(h)!==-1||DS.indexOf(h)!==-1)return Ot;if(I5(i,e)===LS)return vp;if(Fy.get(t[i])===By||(o===mp||o===gp)&&Fy.get(t[a])===By||o===x5||h===x5||o===B5||[uo,by,Rd].indexOf(o)===-1&&h===B5||[pp,Bd,U8,_c,Ic].indexOf(h)!==-1||I5(i,e)===bd||_1(C1,bd,i,e)||_1([pp,Bd],Ey,i,e)||_1(b5,b5,i,e))return Ot;if(o===uo)return vp;if(o===C1||h===C1)return Ot;if(h===Cy||o===Cy)return vp;if([by,Rd,Ey].indexOf(h)!==-1||o===k8||c===Sy&&R8.indexOf(o)!==-1||o===Ic&&h===Sy||h===C5||HA.indexOf(h)!==-1&&o===Os||HA.indexOf(o)!==-1&&h===Os||o===Hd&&[Vh,mp,gp].indexOf(h)!==-1||[Vh,mp,gp].indexOf(o)!==-1&&h===Od||HA.indexOf(o)!==-1&&E5.indexOf(h)!==-1||E5.indexOf(o)!==-1&&HA.indexOf(h)!==-1||[Hd,Od].indexOf(o)!==-1&&(h===Os||[bd,Rd].indexOf(h)!==-1&&e[a+1]===Os)||[bd,Rd].indexOf(o)!==-1&&h===Os||o===Os&&[Os,Ic,_c].indexOf(h)!==-1)return Ot;if([Os,Ic,_c,pp,Bd].indexOf(h)!==-1)for(var f=i;f>=0;){var g=e[f];if(g===Os)return Ot;if([Ic,_c].indexOf(g)!==-1)f--;else break}if([Hd,Od].indexOf(h)!==-1)for(var f=[pp,Bd].indexOf(o)!==-1?A:i;f>=0;){var g=e[f];if(g===Os)return Ot;if([Ic,_c].indexOf(g)!==-1)f--;else break}if(Ny===o&&[Ny,im,_y,Iy].indexOf(h)!==-1||[im,_y].indexOf(o)!==-1&&[im,Am].indexOf(h)!==-1||[Am,Iy].indexOf(o)!==-1&&h===Am||_5.indexOf(o)!==-1&&[C5,Od].indexOf(h)!==-1||_5.indexOf(h)!==-1&&o===Hd||HA.indexOf(o)!==-1&&HA.indexOf(h)!==-1||o===_c&&HA.indexOf(h)!==-1||HA.concat(Os).indexOf(o)!==-1&&h===bd&&P8.indexOf(t[a])===-1||HA.concat(Os).indexOf(h)!==-1&&o===Bd)return Ot;if(o===E1&&h===E1){for(var m=r[i],B=1;m>0&&(m--,e[m]===E1);)B++;if(B%2!==0)return Ot}return o===mp&&h===gp?Ot:vp},M8=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var r=O8(t,e.lineBreak),n=r[0],s=r[1],i=r[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(s=s.map(function(a){return[Os,Bl,jS].indexOf(a)!==-1?Vh:a}));var A=e.wordBreak==="keep-all"?i.map(function(a,o){return a&&t[o]>=19968&&t[o]<=40959}):void 0;return[n,s,A]},V8=function(){function t(e,r,n,s){this.codePoints=e,this.required=r===PS,this.start=n,this.end=s}return t.prototype.slice=function(){return Vr.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),K8=function(t,e){var r=A0(t),n=M8(r,e),s=n[0],i=n[1],A=n[2],a=r.length,o=0,c=0;return{next:function(){if(c>=a)return{done:!0,value:null};for(var h=Ot;c<a&&(h=H8(r,i,s,++c,A))===Ot;);if(h!==Ot||c===a){var f=new V8(r,h,o,c);return o=c,{value:f,done:!1}}return{done:!0,value:null}}}},z8=1,G8=2,hf=4,S5=8,sg=10,N5=47,ih=92,q8=9,W8=32,yp=34,Cd=61,$8=35,Y8=36,J8=37,wp=39,xp=40,Ed=41,X8=95,xs=45,Z8=33,eO=60,tO=62,rO=64,nO=91,sO=93,iO=61,AO=123,Bp=63,aO=125,F5=124,oO=126,lO=128,T5=65533,I1=42,Nl=43,cO=44,uO=58,dO=59,Kh=46,hO=0,fO=8,pO=11,mO=14,gO=31,vO=127,aA=-1,RS=48,OS=97,HS=101,yO=102,wO=117,xO=122,MS=65,VS=69,KS=70,BO=85,bO=90,Gn=function(t){return t>=RS&&t<=57},CO=function(t){return t>=55296&&t<=57343},Sc=function(t){return Gn(t)||t>=MS&&t<=KS||t>=OS&&t<=yO},EO=function(t){return t>=OS&&t<=xO},_O=function(t){return t>=MS&&t<=bO},IO=function(t){return EO(t)||_O(t)},SO=function(t){return t>=lO},bp=function(t){return t===sg||t===q8||t===W8},ig=function(t){return IO(t)||SO(t)||t===X8},k5=function(t){return ig(t)||Gn(t)||t===xs},NO=function(t){return t>=hO&&t<=fO||t===pO||t>=mO&&t<=gO||t===vO},eo=function(t,e){return t!==ih?!1:e!==sg},Cp=function(t,e,r){return t===xs?ig(e)||eo(e,r):ig(t)?!0:!!(t===ih&&eo(t,e))},S1=function(t,e,r){return t===Nl||t===xs?Gn(e)?!0:e===Kh&&Gn(r):Gn(t===Kh?e:t)},FO=function(t){var e=0,r=1;(t[e]===Nl||t[e]===xs)&&(t[e]===xs&&(r=-1),e++);for(var n=[];Gn(t[e]);)n.push(t[e++]);var s=n.length?parseInt(Vr.apply(void 0,n),10):0;t[e]===Kh&&e++;for(var i=[];Gn(t[e]);)i.push(t[e++]);var A=i.length,a=A?parseInt(Vr.apply(void 0,i),10):0;(t[e]===VS||t[e]===HS)&&e++;var o=1;(t[e]===Nl||t[e]===xs)&&(t[e]===xs&&(o=-1),e++);for(var c=[];Gn(t[e]);)c.push(t[e++]);var h=c.length?parseInt(Vr.apply(void 0,c),10):0;return r*(s+a*Math.pow(10,-A))*Math.pow(10,o*h)},TO={type:2},kO={type:3},UO={type:4},QO={type:13},LO={type:8},jO={type:21},PO={type:9},DO={type:10},RO={type:11},OO={type:12},HO={type:14},Ep={type:23},MO={type:1},VO={type:25},KO={type:24},zO={type:26},GO={type:27},qO={type:28},WO={type:29},$O={type:31},ky={type:32},zS=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(A0(e))},t.prototype.read=function(){for(var e=[],r=this.consumeToken();r!==ky;)e.push(r),r=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case yp:return this.consumeStringToken(yp);case $8:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),s=this.peekCodePoint(2);if(k5(r)||eo(n,s)){var i=Cp(r,n,s)?G8:z8,A=this.consumeName();return{type:5,value:A,flags:i}}break;case Y8:if(this.peekCodePoint(0)===Cd)return this.consumeCodePoint(),QO;break;case wp:return this.consumeStringToken(wp);case xp:return TO;case Ed:return kO;case I1:if(this.peekCodePoint(0)===Cd)return this.consumeCodePoint(),HO;break;case Nl:if(S1(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case cO:return UO;case xs:var a=e,o=this.peekCodePoint(0),c=this.peekCodePoint(1);if(S1(a,o,c))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(Cp(a,o,c))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(o===xs&&c===tO)return this.consumeCodePoint(),this.consumeCodePoint(),KO;break;case Kh:if(S1(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case N5:if(this.peekCodePoint(0)===I1)for(this.consumeCodePoint();;){var h=this.consumeCodePoint();if(h===I1&&(h=this.consumeCodePoint(),h===N5))return this.consumeToken();if(h===aA)return this.consumeToken()}break;case uO:return zO;case dO:return GO;case eO:if(this.peekCodePoint(0)===Z8&&this.peekCodePoint(1)===xs&&this.peekCodePoint(2)===xs)return this.consumeCodePoint(),this.consumeCodePoint(),VO;break;case rO:var f=this.peekCodePoint(0),g=this.peekCodePoint(1),m=this.peekCodePoint(2);if(Cp(f,g,m)){var A=this.consumeName();return{type:7,value:A}}break;case nO:return qO;case ih:if(eo(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case sO:return WO;case iO:if(this.peekCodePoint(0)===Cd)return this.consumeCodePoint(),LO;break;case AO:return RO;case aO:return OO;case wO:case BO:var B=this.peekCodePoint(0),b=this.peekCodePoint(1);return B===Nl&&(Sc(b)||b===Bp)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case F5:if(this.peekCodePoint(0)===Cd)return this.consumeCodePoint(),PO;if(this.peekCodePoint(0)===F5)return this.consumeCodePoint(),jO;break;case oO:if(this.peekCodePoint(0)===Cd)return this.consumeCodePoint(),DO;break;case aA:return ky}return bp(e)?(this.consumeWhiteSpace(),$O):Gn(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):ig(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Vr(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],r=this.consumeCodePoint();Sc(r)&&e.length<6;)e.push(r),r=this.consumeCodePoint();for(var n=!1;r===Bp&&e.length<6;)e.push(r),r=this.consumeCodePoint(),n=!0;if(n){var s=parseInt(Vr.apply(void 0,e.map(function(o){return o===Bp?RS:o})),16),i=parseInt(Vr.apply(void 0,e.map(function(o){return o===Bp?KS:o})),16);return{type:30,start:s,end:i}}var A=parseInt(Vr.apply(void 0,e),16);if(this.peekCodePoint(0)===xs&&Sc(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var a=[];Sc(r)&&a.length<6;)a.push(r),r=this.consumeCodePoint();var i=parseInt(Vr.apply(void 0,a),16);return{type:30,start:A,end:i}}else return{type:30,start:A,end:A}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===xp?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===xp?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===aA)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===wp||r===yp){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===aA||this.peekCodePoint(0)===Ed)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),Ep)}for(;;){var s=this.consumeCodePoint();if(s===aA||s===Ed)return{type:22,value:Vr.apply(void 0,e)};if(bp(s))return this.consumeWhiteSpace(),this.peekCodePoint(0)===aA||this.peekCodePoint(0)===Ed?(this.consumeCodePoint(),{type:22,value:Vr.apply(void 0,e)}):(this.consumeBadUrlRemnants(),Ep);if(s===yp||s===wp||s===xp||NO(s))return this.consumeBadUrlRemnants(),Ep;if(s===ih)if(eo(s,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Ep;else e.push(s)}},t.prototype.consumeWhiteSpace=function(){for(;bp(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===Ed||e===aA)return;eo(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var r=5e4,n="";e>0;){var s=Math.min(r,e);n+=Vr.apply(void 0,this._value.splice(0,s)),e-=s}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var r="",n=0;do{var s=this._value[n];if(s===aA||s===void 0||s===e)return r+=this.consumeStringSlice(n),{type:0,value:r};if(s===sg)return this._value.splice(0,n),MO;if(s===ih){var i=this._value[n+1];i!==aA&&i!==void 0&&(i===sg?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):eo(s,i)&&(r+=this.consumeStringSlice(n),r+=Vr(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],r=hf,n=this.peekCodePoint(0);for((n===Nl||n===xs)&&e.push(this.consumeCodePoint());Gn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var s=this.peekCodePoint(1);if(n===Kh&&Gn(s))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=S5;Gn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),s=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((n===VS||n===HS)&&((s===Nl||s===xs)&&Gn(i)||Gn(s)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=S5;Gn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[FO(e),r]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),r=e[0],n=e[1],s=this.peekCodePoint(0),i=this.peekCodePoint(1),A=this.peekCodePoint(2);if(Cp(s,i,A)){var a=this.consumeName();return{type:15,number:r,flags:n,unit:a}}return s===J8?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Sc(e)){for(var r=Vr(e);Sc(this.peekCodePoint(0))&&r.length<6;)r+=Vr(this.consumeCodePoint());bp(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||CO(n)||n>1114111?T5:n}return e===aA?T5:e},t.prototype.consumeName=function(){for(var e="";;){var r=this.consumeCodePoint();if(k5(r))e+=Vr(r);else if(eo(r,this.peekCodePoint(0)))e+=Vr(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),e}},t}(),GS=function(){function t(e){this._tokens=e}return t.create=function(e){var r=new zS;return r.write(e),new t(r.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var r=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var r=this.consumeComponentValue();if(r.type===32)return e;e.push(r),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var r={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||JO(n,e))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var r={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?ky:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),ff=function(t){return t.type===15},Wu=function(t){return t.type===17},or=function(t){return t.type===20},YO=function(t){return t.type===0},Uy=function(t,e){return or(t)&&t.value===e},qS=function(t){return t.type!==31},Lu=function(t){return t.type!==31&&t.type!==4},wA=function(t){var e=[],r=[];return t.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&e.push(r),e},JO=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},Ro=function(t){return t.type===17||t.type===15},rn=function(t){return t.type===16||Ro(t)},WS=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Sn={type:17,number:0,flags:hf},Y2={type:16,number:50,flags:hf},ho={type:16,number:100,flags:hf},Md=function(t,e,r){var n=t[0],s=t[1];return[mr(n,e),mr(typeof s<"u"?s:n,r)]},mr=function(t,e){if(t.type===16)return t.number/100*e;if(ff(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},$S="deg",YS="grad",JS="rad",XS="turn",a0={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case $S:return Math.PI*e.number/180;case YS:return Math.PI/200*e.number;case JS:return e.number;case XS:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},ZS=function(t){return t.type===15&&(t.unit===$S||t.unit===YS||t.unit===JS||t.unit===XS)},eN=function(t){var e=t.filter(or).map(function(r){return r.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Sn,Sn];case"to top":case"bottom":return ci(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Sn,ho];case"to right":case"left":return ci(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[ho,ho];case"to bottom":case"top":return ci(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[ho,Sn];case"to left":case"right":return ci(270)}return 0},ci=function(t){return Math.PI*t/180},To={name:"color",parse:function(t,e){if(e.type===18){var r=XO[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return r(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),s=e.value.substring(1,2),i=e.value.substring(2,3);return fo(parseInt(n+n,16),parseInt(s+s,16),parseInt(i+i,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),s=e.value.substring(1,2),i=e.value.substring(2,3),A=e.value.substring(3,4);return fo(parseInt(n+n,16),parseInt(s+s,16),parseInt(i+i,16),parseInt(A+A,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),s=e.value.substring(2,4),i=e.value.substring(4,6);return fo(parseInt(n,16),parseInt(s,16),parseInt(i,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),s=e.value.substring(2,4),i=e.value.substring(4,6),A=e.value.substring(6,8);return fo(parseInt(n,16),parseInt(s,16),parseInt(i,16),parseInt(A,16)/255)}}if(e.type===20){var a=ta[e.value.toUpperCase()];if(typeof a<"u")return a}return ta.TRANSPARENT}},ko=function(t){return(255&t)===0},pn=function(t){var e=255&t,r=255&t>>8,n=255&t>>16,s=255&t>>24;return e<255?"rgba("+s+","+n+","+r+","+e/255+")":"rgb("+s+","+n+","+r+")"},fo=function(t,e,r,n){return(t<<24|e<<16|r<<8|Math.round(n*255)<<0)>>>0},U5=function(t,e){if(t.type===17)return t.number;if(t.type===16){var r=e===3?1:255;return e===3?t.number/100*r:Math.round(t.number/100*r)}return 0},Q5=function(t,e){var r=e.filter(Lu);if(r.length===3){var n=r.map(U5),s=n[0],i=n[1],A=n[2];return fo(s,i,A,1)}if(r.length===4){var a=r.map(U5),s=a[0],i=a[1],A=a[2],o=a[3];return fo(s,i,A,o)}return 0};function N1(t,e,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(e-t)*r*6+t:r<1/2?e:r<2/3?(e-t)*6*(2/3-r)+t:t}var L5=function(t,e){var r=e.filter(Lu),n=r[0],s=r[1],i=r[2],A=r[3],a=(n.type===17?ci(n.number):a0.parse(t,n))/(Math.PI*2),o=rn(s)?s.number/100:0,c=rn(i)?i.number/100:0,h=typeof A<"u"&&rn(A)?mr(A,1):1;if(o===0)return fo(c*255,c*255,c*255,1);var f=c<=.5?c*(o+1):c+o-c*o,g=c*2-f,m=N1(g,f,a+1/3),B=N1(g,f,a),b=N1(g,f,a-1/3);return fo(m*255,B*255,b*255,h)},XO={hsl:L5,hsla:L5,rgb:Q5,rgba:Q5},Ah=function(t,e){return To.parse(t,GS.create(e).parseComponentValue())},ta={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},ZO={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(or(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},eH={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},o0=function(t,e){var r=To.parse(t,e[0]),n=e[1];return n&&rn(n)?{color:r,stop:n}:{color:r,stop:null}},j5=function(t,e){var r=t[0],n=t[t.length-1];r.stop===null&&(r.stop=Sn),n.stop===null&&(n.stop=ho);for(var s=[],i=0,A=0;A<t.length;A++){var a=t[A].stop;if(a!==null){var o=mr(a,e);o>i?s.push(o):s.push(i),i=o}else s.push(null)}for(var c=null,A=0;A<s.length;A++){var h=s[A];if(h===null)c===null&&(c=A);else if(c!==null){for(var f=A-c,g=s[c-1],m=(h-g)/(f+1),B=1;B<=f;B++)s[c+B-1]=m*B;c=null}}return t.map(function(b,F){var y=b.color;return{color:y,stop:Math.max(Math.min(1,s[F]/e),0)}})},tH=function(t,e,r){var n=e/2,s=r/2,i=mr(t[0],e)-n,A=s-mr(t[1],r);return(Math.atan2(A,i)+Math.PI*2)%(Math.PI*2)},rH=function(t,e,r){var n=typeof t=="number"?t:tH(t,e,r),s=Math.abs(e*Math.sin(n))+Math.abs(r*Math.cos(n)),i=e/2,A=r/2,a=s/2,o=Math.sin(n-Math.PI/2)*a,c=Math.cos(n-Math.PI/2)*a;return[s,i-c,i+c,A-o,A+o]},Fi=function(t,e){return Math.sqrt(t*t+e*e)},P5=function(t,e,r,n,s){var i=[[0,0],[0,e],[t,0],[t,e]];return i.reduce(function(A,a){var o=a[0],c=a[1],h=Fi(r-o,n-c);return(s?h<A.optimumDistance:h>A.optimumDistance)?{optimumCorner:a,optimumDistance:h}:A},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},nH=function(t,e,r,n,s){var i=0,A=0;switch(t.size){case 0:t.shape===0?i=A=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-s)):t.shape===1&&(i=Math.min(Math.abs(e),Math.abs(e-n)),A=Math.min(Math.abs(r),Math.abs(r-s)));break;case 2:if(t.shape===0)i=A=Math.min(Fi(e,r),Fi(e,r-s),Fi(e-n,r),Fi(e-n,r-s));else if(t.shape===1){var a=Math.min(Math.abs(r),Math.abs(r-s))/Math.min(Math.abs(e),Math.abs(e-n)),o=P5(n,s,e,r,!0),c=o[0],h=o[1];i=Fi(c-e,(h-r)/a),A=a*i}break;case 1:t.shape===0?i=A=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-s)):t.shape===1&&(i=Math.max(Math.abs(e),Math.abs(e-n)),A=Math.max(Math.abs(r),Math.abs(r-s)));break;case 3:if(t.shape===0)i=A=Math.max(Fi(e,r),Fi(e,r-s),Fi(e-n,r),Fi(e-n,r-s));else if(t.shape===1){var a=Math.max(Math.abs(r),Math.abs(r-s))/Math.max(Math.abs(e),Math.abs(e-n)),f=P5(n,s,e,r,!1),c=f[0],h=f[1];i=Fi(c-e,(h-r)/a),A=a*i}break}return Array.isArray(t.size)&&(i=mr(t.size[0],n),A=t.size.length===2?mr(t.size[1],s):i),[i,A]},sH=function(t,e){var r=ci(180),n=[];return wA(e).forEach(function(s,i){if(i===0){var A=s[0];if(A.type===20&&A.value==="to"){r=eN(s);return}else if(ZS(A)){r=a0.parse(t,A);return}}var a=o0(t,s);n.push(a)}),{angle:r,stops:n,type:1}},_p=function(t,e){var r=ci(180),n=[];return wA(e).forEach(function(s,i){if(i===0){var A=s[0];if(A.type===20&&["top","left","right","bottom"].indexOf(A.value)!==-1){r=eN(s);return}else if(ZS(A)){r=(a0.parse(t,A)+ci(270))%ci(360);return}}var a=o0(t,s);n.push(a)}),{angle:r,stops:n,type:1}},iH=function(t,e){var r=ci(180),n=[],s=1,i=0,A=3,a=[];return wA(e).forEach(function(o,c){var h=o[0];if(c===0){if(or(h)&&h.value==="linear"){s=1;return}else if(or(h)&&h.value==="radial"){s=2;return}}if(h.type===18){if(h.name==="from"){var f=To.parse(t,h.values[0]);n.push({stop:Sn,color:f})}else if(h.name==="to"){var f=To.parse(t,h.values[0]);n.push({stop:ho,color:f})}else if(h.name==="color-stop"){var g=h.values.filter(Lu);if(g.length===2){var f=To.parse(t,g[1]),m=g[0];Wu(m)&&n.push({stop:{type:16,number:m.number*100,flags:m.flags},color:f})}}}}),s===1?{angle:(r+ci(180))%ci(360),stops:n,type:s}:{size:A,shape:i,stops:n,position:a,type:s}},tN="closest-side",rN="farthest-side",nN="closest-corner",sN="farthest-corner",iN="circle",AN="ellipse",aN="cover",oN="contain",AH=function(t,e){var r=0,n=3,s=[],i=[];return wA(e).forEach(function(A,a){var o=!0;if(a===0){var c=!1;o=A.reduce(function(f,g){if(c)if(or(g))switch(g.value){case"center":return i.push(Y2),f;case"top":case"left":return i.push(Sn),f;case"right":case"bottom":return i.push(ho),f}else(rn(g)||Ro(g))&&i.push(g);else if(or(g))switch(g.value){case iN:return r=0,!1;case AN:return r=1,!1;case"at":return c=!0,!1;case tN:return n=0,!1;case aN:case rN:return n=1,!1;case oN:case nN:return n=2,!1;case sN:return n=3,!1}else if(Ro(g)||rn(g))return Array.isArray(n)||(n=[]),n.push(g),!1;return f},o)}if(o){var h=o0(t,A);s.push(h)}}),{size:n,shape:r,stops:s,position:i,type:2}},Ip=function(t,e){var r=0,n=3,s=[],i=[];return wA(e).forEach(function(A,a){var o=!0;if(a===0?o=A.reduce(function(h,f){if(or(f))switch(f.value){case"center":return i.push(Y2),!1;case"top":case"left":return i.push(Sn),!1;case"right":case"bottom":return i.push(ho),!1}else if(rn(f)||Ro(f))return i.push(f),!1;return h},o):a===1&&(o=A.reduce(function(h,f){if(or(f))switch(f.value){case iN:return r=0,!1;case AN:return r=1,!1;case oN:case tN:return n=0,!1;case rN:return n=1,!1;case nN:return n=2,!1;case aN:case sN:return n=3,!1}else if(Ro(f)||rn(f))return Array.isArray(n)||(n=[]),n.push(f),!1;return h},o)),o){var c=o0(t,A);s.push(c)}}),{size:n,shape:r,stops:s,position:i,type:2}},aH=function(t){return t.type===1},oH=function(t){return t.type===2},J2={name:"image",parse:function(t,e){if(e.type===22){var r={url:e.value,type:0};return t.cache.addImage(e.value),r}if(e.type===18){var n=lN[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function lH(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!lN[t.name])}var lN={"linear-gradient":sH,"-moz-linear-gradient":_p,"-ms-linear-gradient":_p,"-o-linear-gradient":_p,"-webkit-linear-gradient":_p,"radial-gradient":AH,"-moz-radial-gradient":Ip,"-ms-radial-gradient":Ip,"-o-radial-gradient":Ip,"-webkit-radial-gradient":Ip,"-webkit-gradient":iH},cH={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e.filter(function(n){return Lu(n)&&lH(n)}).map(function(n){return J2.parse(t,n)})}},uH={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(or(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},dH={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return wA(e).map(function(r){return r.filter(rn)}).map(WS)}},hH={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return wA(e).map(function(r){return r.filter(or).map(function(n){return n.value}).join(" ")}).map(fH)}},fH=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},hu;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(hu||(hu={}));var pH={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return wA(e).map(function(r){return r.filter(mH)})}},mH=function(t){return or(t)||rn(t)},l0=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},gH=l0("top"),vH=l0("right"),yH=l0("bottom"),wH=l0("left"),c0=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,r){return WS(r.filter(rn))}}},xH=c0("top-left"),BH=c0("top-right"),bH=c0("bottom-right"),CH=c0("bottom-left"),u0=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},EH=u0("top"),_H=u0("right"),IH=u0("bottom"),SH=u0("left"),d0=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return ff(r)?r.number:0}}},NH=d0("top"),FH=d0("right"),TH=d0("bottom"),kH=d0("left"),UH={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},QH={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},LH={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(or).reduce(function(r,n){return r|jH(n.value)},0)}},jH=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},PH={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},DH={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},Ag;(function(t){t.NORMAL="normal",t.STRICT="strict"})(Ag||(Ag={}));var RH={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return Ag.STRICT;case"normal":default:return Ag.NORMAL}}},OH={name:"line-height",initialValue:"normal",prefix:!1,type:4},D5=function(t,e){return or(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:rn(t)?mr(t,e):e},HH={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:J2.parse(t,e)}},MH={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},Qy={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},h0=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},VH=h0("top"),KH=h0("right"),zH=h0("bottom"),GH=h0("left"),qH={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(or).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},WH={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},f0=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},$H=f0("top"),YH=f0("right"),JH=f0("bottom"),XH=f0("left"),ZH={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},eM={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},tM={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&Uy(e[0],"none")?[]:wA(e).map(function(r){for(var n={color:ta.TRANSPARENT,offsetX:Sn,offsetY:Sn,blur:Sn},s=0,i=0;i<r.length;i++){var A=r[i];Ro(A)?(s===0?n.offsetX=A:s===1?n.offsetY=A:n.blur=A,s++):n.color=To.parse(t,A)}return n})}},rM={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},nM={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var r=AM[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return r(e.values)}return null}},sM=function(t){var e=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return e.length===6?e:null},iM=function(t){var e=t.filter(function(o){return o.type===17}).map(function(o){return o.number}),r=e[0],n=e[1];e[2],e[3];var s=e[4],i=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var A=e[12],a=e[13];return e[14],e[15],e.length===16?[r,n,s,i,A,a]:null},AM={matrix:sM,matrix3d:iM},R5={type:16,number:50,flags:hf},aM=[R5,R5],oM={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var r=e.filter(rn);return r.length!==2?aM:[r[0],r[1]]}},lM={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},ah;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(ah||(ah={}));var cM={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return ah.BREAK_ALL;case"keep-all":return ah.KEEP_ALL;case"normal":default:return ah.NORMAL}}},uM={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(Wu(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},cN={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},dM={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return Wu(e)?e.number:1}},hM={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},fM={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(or).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},pM={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var r=[],n=[];return e.forEach(function(s){switch(s.type){case 20:case 0:r.push(s.value);break;case 17:r.push(s.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(s){return s.indexOf(" ")===-1?s:"'"+s+"'"})}},mM={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},gM={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(Wu(e))return e.number;if(or(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},vM={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(or).map(function(r){return r.value})}},yM={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},un=function(t,e){return(t&e)!==0},wM={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e}},xM={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;for(var n=[],s=e.filter(qS),i=0;i<s.length;i++){var A=s[i],a=s[i+1];if(A.type===20){var o=a&&Wu(a)?a.number:1;n.push({counter:A.value,increment:o})}}return n}},BM={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var r=[],n=e.filter(qS),s=0;s<n.length;s++){var i=n[s],A=n[s+1];if(or(i)&&i.value!=="none"){var a=A&&Wu(A)?A.number:0;r.push({counter:i.value,reset:a})}}return r}},bM={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(ff).map(function(r){return cN.parse(t,r)})}},CM={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;var n=[],s=e.filter(YO);if(s.length%2!==0)return null;for(var i=0;i<s.length;i+=2){var A=s[i].value,a=s[i+1].value;n.push({open:A,close:a})}return n}},O5=function(t,e,r){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?r?n.open:n.close:""},EM={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&Uy(e[0],"none")?[]:wA(e).map(function(r){for(var n={color:255,offsetX:Sn,offsetY:Sn,blur:Sn,spread:Sn,inset:!1},s=0,i=0;i<r.length;i++){var A=r[i];Uy(A,"inset")?n.inset=!0:Ro(A)?(s===0?n.offsetX=A:s===1?n.offsetY=A:s===2?n.blur=A:n.spread=A,s++):n.color=To.parse(t,A)}return n})}},_M={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var r=[0,1,2],n=[];return e.filter(or).forEach(function(s){switch(s.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(s){n.indexOf(s)===-1&&n.push(s)}),n}},IM={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},SM={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return ff(e)?e.number:0}},NM=function(){function t(e,r){var n,s;this.animationDuration=nt(e,bM,r.animationDuration),this.backgroundClip=nt(e,ZO,r.backgroundClip),this.backgroundColor=nt(e,eH,r.backgroundColor),this.backgroundImage=nt(e,cH,r.backgroundImage),this.backgroundOrigin=nt(e,uH,r.backgroundOrigin),this.backgroundPosition=nt(e,dH,r.backgroundPosition),this.backgroundRepeat=nt(e,hH,r.backgroundRepeat),this.backgroundSize=nt(e,pH,r.backgroundSize),this.borderTopColor=nt(e,gH,r.borderTopColor),this.borderRightColor=nt(e,vH,r.borderRightColor),this.borderBottomColor=nt(e,yH,r.borderBottomColor),this.borderLeftColor=nt(e,wH,r.borderLeftColor),this.borderTopLeftRadius=nt(e,xH,r.borderTopLeftRadius),this.borderTopRightRadius=nt(e,BH,r.borderTopRightRadius),this.borderBottomRightRadius=nt(e,bH,r.borderBottomRightRadius),this.borderBottomLeftRadius=nt(e,CH,r.borderBottomLeftRadius),this.borderTopStyle=nt(e,EH,r.borderTopStyle),this.borderRightStyle=nt(e,_H,r.borderRightStyle),this.borderBottomStyle=nt(e,IH,r.borderBottomStyle),this.borderLeftStyle=nt(e,SH,r.borderLeftStyle),this.borderTopWidth=nt(e,NH,r.borderTopWidth),this.borderRightWidth=nt(e,FH,r.borderRightWidth),this.borderBottomWidth=nt(e,TH,r.borderBottomWidth),this.borderLeftWidth=nt(e,kH,r.borderLeftWidth),this.boxShadow=nt(e,EM,r.boxShadow),this.color=nt(e,UH,r.color),this.direction=nt(e,QH,r.direction),this.display=nt(e,LH,r.display),this.float=nt(e,PH,r.cssFloat),this.fontFamily=nt(e,pM,r.fontFamily),this.fontSize=nt(e,mM,r.fontSize),this.fontStyle=nt(e,yM,r.fontStyle),this.fontVariant=nt(e,vM,r.fontVariant),this.fontWeight=nt(e,gM,r.fontWeight),this.letterSpacing=nt(e,DH,r.letterSpacing),this.lineBreak=nt(e,RH,r.lineBreak),this.lineHeight=nt(e,OH,r.lineHeight),this.listStyleImage=nt(e,HH,r.listStyleImage),this.listStylePosition=nt(e,MH,r.listStylePosition),this.listStyleType=nt(e,Qy,r.listStyleType),this.marginTop=nt(e,VH,r.marginTop),this.marginRight=nt(e,KH,r.marginRight),this.marginBottom=nt(e,zH,r.marginBottom),this.marginLeft=nt(e,GH,r.marginLeft),this.opacity=nt(e,dM,r.opacity);var i=nt(e,qH,r.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=nt(e,WH,r.overflowWrap),this.paddingTop=nt(e,$H,r.paddingTop),this.paddingRight=nt(e,YH,r.paddingRight),this.paddingBottom=nt(e,JH,r.paddingBottom),this.paddingLeft=nt(e,XH,r.paddingLeft),this.paintOrder=nt(e,_M,r.paintOrder),this.position=nt(e,eM,r.position),this.textAlign=nt(e,ZH,r.textAlign),this.textDecorationColor=nt(e,hM,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=nt(e,fM,(s=r.textDecorationLine)!==null&&s!==void 0?s:r.textDecoration),this.textShadow=nt(e,tM,r.textShadow),this.textTransform=nt(e,rM,r.textTransform),this.transform=nt(e,nM,r.transform),this.transformOrigin=nt(e,oM,r.transformOrigin),this.visibility=nt(e,lM,r.visibility),this.webkitTextStrokeColor=nt(e,IM,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=nt(e,SM,r.webkitTextStrokeWidth),this.wordBreak=nt(e,cM,r.wordBreak),this.zIndex=nt(e,uM,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return ko(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return un(this.display,4)||un(this.display,33554432)||un(this.display,268435456)||un(this.display,536870912)||un(this.display,67108864)||un(this.display,134217728)},t}(),FM=function(){function t(e,r){this.content=nt(e,wM,r.content),this.quotes=nt(e,CM,r.quotes)}return t}(),H5=function(){function t(e,r){this.counterIncrement=nt(e,xM,r.counterIncrement),this.counterReset=nt(e,BM,r.counterReset)}return t}(),nt=function(t,e,r){var n=new zS,s=r!==null&&typeof r<"u"?r.toString():e.initialValue;n.write(s);var i=new GS(n.read());switch(e.type){case 2:var A=i.parseComponentValue();return e.parse(t,or(A)?A.value:e.initialValue);case 0:return e.parse(t,i.parseComponentValue());case 1:return e.parse(t,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(e.format){case"angle":return a0.parse(t,i.parseComponentValue());case"color":return To.parse(t,i.parseComponentValue());case"image":return J2.parse(t,i.parseComponentValue());case"length":var a=i.parseComponentValue();return Ro(a)?a:Sn;case"length-percentage":var o=i.parseComponentValue();return rn(o)?o:Sn;case"time":return cN.parse(t,i.parseComponentValue())}break}},TM="data-html2canvas-debug",kM=function(t){var e=t.getAttribute(TM);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Ly=function(t,e){var r=kM(t);return r===1||e===r},xA=function(){function t(e,r){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,Ly(r,3))debugger;this.styles=new NM(e,window.getComputedStyle(r,null)),Dy(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=i0(this.context,r),Ly(r,4)&&(this.flags|=16)}return t}(),UM="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",M5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Vd=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Sp=0;Sp<M5.length;Sp++)Vd[M5.charCodeAt(Sp)]=Sp;var QM=function(t){var e=t.length*.75,r=t.length,n,s=0,i,A,a,o;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),h=Array.isArray(c)?c:new Uint8Array(c);for(n=0;n<r;n+=4)i=Vd[t.charCodeAt(n)],A=Vd[t.charCodeAt(n+1)],a=Vd[t.charCodeAt(n+2)],o=Vd[t.charCodeAt(n+3)],h[s++]=i<<2|A>>4,h[s++]=(A&15)<<4|a>>2,h[s++]=(a&3)<<6|o&63;return c},LM=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},jM=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},Ll=5,X2=11,F1=2,PM=X2-Ll,uN=65536>>Ll,DM=1<<Ll,T1=DM-1,RM=1024>>Ll,OM=uN+RM,HM=OM,MM=32,VM=HM+MM,KM=65536>>X2,zM=1<<PM,GM=zM-1,V5=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},qM=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},WM=function(t,e){var r=QM(t),n=Array.isArray(r)?jM(r):new Uint32Array(r),s=Array.isArray(r)?LM(r):new Uint16Array(r),i=24,A=V5(s,i/2,n[4]/2),a=n[5]===2?V5(s,(i+n[4])/2):qM(n,Math.ceil((i+n[4])/4));return new $M(n[0],n[1],n[2],n[3],A,a)},$M=function(){function t(e,r,n,s,i,A){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=s,this.index=i,this.data=A}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>Ll],r=(r<<F1)+(e&T1),this.data[r];if(e<=65535)return r=this.index[uN+(e-55296>>Ll)],r=(r<<F1)+(e&T1),this.data[r];if(e<this.highStart)return r=VM-KM+(e>>X2),r=this.index[r],r+=e>>Ll&GM,r=this.index[r],r=(r<<F1)+(e&T1),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),K5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",YM=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Np=0;Np<K5.length;Np++)YM[K5.charCodeAt(Np)]=Np;var JM=1,k1=2,U1=3,z5=4,G5=5,XM=7,q5=8,Q1=9,L1=10,W5=11,$5=12,Y5=13,J5=14,j1=15,ZM=function(t){for(var e=[],r=0,n=t.length;r<n;){var s=t.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){var i=t.charCodeAt(r++);(i&64512)===56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),r--)}else e.push(s)}return e},e7=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],s=-1,i="";++s<r;){var A=t[s];A<=65535?n.push(A):(A-=65536,n.push((A>>10)+55296,A%1024+56320)),(s+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},t7=WM(UM),ii="×",P1="÷",r7=function(t){return t7.get(t)},n7=function(t,e,r){var n=r-2,s=e[n],i=e[r-1],A=e[r];if(i===k1&&A===U1)return ii;if(i===k1||i===U1||i===z5||A===k1||A===U1||A===z5)return P1;if(i===q5&&[q5,Q1,W5,$5].indexOf(A)!==-1||(i===W5||i===Q1)&&(A===Q1||A===L1)||(i===$5||i===L1)&&A===L1||A===Y5||A===G5||A===XM||i===JM)return ii;if(i===Y5&&A===J5){for(;s===G5;)s=e[--n];if(s===J5)return ii}if(i===j1&&A===j1){for(var a=0;s===j1;)a++,s=e[--n];if(a%2===0)return ii}return P1},s7=function(t){var e=ZM(t),r=e.length,n=0,s=0,i=e.map(r7);return{next:function(){if(n>=r)return{done:!0,value:null};for(var A=ii;n<r&&(A=n7(e,i,++n))===ii;);if(A!==ii||n===r){var a=e7.apply(null,e.slice(s,n));return s=n,{value:a,done:!1}}return{done:!0,value:null}}}},i7=function(t){for(var e=s7(t),r=[],n;!(n=e.next()).done;)n.value&&r.push(n.value.slice());return r},A7=function(t){var e=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),r.selectNode(n);var s=r.getBoundingClientRect(),i=Math.round(s.height);if(t.body.removeChild(n),i===e)return!0}}return!1},a7=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var r=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,s=A0(n.data).map(function(o){return Vr(o)}),i=0,A={},a=s.every(function(o,c){r.setStart(n,i),r.setEnd(n,i+o.length);var h=r.getBoundingClientRect();i+=o.length;var f=h.x>A.x||h.y>A.y;return A=h,c===0?!0:f});return t.body.removeChild(e),a},o7=function(){return typeof new Image().crossOrigin<"u"},l7=function(){return typeof new XMLHttpRequest().responseType=="string"},c7=function(t){var e=new Image,r=t.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),r.toDataURL()}catch{return!1}return!0},X5=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},u7=function(t){var e=t.createElement("canvas"),r=100;e.width=r,e.height=r;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var s=new Image,i=e.toDataURL();s.src=i;var A=jy(r,r,0,0,s);return n.fillStyle="red",n.fillRect(0,0,r,r),Z5(A).then(function(a){n.drawImage(a,0,0);var o=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var c=t.createElement("div");return c.style.backgroundImage="url("+i+")",c.style.height=r+"px",X5(o)?Z5(jy(r,r,0,0,c)):Promise.reject(!1)}).then(function(a){return n.drawImage(a,0,0),X5(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},jy=function(t,e,r,n,s){var i="http://www.w3.org/2000/svg",A=document.createElementNS(i,"svg"),a=document.createElementNS(i,"foreignObject");return A.setAttributeNS(null,"width",t.toString()),A.setAttributeNS(null,"height",e.toString()),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",r.toString()),a.setAttributeNS(null,"y",n.toString()),a.setAttributeNS(null,"externalResourcesRequired","true"),A.appendChild(a),a.appendChild(s),A},Z5=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){return e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},En={get SUPPORT_RANGE_BOUNDS(){var t=A7(document);return Object.defineProperty(En,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=En.SUPPORT_RANGE_BOUNDS&&a7(document);return Object.defineProperty(En,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=c7(document);return Object.defineProperty(En,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?u7(document):Promise.resolve(!1);return Object.defineProperty(En,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=o7();return Object.defineProperty(En,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=l7();return Object.defineProperty(En,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(En,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(En,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},oh=function(){function t(e,r){this.text=e,this.bounds=r}return t}(),d7=function(t,e,r,n){var s=p7(e,r),i=[],A=0;return s.forEach(function(a){if(r.textDecorationLine.length||a.trim().length>0)if(En.SUPPORT_RANGE_BOUNDS){var o=eC(n,A,a.length).getClientRects();if(o.length>1){var c=Z2(a),h=0;c.forEach(function(g){i.push(new oh(g,ua.fromDOMRectList(t,eC(n,h+A,g.length).getClientRects()))),h+=g.length})}else i.push(new oh(a,ua.fromDOMRectList(t,o)))}else{var f=n.splitText(a.length);i.push(new oh(a,h7(t,n))),n=f}else En.SUPPORT_RANGE_BOUNDS||(n=n.splitText(a.length));A+=a.length}),i},h7=function(t,e){var r=e.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var s=e.parentNode;if(s){s.replaceChild(n,e);var i=i0(t,n);return n.firstChild&&s.replaceChild(n.firstChild,n),i}}return ua.EMPTY},eC=function(t,e,r){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var s=n.createRange();return s.setStart(t,e),s.setEnd(t,e+r),s},Z2=function(t){if(En.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return i7(t)},f7=function(t,e){if(En.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(n){return n.segment})}return g7(t,e)},p7=function(t,e){return e.letterSpacing!==0?Z2(t):f7(t,e)},m7=[32,160,4961,65792,65793,4153,4241],g7=function(t,e){for(var r=K8(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],s,i=function(){if(s.value){var A=s.value.slice(),a=A0(A),o="";a.forEach(function(c){m7.indexOf(c)===-1?o+=Vr(c):(o.length&&n.push(o),n.push(Vr(c)),o="")}),o.length&&n.push(o)}};!(s=r.next()).done;)i();return n},v7=function(){function t(e,r,n){this.text=y7(r.data,n.textTransform),this.textBounds=d7(e,this.text,n,r)}return t}(),y7=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(w7,x7);case 2:return t.toUpperCase();default:return t}},w7=/(^|\s|:|-|\(|\))([a-z])/g,x7=function(t,e,r){return t.length>0?e+r.toUpperCase():t},dN=function(t){Ki(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.src=n.currentSrc||n.src,s.intrinsicWidth=n.naturalWidth,s.intrinsicHeight=n.naturalHeight,s.context.cache.addImage(s.src),s}return e}(xA),hN=function(t){Ki(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.canvas=n,s.intrinsicWidth=n.width,s.intrinsicHeight=n.height,s}return e}(xA),fN=function(t){Ki(e,t);function e(r,n){var s=t.call(this,r,n)||this,i=new XMLSerializer,A=i0(r,n);return n.setAttribute("width",A.width+"px"),n.setAttribute("height",A.height+"px"),s.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(n)),s.intrinsicWidth=n.width.baseVal.value,s.intrinsicHeight=n.height.baseVal.value,s.context.cache.addImage(s.svg),s}return e}(xA),pN=function(t){Ki(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.value=n.value,s}return e}(xA),Py=function(t){Ki(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.start=n.start,s.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,s}return e}(xA),B7=[{type:15,flags:0,unit:"px",number:3}],b7=[{type:16,flags:0,number:50}],C7=function(t){return t.width>t.height?new ua(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new ua(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},E7=function(t){var e=t.type===_7?new Array(t.value.length+1).join("•"):t.value;return e.length===0?t.placeholder||"":e},ag="checkbox",og="radio",_7="password",tC=707406591,ex=function(t){Ki(e,t);function e(r,n){var s=t.call(this,r,n)||this;switch(s.type=n.type.toLowerCase(),s.checked=n.checked,s.value=E7(n),(s.type===ag||s.type===og)&&(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=C7(s.bounds)),s.type){case ag:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=B7;break;case og:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=b7;break}return s}return e}(xA),mN=function(t){Ki(e,t);function e(r,n){var s=t.call(this,r,n)||this,i=n.options[n.selectedIndex||0];return s.value=i&&i.text||"",s}return e}(xA),gN=function(t){Ki(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.value=n.value,s}return e}(xA),vN=function(t){Ki(e,t);function e(r,n){var s=t.call(this,r,n)||this;s.src=n.src,s.width=parseInt(n.width,10)||0,s.height=parseInt(n.height,10)||0,s.backgroundColor=s.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){s.tree=wN(r,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?Ah(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):ta.TRANSPARENT,A=n.contentWindow.document.body?Ah(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):ta.TRANSPARENT;s.backgroundColor=ko(i)?ko(A)?s.styles.backgroundColor:A:i}}catch{}return s}return e}(xA),I7=["OL","UL","MENU"],am=function(t,e,r,n){for(var s=e.firstChild,i=void 0;s;s=i)if(i=s.nextSibling,xN(s)&&s.data.trim().length>0)r.textNodes.push(new v7(t,s,r.styles));else if(eu(s))if(EN(s)&&s.assignedNodes)s.assignedNodes().forEach(function(a){return am(t,a,r,n)});else{var A=yN(t,s);A.styles.isVisible()&&(S7(s,A,n)?A.flags|=4:N7(A.styles)&&(A.flags|=2),I7.indexOf(s.tagName)!==-1&&(A.flags|=8),r.elements.push(A),s.slot,s.shadowRoot?am(t,s.shadowRoot,A,n):!lg(s)&&!BN(s)&&!cg(s)&&am(t,s,A,n))}},yN=function(t,e){return Ry(e)?new dN(t,e):bN(e)?new hN(t,e):BN(e)?new fN(t,e):F7(e)?new pN(t,e):T7(e)?new Py(t,e):k7(e)?new ex(t,e):cg(e)?new mN(t,e):lg(e)?new gN(t,e):CN(e)?new vN(t,e):new xA(t,e)},wN=function(t,e){var r=yN(t,e);return r.flags|=4,am(t,e,r,r),r},S7=function(t,e,r){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||tx(t)&&r.styles.isTransparent()},N7=function(t){return t.isPositioned()||t.isFloating()},xN=function(t){return t.nodeType===Node.TEXT_NODE},eu=function(t){return t.nodeType===Node.ELEMENT_NODE},Dy=function(t){return eu(t)&&typeof t.style<"u"&&!om(t)},om=function(t){return typeof t.className=="object"},F7=function(t){return t.tagName==="LI"},T7=function(t){return t.tagName==="OL"},k7=function(t){return t.tagName==="INPUT"},U7=function(t){return t.tagName==="HTML"},BN=function(t){return t.tagName==="svg"},tx=function(t){return t.tagName==="BODY"},bN=function(t){return t.tagName==="CANVAS"},rC=function(t){return t.tagName==="VIDEO"},Ry=function(t){return t.tagName==="IMG"},CN=function(t){return t.tagName==="IFRAME"},nC=function(t){return t.tagName==="STYLE"},Q7=function(t){return t.tagName==="SCRIPT"},lg=function(t){return t.tagName==="TEXTAREA"},cg=function(t){return t.tagName==="SELECT"},EN=function(t){return t.tagName==="SLOT"},sC=function(t){return t.tagName.indexOf("-")>0},L7=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var r=this.counters[e];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(e){var r=this.counters[e];return r||[]},t.prototype.pop=function(e){var r=this;e.forEach(function(n){return r.counters[n].pop()})},t.prototype.parse=function(e){var r=this,n=e.counterIncrement,s=e.counterReset,i=!0;n!==null&&n.forEach(function(a){var o=r.counters[a.counter];o&&a.increment!==0&&(i=!1,o.length||o.push(1),o[Math.max(0,o.length-1)]+=a.increment)});var A=[];return i&&s.forEach(function(a){var o=r.counters[a.counter];A.push(a.counter),o||(o=r.counters[a.counter]=[]),o.push(a.reset)}),A},t}(),iC={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},AC={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},j7={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},P7={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},Nc=function(t,e,r,n,s,i){return t<e||t>r?zh(t,s,i.length>0):n.integers.reduce(function(A,a,o){for(;t>=a;)t-=a,A+=n.values[o];return A},"")+i},_N=function(t,e,r,n){var s="";do r||t--,s=n(t)+s,t/=e;while(t*e>=e);return s},Mr=function(t,e,r,n,s){var i=r-e+1;return(t<0?"-":"")+(_N(Math.abs(t),i,n,function(A){return Vr(Math.floor(A%i)+e)})+s)},gl=function(t,e,r){r===void 0&&(r=". ");var n=e.length;return _N(Math.abs(t),n,!1,function(s){return e[Math.floor(s%n)]})+r},Pc=1,Ya=2,Ja=4,Kd=8,MA=function(t,e,r,n,s,i){if(t<-9999||t>9999)return zh(t,4,s.length>0);var A=Math.abs(t),a=s;if(A===0)return e[0]+a;for(var o=0;A>0&&o<=4;o++){var c=A%10;c===0&&un(i,Pc)&&a!==""?a=e[c]+a:c>1||c===1&&o===0||c===1&&o===1&&un(i,Ya)||c===1&&o===1&&un(i,Ja)&&t>100||c===1&&o>1&&un(i,Kd)?a=e[c]+(o>0?r[o-1]:"")+a:c===1&&o>0&&(a=r[o-1]+a),A=Math.floor(A/10)}return(t<0?n:"")+a},aC="十百千萬",oC="拾佰仟萬",lC="マイナス",D1="마이너스",zh=function(t,e,r){var n=r?". ":"",s=r?"、":"",i=r?", ":"",A=r?" ":"";switch(e){case 0:return"•"+A;case 1:return"◦"+A;case 2:return"◾"+A;case 5:var a=Mr(t,48,57,!0,n);return a.length<4?"0"+a:a;case 4:return gl(t,"〇一二三四五六七八九",s);case 6:return Nc(t,1,3999,iC,3,n).toLowerCase();case 7:return Nc(t,1,3999,iC,3,n);case 8:return Mr(t,945,969,!1,n);case 9:return Mr(t,97,122,!1,n);case 10:return Mr(t,65,90,!1,n);case 11:return Mr(t,1632,1641,!0,n);case 12:case 49:return Nc(t,1,9999,AC,3,n);case 35:return Nc(t,1,9999,AC,3,n).toLowerCase();case 13:return Mr(t,2534,2543,!0,n);case 14:case 30:return Mr(t,6112,6121,!0,n);case 15:return gl(t,"子丑寅卯辰巳午未申酉戌亥",s);case 16:return gl(t,"甲乙丙丁戊己庚辛壬癸",s);case 17:case 48:return MA(t,"零一二三四五六七八九",aC,"負",s,Ya|Ja|Kd);case 47:return MA(t,"零壹貳參肆伍陸柒捌玖",oC,"負",s,Pc|Ya|Ja|Kd);case 42:return MA(t,"零一二三四五六七八九",aC,"负",s,Ya|Ja|Kd);case 41:return MA(t,"零壹贰叁肆伍陆柒捌玖",oC,"负",s,Pc|Ya|Ja|Kd);case 26:return MA(t,"〇一二三四五六七八九","十百千万",lC,s,0);case 25:return MA(t,"零壱弐参四伍六七八九","拾百千万",lC,s,Pc|Ya|Ja);case 31:return MA(t,"영일이삼사오육칠팔구","십백천만",D1,i,Pc|Ya|Ja);case 33:return MA(t,"零一二三四五六七八九","十百千萬",D1,i,0);case 32:return MA(t,"零壹貳參四五六七八九","拾百千",D1,i,Pc|Ya|Ja);case 18:return Mr(t,2406,2415,!0,n);case 20:return Nc(t,1,19999,P7,3,n);case 21:return Mr(t,2790,2799,!0,n);case 22:return Mr(t,2662,2671,!0,n);case 22:return Nc(t,1,10999,j7,3,n);case 23:return gl(t,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return gl(t,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return Mr(t,3302,3311,!0,n);case 28:return gl(t,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",s);case 29:return gl(t,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",s);case 34:return Mr(t,3792,3801,!0,n);case 37:return Mr(t,6160,6169,!0,n);case 38:return Mr(t,4160,4169,!0,n);case 39:return Mr(t,2918,2927,!0,n);case 40:return Mr(t,1776,1785,!0,n);case 43:return Mr(t,3046,3055,!0,n);case 44:return Mr(t,3174,3183,!0,n);case 45:return Mr(t,3664,3673,!0,n);case 46:return Mr(t,3872,3881,!0,n);case 3:default:return Mr(t,48,57,!0,n)}},IN="data-html2canvas-ignore",cC=function(){function t(e,r,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new L7,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,r){var n=this,s=D7(e,r);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var i=e.defaultView.pageXOffset,A=e.defaultView.pageYOffset,a=s.contentWindow,o=a.document,c=H7(s).then(function(){return as(n,void 0,void 0,function(){var h,f;return Kn(this,function(g){switch(g.label){case 0:return this.scrolledElements.forEach(z7),a&&(a.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(a.scrollY!==r.top||a.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(a.scrollX-r.left,a.scrollY-r.top,0,0))),h=this.options.onclone,f=this.clonedReferenceElement,typeof f>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:o.fonts&&o.fonts.ready?[4,o.fonts.ready]:[3,2];case 1:g.sent(),g.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,O7(o)]:[3,4];case 3:g.sent(),g.label=4;case 4:return typeof h=="function"?[2,Promise.resolve().then(function(){return h(o,f)}).then(function(){return s})]:[2,s]}})})});return o.open(),o.write(V7(document.doctype)+"<html></html>"),K7(this.referenceElement.ownerDocument,i,A),o.replaceChild(o.adoptNode(this.documentElement),o.documentElement),o.close(),c},t.prototype.createElementClone=function(e){if(Ly(e,2))debugger;if(bN(e))return this.createCanvasClone(e);if(rC(e))return this.createVideoClone(e);if(nC(e))return this.createStyleClone(e);var r=e.cloneNode(!1);return Ry(r)&&(Ry(e)&&e.currentSrc&&e.currentSrc!==e.src&&(r.src=e.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),sC(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(e){var r=document.createElement("html2canvascustomelement");return R1(e.style,r),r},t.prototype.createStyleClone=function(e){try{var r=e.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(i,A){return A&&typeof A.cssText=="string"?i+A.cssText:i},""),s=e.cloneNode(!1);return s.textContent=n,s}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var r;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var s=e.cloneNode(!1);try{s.width=e.width,s.height=e.height;var i=e.getContext("2d"),A=s.getContext("2d");if(A)if(!this.options.allowTaint&&i)A.putImageData(i.getImageData(0,0,e.width,e.height),0,0);else{var a=(r=e.getContext("webgl2"))!==null&&r!==void 0?r:e.getContext("webgl");if(a){var o=a.getContextAttributes();(o==null?void 0:o.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}A.drawImage(e,0,0)}return s}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return s},t.prototype.createVideoClone=function(e){var r=e.ownerDocument.createElement("canvas");r.width=e.offsetWidth,r.height=e.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(e,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var s=e.ownerDocument.createElement("canvas");return s.width=e.offsetWidth,s.height=e.offsetHeight,s},t.prototype.appendChildNode=function(e,r,n){(!eu(r)||!Q7(r)&&!r.hasAttribute(IN)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!eu(r)||!nC(r))&&e.appendChild(this.cloneNode(r,n))},t.prototype.cloneChildNodes=function(e,r,n){for(var s=this,i=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;i;i=i.nextSibling)if(eu(i)&&EN(i)&&typeof i.assignedNodes=="function"){var A=i.assignedNodes();A.length&&A.forEach(function(a){return s.appendChildNode(r,a,n)})}else this.appendChildNode(r,i,n)},t.prototype.cloneNode=function(e,r){if(xN(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&eu(e)&&(Dy(e)||om(e))){var s=this.createElementClone(e);s.style.transitionProperty="none";var i=n.getComputedStyle(e),A=n.getComputedStyle(e,":before"),a=n.getComputedStyle(e,":after");this.referenceElement===e&&Dy(s)&&(this.clonedReferenceElement=s),tx(s)&&W7(s);var o=this.counters.parse(new H5(this.context,i)),c=this.resolvePseudoContent(e,s,A,lh.BEFORE);sC(e)&&(r=!0),rC(e)||this.cloneChildNodes(e,s,r),c&&s.insertBefore(c,s.firstChild);var h=this.resolvePseudoContent(e,s,a,lh.AFTER);return h&&s.appendChild(h),this.counters.pop(o),(i&&(this.options.copyStyles||om(e))&&!CN(e)||r)&&R1(i,s),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([s,e.scrollLeft,e.scrollTop]),(lg(e)||cg(e))&&(lg(s)||cg(s))&&(s.value=e.value),s}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,r,n,s){var i=this;if(n){var A=n.content,a=r.ownerDocument;if(!(!a||!A||A==="none"||A==="-moz-alt-content"||n.display==="none")){this.counters.parse(new H5(this.context,n));var o=new FM(this.context,n),c=a.createElement("html2canvaspseudoelement");R1(n,c),o.content.forEach(function(f){if(f.type===0)c.appendChild(a.createTextNode(f.value));else if(f.type===22){var g=a.createElement("img");g.src=f.value,g.style.opacity="1",c.appendChild(g)}else if(f.type===18){if(f.name==="attr"){var m=f.values.filter(or);m.length&&c.appendChild(a.createTextNode(e.getAttribute(m[0].value)||""))}else if(f.name==="counter"){var B=f.values.filter(Lu),b=B[0],F=B[1];if(b&&or(b)){var y=i.counters.getCounterValue(b.value),x=F&&or(F)?Qy.parse(i.context,F.value):3;c.appendChild(a.createTextNode(zh(y,x,!1)))}}else if(f.name==="counters"){var S=f.values.filter(Lu),b=S[0],D=S[1],F=S[2];if(b&&or(b)){var V=i.counters.getCounterValues(b.value),G=F&&or(F)?Qy.parse(i.context,F.value):3,Q=D&&D.type===0?D.value:"",_=V.map(function(E){return zh(E,G,!1)}).join(Q);c.appendChild(a.createTextNode(_))}}}else if(f.type===20)switch(f.value){case"open-quote":c.appendChild(a.createTextNode(O5(o.quotes,i.quoteDepth++,!0)));break;case"close-quote":c.appendChild(a.createTextNode(O5(o.quotes,--i.quoteDepth,!1)));break;default:c.appendChild(a.createTextNode(f.value))}}),c.className=Oy+" "+Hy;var h=s===lh.BEFORE?" "+Oy:" "+Hy;return om(r)?r.className.baseValue+=h:r.className+=h,c}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),lh;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(lh||(lh={}));var D7=function(t,e){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=e.width.toString(),r.height=e.height.toString(),r.scrolling="no",r.setAttribute(IN,"true"),t.body.appendChild(r),r},R7=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},O7=function(t){return Promise.all([].slice.call(t.images,0).map(R7))},H7=function(t){return new Promise(function(e,r){var n=t.contentWindow;if(!n)return r("No window assigned for iframe");var s=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var i=setInterval(function(){s.body.childNodes.length>0&&s.readyState==="complete"&&(clearInterval(i),e(t))},50)}})},M7=["all","d","content"],R1=function(t,e){for(var r=t.length-1;r>=0;r--){var n=t.item(r);M7.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},V7=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},K7=function(t,e,r){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,r)},z7=function(t){var e=t[0],r=t[1],n=t[2];e.scrollLeft=r,e.scrollTop=n},G7=":before",q7=":after",Oy="___html2canvas___pseudoelement_before",Hy="___html2canvas___pseudoelement_after",uC=`{
    content: "" !important;
    display: none !important;
}`,W7=function(t){$7(t,"."+Oy+G7+uC+`
         .`+Hy+q7+uC)},$7=function(t,e){var r=t.ownerDocument;if(r){var n=r.createElement("style");n.textContent=e,t.appendChild(n)}},SN=function(){function t(){}return t.getOrigin=function(e){var r=t._link;return r?(r.href=e,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),Y7=function(){function t(e,r){this.context=e,this._options=r,this._cache={}}return t.prototype.addImage=function(e){var r=Promise.resolve();return this.has(e)||(H1(e)||e9(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),r},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return as(this,void 0,void 0,function(){var r,n,s,i,A=this;return Kn(this,function(a){switch(a.label){case 0:return r=SN.isSameOrigin(e),n=!O1(e)&&this._options.useCORS===!0&&En.SUPPORT_CORS_IMAGES&&!r,s=!O1(e)&&!r&&!H1(e)&&typeof this._options.proxy=="string"&&En.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!O1(e)&&!H1(e)&&!s&&!n?[2]:(i=e,s?[4,this.proxy(i)]:[3,2]);case 1:i=a.sent(),a.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(o,c){var h=new Image;h.onload=function(){return o(h)},h.onerror=c,(t9(i)||n)&&(h.crossOrigin="anonymous"),h.src=i,h.complete===!0&&setTimeout(function(){return o(h)},500),A._options.imageTimeout>0&&setTimeout(function(){return c("Timed out ("+A._options.imageTimeout+"ms) loading image")},A._options.imageTimeout)})];case 3:return[2,a.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var s=e.substring(0,256);return new Promise(function(i,A){var a=En.SUPPORT_RESPONSE_TYPE?"blob":"text",o=new XMLHttpRequest;o.onload=function(){if(o.status===200)if(a==="text")i(o.response);else{var f=new FileReader;f.addEventListener("load",function(){return i(f.result)},!1),f.addEventListener("error",function(g){return A(g)},!1),f.readAsDataURL(o.response)}else A("Failed to proxy resource "+s+" with status code "+o.status)},o.onerror=A;var c=n.indexOf("?")>-1?"&":"?";if(o.open("GET",""+n+c+"url="+encodeURIComponent(e)+"&responseType="+a),a!=="text"&&o instanceof XMLHttpRequest&&(o.responseType=a),r._options.imageTimeout){var h=r._options.imageTimeout;o.timeout=h,o.ontimeout=function(){return A("Timed out ("+h+"ms) proxying "+s)}}o.send()})},t}(),J7=/^data:image\/svg\+xml/i,X7=/^data:image\/.*;base64,/i,Z7=/^data:image\/.*/i,e9=function(t){return En.SUPPORT_SVG_DRAWING||!r9(t)},O1=function(t){return Z7.test(t)},t9=function(t){return X7.test(t)},H1=function(t){return t.substr(0,4)==="blob"},r9=function(t){return t.substr(-3).toLowerCase()==="svg"||J7.test(t)},et=function(){function t(e,r){this.type=0,this.x=e,this.y=r}return t.prototype.add=function(e,r){return new t(this.x+e,this.y+r)},t}(),Fc=function(t,e,r){return new et(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},Fp=function(){function t(e,r,n,s){this.type=1,this.start=e,this.startControl=r,this.endControl=n,this.end=s}return t.prototype.subdivide=function(e,r){var n=Fc(this.start,this.startControl,e),s=Fc(this.startControl,this.endControl,e),i=Fc(this.endControl,this.end,e),A=Fc(n,s,e),a=Fc(s,i,e),o=Fc(A,a,e);return r?new t(this.start,n,A,o):new t(o,a,i,this.end)},t.prototype.add=function(e,r){return new t(this.start.add(e,r),this.startControl.add(e,r),this.endControl.add(e,r),this.end.add(e,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),oi=function(t){return t.type===1},n9=function(){function t(e){var r=e.styles,n=e.bounds,s=Md(r.borderTopLeftRadius,n.width,n.height),i=s[0],A=s[1],a=Md(r.borderTopRightRadius,n.width,n.height),o=a[0],c=a[1],h=Md(r.borderBottomRightRadius,n.width,n.height),f=h[0],g=h[1],m=Md(r.borderBottomLeftRadius,n.width,n.height),B=m[0],b=m[1],F=[];F.push((i+o)/n.width),F.push((B+f)/n.width),F.push((A+b)/n.height),F.push((c+g)/n.height);var y=Math.max.apply(Math,F);y>1&&(i/=y,A/=y,o/=y,c/=y,f/=y,g/=y,B/=y,b/=y);var x=n.width-o,S=n.height-g,D=n.width-f,V=n.height-b,G=r.borderTopWidth,Q=r.borderRightWidth,_=r.borderBottomWidth,k=r.borderLeftWidth,N=mr(r.paddingTop,e.bounds.width),E=mr(r.paddingRight,e.bounds.width),U=mr(r.paddingBottom,e.bounds.width),I=mr(r.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||A>0?Er(n.left+k/3,n.top+G/3,i-k/3,A-G/3,Xt.TOP_LEFT):new et(n.left+k/3,n.top+G/3),this.topRightBorderDoubleOuterBox=i>0||A>0?Er(n.left+x,n.top+G/3,o-Q/3,c-G/3,Xt.TOP_RIGHT):new et(n.left+n.width-Q/3,n.top+G/3),this.bottomRightBorderDoubleOuterBox=f>0||g>0?Er(n.left+D,n.top+S,f-Q/3,g-_/3,Xt.BOTTOM_RIGHT):new et(n.left+n.width-Q/3,n.top+n.height-_/3),this.bottomLeftBorderDoubleOuterBox=B>0||b>0?Er(n.left+k/3,n.top+V,B-k/3,b-_/3,Xt.BOTTOM_LEFT):new et(n.left+k/3,n.top+n.height-_/3),this.topLeftBorderDoubleInnerBox=i>0||A>0?Er(n.left+k*2/3,n.top+G*2/3,i-k*2/3,A-G*2/3,Xt.TOP_LEFT):new et(n.left+k*2/3,n.top+G*2/3),this.topRightBorderDoubleInnerBox=i>0||A>0?Er(n.left+x,n.top+G*2/3,o-Q*2/3,c-G*2/3,Xt.TOP_RIGHT):new et(n.left+n.width-Q*2/3,n.top+G*2/3),this.bottomRightBorderDoubleInnerBox=f>0||g>0?Er(n.left+D,n.top+S,f-Q*2/3,g-_*2/3,Xt.BOTTOM_RIGHT):new et(n.left+n.width-Q*2/3,n.top+n.height-_*2/3),this.bottomLeftBorderDoubleInnerBox=B>0||b>0?Er(n.left+k*2/3,n.top+V,B-k*2/3,b-_*2/3,Xt.BOTTOM_LEFT):new et(n.left+k*2/3,n.top+n.height-_*2/3),this.topLeftBorderStroke=i>0||A>0?Er(n.left+k/2,n.top+G/2,i-k/2,A-G/2,Xt.TOP_LEFT):new et(n.left+k/2,n.top+G/2),this.topRightBorderStroke=i>0||A>0?Er(n.left+x,n.top+G/2,o-Q/2,c-G/2,Xt.TOP_RIGHT):new et(n.left+n.width-Q/2,n.top+G/2),this.bottomRightBorderStroke=f>0||g>0?Er(n.left+D,n.top+S,f-Q/2,g-_/2,Xt.BOTTOM_RIGHT):new et(n.left+n.width-Q/2,n.top+n.height-_/2),this.bottomLeftBorderStroke=B>0||b>0?Er(n.left+k/2,n.top+V,B-k/2,b-_/2,Xt.BOTTOM_LEFT):new et(n.left+k/2,n.top+n.height-_/2),this.topLeftBorderBox=i>0||A>0?Er(n.left,n.top,i,A,Xt.TOP_LEFT):new et(n.left,n.top),this.topRightBorderBox=o>0||c>0?Er(n.left+x,n.top,o,c,Xt.TOP_RIGHT):new et(n.left+n.width,n.top),this.bottomRightBorderBox=f>0||g>0?Er(n.left+D,n.top+S,f,g,Xt.BOTTOM_RIGHT):new et(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=B>0||b>0?Er(n.left,n.top+V,B,b,Xt.BOTTOM_LEFT):new et(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||A>0?Er(n.left+k,n.top+G,Math.max(0,i-k),Math.max(0,A-G),Xt.TOP_LEFT):new et(n.left+k,n.top+G),this.topRightPaddingBox=o>0||c>0?Er(n.left+Math.min(x,n.width-Q),n.top+G,x>n.width+Q?0:Math.max(0,o-Q),Math.max(0,c-G),Xt.TOP_RIGHT):new et(n.left+n.width-Q,n.top+G),this.bottomRightPaddingBox=f>0||g>0?Er(n.left+Math.min(D,n.width-k),n.top+Math.min(S,n.height-_),Math.max(0,f-Q),Math.max(0,g-_),Xt.BOTTOM_RIGHT):new et(n.left+n.width-Q,n.top+n.height-_),this.bottomLeftPaddingBox=B>0||b>0?Er(n.left+k,n.top+Math.min(V,n.height-_),Math.max(0,B-k),Math.max(0,b-_),Xt.BOTTOM_LEFT):new et(n.left+k,n.top+n.height-_),this.topLeftContentBox=i>0||A>0?Er(n.left+k+I,n.top+G+N,Math.max(0,i-(k+I)),Math.max(0,A-(G+N)),Xt.TOP_LEFT):new et(n.left+k+I,n.top+G+N),this.topRightContentBox=o>0||c>0?Er(n.left+Math.min(x,n.width+k+I),n.top+G+N,x>n.width+k+I?0:o-k+I,c-(G+N),Xt.TOP_RIGHT):new et(n.left+n.width-(Q+E),n.top+G+N),this.bottomRightContentBox=f>0||g>0?Er(n.left+Math.min(D,n.width-(k+I)),n.top+Math.min(S,n.height+G+N),Math.max(0,f-(Q+E)),g-(_+U),Xt.BOTTOM_RIGHT):new et(n.left+n.width-(Q+E),n.top+n.height-(_+U)),this.bottomLeftContentBox=B>0||b>0?Er(n.left+k+I,n.top+V,Math.max(0,B-(k+I)),b-(_+U),Xt.BOTTOM_LEFT):new et(n.left+k+I,n.top+n.height-(_+U))}return t}(),Xt;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Xt||(Xt={}));var Er=function(t,e,r,n,s){var i=4*((Math.sqrt(2)-1)/3),A=r*i,a=n*i,o=t+r,c=e+n;switch(s){case Xt.TOP_LEFT:return new Fp(new et(t,c),new et(t,c-a),new et(o-A,e),new et(o,e));case Xt.TOP_RIGHT:return new Fp(new et(t,e),new et(t+A,e),new et(o,c-a),new et(o,c));case Xt.BOTTOM_RIGHT:return new Fp(new et(o,e),new et(o,e+a),new et(t+A,c),new et(t,c));case Xt.BOTTOM_LEFT:default:return new Fp(new et(o,c),new et(o-A,c),new et(t,e+a),new et(t,e))}},ug=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},s9=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},dg=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},i9=function(){function t(e,r,n){this.offsetX=e,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return t}(),Tp=function(){function t(e,r){this.path=e,this.target=r,this.type=1}return t}(),A9=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),a9=function(t){return t.type===0},NN=function(t){return t.type===1},o9=function(t){return t.type===2},dC=function(t,e){return t.length===e.length?t.some(function(r,n){return r===e[n]}):!1},l9=function(t,e,r,n,s){return t.map(function(i,A){switch(A){case 0:return i.add(e,r);case 1:return i.add(e+n,r);case 2:return i.add(e+n,r+s);case 3:return i.add(e,r+s)}return i})},FN=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),TN=function(){function t(e,r){if(this.container=e,this.parent=r,this.effects=[],this.curves=new n9(this.container),this.container.styles.opacity<1&&this.effects.push(new A9(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,s=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new i9(n,s,i))}if(this.container.styles.overflowX!==0){var A=ug(this.curves),a=dg(this.curves);dC(A,a)?this.effects.push(new Tp(A,6)):(this.effects.push(new Tp(A,2)),this.effects.push(new Tp(a,4)))}}return t.prototype.getEffects=function(e){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,s=this.effects.slice(0);n;){var i=n.effects.filter(function(o){return!NN(o)});if(r||n.container.styles.position!==0||!n.parent){if(s.unshift.apply(s,i),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var A=ug(n.curves),a=dg(n.curves);dC(A,a)||s.unshift(new Tp(a,6))}}else s.unshift.apply(s,i);n=n.parent}return s.filter(function(o){return un(o.target,e)})},t}(),My=function(t,e,r,n){t.container.elements.forEach(function(s){var i=un(s.flags,4),A=un(s.flags,2),a=new TN(s,t);un(s.styles.display,2048)&&n.push(a);var o=un(s.flags,8)?[]:n;if(i||A){var c=i||s.styles.isPositioned()?r:e,h=new FN(a);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var f=s.styles.zIndex.order;if(f<0){var g=0;c.negativeZIndex.some(function(B,b){return f>B.element.container.styles.zIndex.order?(g=b,!1):g>0}),c.negativeZIndex.splice(g,0,h)}else if(f>0){var m=0;c.positiveZIndex.some(function(B,b){return f>=B.element.container.styles.zIndex.order?(m=b+1,!1):m>0}),c.positiveZIndex.splice(m,0,h)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(h)}else s.styles.isFloating()?c.nonPositionedFloats.push(h):c.nonPositionedInlineLevel.push(h);My(a,h,i?h:r,o)}else s.styles.isInlineLevel()?e.inlineLevel.push(a):e.nonInlineLevel.push(a),My(a,e,r,o);un(s.flags,8)&&kN(s,o)})},kN=function(t,e){for(var r=t instanceof Py?t.start:1,n=t instanceof Py?t.reversed:!1,s=0;s<e.length;s++){var i=e[s];i.container instanceof pN&&typeof i.container.value=="number"&&i.container.value!==0&&(r=i.container.value),i.listValue=zh(r,i.container.styles.listStyleType,!0),r+=n?-1:1}},c9=function(t){var e=new TN(t,null),r=new FN(e),n=[];return My(e,r,r,n),kN(e.container,n),r},hC=function(t,e){switch(e){case 0:return ui(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return ui(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return ui(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return ui(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},u9=function(t,e){switch(e){case 0:return ui(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return ui(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return ui(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return ui(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},d9=function(t,e){switch(e){case 0:return ui(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return ui(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return ui(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return ui(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},h9=function(t,e){switch(e){case 0:return kp(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return kp(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return kp(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return kp(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},kp=function(t,e){var r=[];return oi(t)?r.push(t.subdivide(.5,!1)):r.push(t),oi(e)?r.push(e.subdivide(.5,!0)):r.push(e),r},ui=function(t,e,r,n){var s=[];return oi(t)?s.push(t.subdivide(.5,!1)):s.push(t),oi(r)?s.push(r.subdivide(.5,!0)):s.push(r),oi(n)?s.push(n.subdivide(.5,!0).reverse()):s.push(n),oi(e)?s.push(e.subdivide(.5,!1).reverse()):s.push(e),s},UN=function(t){var e=t.bounds,r=t.styles;return e.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},hg=function(t){var e=t.styles,r=t.bounds,n=mr(e.paddingLeft,r.width),s=mr(e.paddingRight,r.width),i=mr(e.paddingTop,r.width),A=mr(e.paddingBottom,r.width);return r.add(n+e.borderLeftWidth,i+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+s),-(e.borderTopWidth+e.borderBottomWidth+i+A))},f9=function(t,e){return t===0?e.bounds:t===2?hg(e):UN(e)},p9=function(t,e){return t===0?e.bounds:t===2?hg(e):UN(e)},M1=function(t,e,r){var n=f9(Dc(t.styles.backgroundOrigin,e),t),s=p9(Dc(t.styles.backgroundClip,e),t),i=m9(Dc(t.styles.backgroundSize,e),r,n),A=i[0],a=i[1],o=Md(Dc(t.styles.backgroundPosition,e),n.width-A,n.height-a),c=g9(Dc(t.styles.backgroundRepeat,e),o,i,n,s),h=Math.round(n.left+o[0]),f=Math.round(n.top+o[1]);return[c,h,f,A,a]},Tc=function(t){return or(t)&&t.value===hu.AUTO},Up=function(t){return typeof t=="number"},m9=function(t,e,r){var n=e[0],s=e[1],i=e[2],A=t[0],a=t[1];if(!A)return[0,0];if(rn(A)&&a&&rn(a))return[mr(A,r.width),mr(a,r.height)];var o=Up(i);if(or(A)&&(A.value===hu.CONTAIN||A.value===hu.COVER)){if(Up(i)){var c=r.width/r.height;return c<i!=(A.value===hu.COVER)?[r.width,r.width/i]:[r.height*i,r.height]}return[r.width,r.height]}var h=Up(n),f=Up(s),g=h||f;if(Tc(A)&&(!a||Tc(a))){if(h&&f)return[n,s];if(!o&&!g)return[r.width,r.height];if(g&&o){var m=h?n:s*i,B=f?s:n/i;return[m,B]}var b=h?n:r.width,F=f?s:r.height;return[b,F]}if(o){var y=0,x=0;return rn(A)?y=mr(A,r.width):rn(a)&&(x=mr(a,r.height)),Tc(A)?y=x*i:(!a||Tc(a))&&(x=y/i),[y,x]}var S=null,D=null;if(rn(A)?S=mr(A,r.width):a&&rn(a)&&(D=mr(a,r.height)),S!==null&&(!a||Tc(a))&&(D=h&&f?S/n*s:r.height),D!==null&&Tc(A)&&(S=h&&f?D/s*n:r.width),S!==null&&D!==null)return[S,D];throw new Error("Unable to calculate background-size for element")},Dc=function(t,e){var r=t[e];return typeof r>"u"?t[0]:r},g9=function(t,e,r,n,s){var i=e[0],A=e[1],a=r[0],o=r[1];switch(t){case 2:return[new et(Math.round(n.left),Math.round(n.top+A)),new et(Math.round(n.left+n.width),Math.round(n.top+A)),new et(Math.round(n.left+n.width),Math.round(o+n.top+A)),new et(Math.round(n.left),Math.round(o+n.top+A))];case 3:return[new et(Math.round(n.left+i),Math.round(n.top)),new et(Math.round(n.left+i+a),Math.round(n.top)),new et(Math.round(n.left+i+a),Math.round(n.height+n.top)),new et(Math.round(n.left+i),Math.round(n.height+n.top))];case 1:return[new et(Math.round(n.left+i),Math.round(n.top+A)),new et(Math.round(n.left+i+a),Math.round(n.top+A)),new et(Math.round(n.left+i+a),Math.round(n.top+A+o)),new et(Math.round(n.left+i),Math.round(n.top+A+o))];default:return[new et(Math.round(s.left),Math.round(s.top)),new et(Math.round(s.left+s.width),Math.round(s.top)),new et(Math.round(s.left+s.width),Math.round(s.height+s.top)),new et(Math.round(s.left),Math.round(s.height+s.top))]}},v9="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",fC="Hidden Text",y9=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,r){var n=this._document.createElement("div"),s=this._document.createElement("img"),i=this._document.createElement("span"),A=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",A.appendChild(n),s.src=v9,s.width=1,s.height=1,s.style.margin="0",s.style.padding="0",s.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=r,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(fC)),n.appendChild(i),n.appendChild(s);var a=s.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(fC)),n.style.lineHeight="normal",s.style.verticalAlign="super";var o=s.offsetTop-n.offsetTop+2;return A.removeChild(n),{baseline:a,middle:o}},t.prototype.getMetrics=function(e,r){var n=e+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,r)),this._data[n]},t}(),QN=function(){function t(e,r){this.context=e,this.options=r}return t}(),w9=1e4,x9=function(t){Ki(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s._activeEffects=[],s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),n.canvas||(s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px"),s.fontMetrics=new y9(document),s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.ctx.textBaseline="bottom",s._activeEffects=[],s.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),s}return e.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(s){return n.applyEffect(s)})},e.prototype.applyEffect=function(r){this.ctx.save(),o9(r)&&(this.ctx.globalAlpha=r.opacity),a9(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),NN(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(r){return as(this,void 0,void 0,function(){var n;return Kn(this,function(s){switch(s.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(r){return as(this,void 0,void 0,function(){return Kn(this,function(n){switch(n.label){case 0:if(un(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(r,n,s){var i=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+s);else{var A=Z2(r.text);A.reduce(function(a,o){return i.ctx.fillText(o,a,r.bounds.top+s),a+i.ctx.measureText(o).width},r.bounds.left)}},e.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(A){return A==="normal"||A==="small-caps"}).join(""),s=_9(r.fontFamily).join(", "),i=ff(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,i,s].join(" "),s,i]},e.prototype.renderTextNode=function(r,n){return as(this,void 0,void 0,function(){var s,i,A,a,o,c,h,f,g=this;return Kn(this,function(m){return s=this.createFontStyle(n),i=s[0],A=s[1],a=s[2],this.ctx.font=i,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",o=this.fontMetrics.getMetrics(A,a),c=o.baseline,h=o.middle,f=n.paintOrder,r.textBounds.forEach(function(B){f.forEach(function(b){switch(b){case 0:g.ctx.fillStyle=pn(n.color),g.renderTextWithLetterSpacing(B,n.letterSpacing,c);var F=n.textShadow;F.length&&B.text.trim().length&&(F.slice(0).reverse().forEach(function(y){g.ctx.shadowColor=pn(y.color),g.ctx.shadowOffsetX=y.offsetX.number*g.options.scale,g.ctx.shadowOffsetY=y.offsetY.number*g.options.scale,g.ctx.shadowBlur=y.blur.number,g.renderTextWithLetterSpacing(B,n.letterSpacing,c)}),g.ctx.shadowColor="",g.ctx.shadowOffsetX=0,g.ctx.shadowOffsetY=0,g.ctx.shadowBlur=0),n.textDecorationLine.length&&(g.ctx.fillStyle=pn(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(y){switch(y){case 1:g.ctx.fillRect(B.bounds.left,Math.round(B.bounds.top+c),B.bounds.width,1);break;case 2:g.ctx.fillRect(B.bounds.left,Math.round(B.bounds.top),B.bounds.width,1);break;case 3:g.ctx.fillRect(B.bounds.left,Math.ceil(B.bounds.top+h),B.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&B.text.trim().length&&(g.ctx.strokeStyle=pn(n.webkitTextStrokeColor),g.ctx.lineWidth=n.webkitTextStrokeWidth,g.ctx.lineJoin=window.chrome?"miter":"round",g.ctx.strokeText(B.text,B.bounds.left,B.bounds.top+c)),g.ctx.strokeStyle="",g.ctx.lineWidth=0,g.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(r,n,s){if(s&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var i=hg(r),A=dg(n);this.path(A),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(s,0,0,r.intrinsicWidth,r.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(r){return as(this,void 0,void 0,function(){var n,s,i,A,a,o,x,x,c,h,f,g,D,m,B,V,b,F,y,x,S,D,V;return Kn(this,function(G){switch(G.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,s=r.curves,i=n.styles,A=0,a=n.textNodes,G.label=1;case 1:return A<a.length?(o=a[A],[4,this.renderTextNode(o,i)]):[3,4];case 2:G.sent(),G.label=3;case 3:return A++,[3,1];case 4:if(!(n instanceof dN))return[3,8];G.label=5;case 5:return G.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return x=G.sent(),this.renderReplacedElement(n,s,x),[3,8];case 7:return G.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof hN&&this.renderReplacedElement(n,s,n.canvas),!(n instanceof fN))return[3,12];G.label=9;case 9:return G.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return x=G.sent(),this.renderReplacedElement(n,s,x),[3,12];case 11:return G.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof vN&&n.tree?(c=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,c.render(n.tree)]):[3,14];case 13:h=G.sent(),n.width&&n.height&&this.ctx.drawImage(h,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),G.label=14;case 14:if(n instanceof ex&&(f=Math.min(n.bounds.width,n.bounds.height),n.type===ag?n.checked&&(this.ctx.save(),this.path([new et(n.bounds.left+f*.39363,n.bounds.top+f*.79),new et(n.bounds.left+f*.16,n.bounds.top+f*.5549),new et(n.bounds.left+f*.27347,n.bounds.top+f*.44071),new et(n.bounds.left+f*.39694,n.bounds.top+f*.5649),new et(n.bounds.left+f*.72983,n.bounds.top+f*.23),new et(n.bounds.left+f*.84,n.bounds.top+f*.34085),new et(n.bounds.left+f*.39363,n.bounds.top+f*.79)]),this.ctx.fillStyle=pn(tC),this.ctx.fill(),this.ctx.restore()):n.type===og&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+f/2,n.bounds.top+f/2,f/4,0,Math.PI*2,!0),this.ctx.fillStyle=pn(tC),this.ctx.fill(),this.ctx.restore())),B9(n)&&n.value.length){switch(g=this.createFontStyle(i),D=g[0],m=g[1],B=this.fontMetrics.getMetrics(D,m).baseline,this.ctx.font=D,this.ctx.fillStyle=pn(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=C9(n.styles.textAlign),V=hg(n),b=0,n.styles.textAlign){case 1:b+=V.width/2;break;case 2:b+=V.width;break}F=V.add(b,0,0,-V.height/2+1),this.ctx.save(),this.path([new et(V.left,V.top),new et(V.left+V.width,V.top),new et(V.left+V.width,V.top+V.height),new et(V.left,V.top+V.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new oh(n.value,F),i.letterSpacing,B),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!un(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(y=n.styles.listStyleImage,y.type!==0)return[3,18];x=void 0,S=y.url,G.label=15;case 15:return G.trys.push([15,17,,18]),[4,this.context.cache.match(S)];case 16:return x=G.sent(),this.ctx.drawImage(x,n.bounds.left-(x.width+10),n.bounds.top),[3,18];case 17:return G.sent(),this.context.logger.error("Error loading list-style-image "+S),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(D=this.createFontStyle(i)[0],this.ctx.font=D,this.ctx.fillStyle=pn(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",V=new ua(n.bounds.left,n.bounds.top+mr(n.styles.paddingTop,n.bounds.width),n.bounds.width,D5(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new oh(r.listValue,V),i.letterSpacing,D5(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),G.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(r){return as(this,void 0,void 0,function(){var n,s,y,i,A,y,a,o,y,c,h,y,f,g,y,m,B,y,b,F,y;return Kn(this,function(x){switch(x.label){case 0:if(un(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:x.sent(),n=0,s=r.negativeZIndex,x.label=2;case 2:return n<s.length?(y=s[n],[4,this.renderStack(y)]):[3,5];case 3:x.sent(),x.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:x.sent(),i=0,A=r.nonInlineLevel,x.label=7;case 7:return i<A.length?(y=A[i],[4,this.renderNode(y)]):[3,10];case 8:x.sent(),x.label=9;case 9:return i++,[3,7];case 10:a=0,o=r.nonPositionedFloats,x.label=11;case 11:return a<o.length?(y=o[a],[4,this.renderStack(y)]):[3,14];case 12:x.sent(),x.label=13;case 13:return a++,[3,11];case 14:c=0,h=r.nonPositionedInlineLevel,x.label=15;case 15:return c<h.length?(y=h[c],[4,this.renderStack(y)]):[3,18];case 16:x.sent(),x.label=17;case 17:return c++,[3,15];case 18:f=0,g=r.inlineLevel,x.label=19;case 19:return f<g.length?(y=g[f],[4,this.renderNode(y)]):[3,22];case 20:x.sent(),x.label=21;case 21:return f++,[3,19];case 22:m=0,B=r.zeroOrAutoZIndexOrTransformedOrOpacity,x.label=23;case 23:return m<B.length?(y=B[m],[4,this.renderStack(y)]):[3,26];case 24:x.sent(),x.label=25;case 25:return m++,[3,23];case 26:b=0,F=r.positiveZIndex,x.label=27;case 27:return b<F.length?(y=F[b],[4,this.renderStack(y)]):[3,30];case 28:x.sent(),x.label=29;case 29:return b++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},e.prototype.formatPath=function(r){var n=this;r.forEach(function(s,i){var A=oi(s)?s.start:s;i===0?n.ctx.moveTo(A.x,A.y):n.ctx.lineTo(A.x,A.y),oi(s)&&n.ctx.bezierCurveTo(s.startControl.x,s.startControl.y,s.endControl.x,s.endControl.y,s.end.x,s.end.y)})},e.prototype.renderRepeat=function(r,n,s,i){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(s,i),this.ctx.fill(),this.ctx.translate(-s,-i)},e.prototype.resizeImage=function(r,n,s){var i;if(r.width===n&&r.height===s)return r;var A=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,a=A.createElement("canvas");a.width=Math.max(1,n),a.height=Math.max(1,s);var o=a.getContext("2d");return o.drawImage(r,0,0,r.width,r.height,0,0,n,s),a},e.prototype.renderBackgroundImage=function(r){return as(this,void 0,void 0,function(){var n,s,i,A,a,o;return Kn(this,function(c){switch(c.label){case 0:n=r.styles.backgroundImage.length-1,s=function(h){var f,g,m,N,ae,ne,I,j,_,B,N,ae,ne,I,j,b,F,y,x,S,D,V,G,Q,_,k,N,E,U,I,j,$,ae,ne,ee,ce,ye,_e,P,q,Z,Y;return Kn(this,function(X){switch(X.label){case 0:if(h.type!==0)return[3,5];f=void 0,g=h.url,X.label=1;case 1:return X.trys.push([1,3,,4]),[4,i.context.cache.match(g)];case 2:return f=X.sent(),[3,4];case 3:return X.sent(),i.context.logger.error("Error loading background-image "+g),[3,4];case 4:return f&&(m=M1(r,n,[f.width,f.height,f.width/f.height]),N=m[0],ae=m[1],ne=m[2],I=m[3],j=m[4],_=i.ctx.createPattern(i.resizeImage(f,I,j),"repeat"),i.renderRepeat(N,_,ae,ne)),[3,6];case 5:aH(h)?(B=M1(r,n,[null,null,null]),N=B[0],ae=B[1],ne=B[2],I=B[3],j=B[4],b=rH(h.angle,I,j),F=b[0],y=b[1],x=b[2],S=b[3],D=b[4],V=document.createElement("canvas"),V.width=I,V.height=j,G=V.getContext("2d"),Q=G.createLinearGradient(y,S,x,D),j5(h.stops,F).forEach(function(J){return Q.addColorStop(J.stop,pn(J.color))}),G.fillStyle=Q,G.fillRect(0,0,I,j),I>0&&j>0&&(_=i.ctx.createPattern(V,"repeat"),i.renderRepeat(N,_,ae,ne))):oH(h)&&(k=M1(r,n,[null,null,null]),N=k[0],E=k[1],U=k[2],I=k[3],j=k[4],$=h.position.length===0?[Y2]:h.position,ae=mr($[0],I),ne=mr($[$.length-1],j),ee=nH(h,ae,ne,I,j),ce=ee[0],ye=ee[1],ce>0&&ye>0&&(_e=i.ctx.createRadialGradient(E+ae,U+ne,0,E+ae,U+ne,ce),j5(h.stops,ce*2).forEach(function(J){return _e.addColorStop(J.stop,pn(J.color))}),i.path(N),i.ctx.fillStyle=_e,ce!==ye?(P=r.bounds.left+.5*r.bounds.width,q=r.bounds.top+.5*r.bounds.height,Z=ye/ce,Y=1/Z,i.ctx.save(),i.ctx.translate(P,q),i.ctx.transform(1,0,0,Z,0,0),i.ctx.translate(-P,-q),i.ctx.fillRect(E,Y*(U-q)+q,I,j*Y),i.ctx.restore()):i.ctx.fill())),X.label=6;case 6:return n--,[2]}})},i=this,A=0,a=r.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return A<a.length?(o=a[A],[5,s(o)]):[3,4];case 2:c.sent(),c.label=3;case 3:return A++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(r,n,s){return as(this,void 0,void 0,function(){return Kn(this,function(i){return this.path(hC(s,n)),this.ctx.fillStyle=pn(r),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(r,n,s,i){return as(this,void 0,void 0,function(){var A,a;return Kn(this,function(o){switch(o.label){case 0:return n<3?[4,this.renderSolidBorder(r,s,i)]:[3,2];case 1:return o.sent(),[2];case 2:return A=u9(i,s),this.path(A),this.ctx.fillStyle=pn(r),this.ctx.fill(),a=d9(i,s),this.path(a),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(r){return as(this,void 0,void 0,function(){var n,s,i,A,a,o,c,h,f=this;return Kn(this,function(g){switch(g.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,s=!ko(n.backgroundColor)||n.backgroundImage.length,i=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],A=b9(Dc(n.backgroundClip,0),r.curves),s||n.boxShadow.length?(this.ctx.save(),this.path(A),this.ctx.clip(),ko(n.backgroundColor)||(this.ctx.fillStyle=pn(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:g.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(m){f.ctx.save();var B=ug(r.curves),b=m.inset?0:w9,F=l9(B,-b+(m.inset?1:-1)*m.spread.number,(m.inset?1:-1)*m.spread.number,m.spread.number*(m.inset?-2:2),m.spread.number*(m.inset?-2:2));m.inset?(f.path(B),f.ctx.clip(),f.mask(F)):(f.mask(B),f.ctx.clip(),f.path(F)),f.ctx.shadowOffsetX=m.offsetX.number+b,f.ctx.shadowOffsetY=m.offsetY.number,f.ctx.shadowColor=pn(m.color),f.ctx.shadowBlur=m.blur.number,f.ctx.fillStyle=m.inset?pn(m.color):"rgba(0,0,0,1)",f.ctx.fill(),f.ctx.restore()}),g.label=2;case 2:a=0,o=0,c=i,g.label=3;case 3:return o<c.length?(h=c[o],h.style!==0&&!ko(h.color)&&h.width>0?h.style!==2?[3,5]:[4,this.renderDashedDottedBorder(h.color,h.width,a,r.curves,2)]:[3,11]):[3,13];case 4:return g.sent(),[3,11];case 5:return h.style!==3?[3,7]:[4,this.renderDashedDottedBorder(h.color,h.width,a,r.curves,3)];case 6:return g.sent(),[3,11];case 7:return h.style!==4?[3,9]:[4,this.renderDoubleBorder(h.color,h.width,a,r.curves)];case 8:return g.sent(),[3,11];case 9:return[4,this.renderSolidBorder(h.color,a,r.curves)];case 10:g.sent(),g.label=11;case 11:a++,g.label=12;case 12:return o++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(r,n,s,i,A){return as(this,void 0,void 0,function(){var a,o,c,h,f,g,m,B,b,F,y,x,S,D,V,G,V,G;return Kn(this,function(Q){return this.ctx.save(),a=h9(i,s),o=hC(i,s),A===2&&(this.path(o),this.ctx.clip()),oi(o[0])?(c=o[0].start.x,h=o[0].start.y):(c=o[0].x,h=o[0].y),oi(o[1])?(f=o[1].end.x,g=o[1].end.y):(f=o[1].x,g=o[1].y),s===0||s===2?m=Math.abs(c-f):m=Math.abs(h-g),this.ctx.beginPath(),A===3?this.formatPath(a):this.formatPath(o.slice(0,2)),B=n<3?n*3:n*2,b=n<3?n*2:n,A===3&&(B=n,b=n),F=!0,m<=B*2?F=!1:m<=B*2+b?(y=m/(2*B+b),B*=y,b*=y):(x=Math.floor((m+b)/(B+b)),S=(m-x*B)/(x-1),D=(m-(x+1)*B)/x,b=D<=0||Math.abs(b-S)<Math.abs(b-D)?S:D),F&&(A===3?this.ctx.setLineDash([0,B+b]):this.ctx.setLineDash([B,b])),A===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=pn(r),this.ctx.stroke(),this.ctx.setLineDash([]),A===2&&(oi(o[0])&&(V=o[3],G=o[0],this.ctx.beginPath(),this.formatPath([new et(V.end.x,V.end.y),new et(G.start.x,G.start.y)]),this.ctx.stroke()),oi(o[1])&&(V=o[1],G=o[2],this.ctx.beginPath(),this.formatPath([new et(V.end.x,V.end.y),new et(G.start.x,G.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(r){return as(this,void 0,void 0,function(){var n;return Kn(this,function(s){switch(s.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=pn(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=c9(r),[4,this.renderStack(n)];case 1:return s.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(QN),B9=function(t){return t instanceof gN||t instanceof mN?!0:t instanceof ex&&t.type!==og&&t.type!==ag},b9=function(t,e){switch(t){case 0:return ug(e);case 2:return s9(e);case 1:default:return dg(e)}},C9=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},E9=["-apple-system","system-ui"],_9=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return E9.indexOf(e)===-1}):t},I9=function(t){Ki(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s.options=n,s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px",s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),s}return e.prototype.render=function(r){return as(this,void 0,void 0,function(){var n,s;return Kn(this,function(i){switch(i.label){case 0:return n=jy(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,S9(n)];case 1:return s=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=pn(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(s,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(QN),S9=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},N9=function(){function t(e){var r=e.id,n=e.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,up([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,up([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,up([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,up([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),F9=function(){function t(e,r){var n;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new N9({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new Y7(this,e)}return t.instanceCount=1,t}(),ju=function(t,e){return e===void 0&&(e={}),T9(t,e)};typeof window<"u"&&SN.setContext(window);var T9=function(t,e){return as(void 0,void 0,void 0,function(){var r,n,s,i,A,a,o,c,h,f,g,m,B,b,F,y,x,S,D,V,Q,G,Q,_,k,N,E,U,I,j,$,ae,ne,ee,ce,ye,_e,P,q,Z;return Kn(this,function(Y){switch(Y.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return s={allowTaint:(_=e.allowTaint)!==null&&_!==void 0?_:!1,imageTimeout:(k=e.imageTimeout)!==null&&k!==void 0?k:15e3,proxy:e.proxy,useCORS:(N=e.useCORS)!==null&&N!==void 0?N:!1},i=xy({logging:(E=e.logging)!==null&&E!==void 0?E:!0,cache:e.cache},s),A={windowWidth:(U=e.windowWidth)!==null&&U!==void 0?U:n.innerWidth,windowHeight:(I=e.windowHeight)!==null&&I!==void 0?I:n.innerHeight,scrollX:(j=e.scrollX)!==null&&j!==void 0?j:n.pageXOffset,scrollY:($=e.scrollY)!==null&&$!==void 0?$:n.pageYOffset},a=new ua(A.scrollX,A.scrollY,A.windowWidth,A.windowHeight),o=new F9(i,a),c=(ae=e.foreignObjectRendering)!==null&&ae!==void 0?ae:!1,h={allowTaint:(ne=e.allowTaint)!==null&&ne!==void 0?ne:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:c,copyStyles:c},o.logger.debug("Starting document clone with size "+a.width+"x"+a.height+" scrolled to "+-a.left+","+-a.top),f=new cC(o,t,h),g=f.clonedReferenceElement,g?[4,f.toIFrame(r,a)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return m=Y.sent(),B=tx(g)||U7(g)?l8(g.ownerDocument):i0(o,g),b=B.width,F=B.height,y=B.left,x=B.top,S=k9(o,g,e.backgroundColor),D={canvas:e.canvas,backgroundColor:S,scale:(ce=(ee=e.scale)!==null&&ee!==void 0?ee:n.devicePixelRatio)!==null&&ce!==void 0?ce:1,x:((ye=e.x)!==null&&ye!==void 0?ye:0)+y,y:((_e=e.y)!==null&&_e!==void 0?_e:0)+x,width:(P=e.width)!==null&&P!==void 0?P:Math.ceil(b),height:(q=e.height)!==null&&q!==void 0?q:Math.ceil(F)},c?(o.logger.debug("Document cloned, using foreign object rendering"),Q=new I9(o,D),[4,Q.render(g)]):[3,3];case 2:return V=Y.sent(),[3,5];case 3:return o.logger.debug("Document cloned, element located at "+y+","+x+" with size "+b+"x"+F+" using computed rendering"),o.logger.debug("Starting DOM parsing"),G=wN(o,g),S===G.styles.backgroundColor&&(G.styles.backgroundColor=ta.TRANSPARENT),o.logger.debug("Starting renderer for element at "+D.x+","+D.y+" with size "+D.width+"x"+D.height),Q=new x9(o,D),[4,Q.render(G)];case 4:V=Y.sent(),Y.label=5;case 5:return(!((Z=e.removeContainer)!==null&&Z!==void 0)||Z)&&(cC.destroy(m)||o.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),o.logger.debug("Finished rendering"),[2,V]}})})},k9=function(t,e,r){var n=e.ownerDocument,s=n.documentElement?Ah(t,getComputedStyle(n.documentElement).backgroundColor):ta.TRANSPARENT,i=n.body?Ah(t,getComputedStyle(n.body).backgroundColor):ta.TRANSPARENT,A=typeof r=="string"?Ah(t,r):r===null?ta.TRANSPARENT:4294967295;return e===n.documentElement?ko(s)?ko(i)?A:i:s:A};const U9=Object.freeze(Object.defineProperty({__proto__:null,default:ju},Symbol.toStringTag,{value:"Module"})),Q9="modulepreload",L9=function(t){return"/"+t},pC={},Vy=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const A=document.querySelector("meta[property=csp-nonce]"),a=(A==null?void 0:A.nonce)||(A==null?void 0:A.getAttribute("nonce"));s=Promise.allSettled(r.map(o=>{if(o=L9(o),o in pC)return;pC[o]=!0;const c=o.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${h}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":Q9,c||(f.as="script"),f.crossOrigin="",f.href=o,a&&f.setAttribute("nonce",a),document.head.appendChild(f),c)return new Promise((g,m)=>{f.addEventListener("load",g),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${o}`)))})}))}function i(A){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=A,window.dispatchEvent(a),!a.defaultPrevented)throw A}return s.then(A=>{for(const a of A||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};function nr(t){"@babel/helpers - typeof";return nr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nr(t)}var $n=Uint8Array,zs=Uint16Array,rx=Int32Array,p0=new $n([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),m0=new $n([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Ky=new $n([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),LN=function(t,e){for(var r=new zs(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var s=new rx(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)s[i]=i-r[n]<<5|n;return{b:r,r:s}},jN=LN(p0,2),PN=jN.b,zy=jN.r;PN[28]=258,zy[258]=28;var DN=LN(m0,0),j9=DN.b,mC=DN.r,Gy=new zs(32768);for(var Br=0;Br<32768;++Br){var Wa=(Br&43690)>>1|(Br&21845)<<1;Wa=(Wa&52428)>>2|(Wa&13107)<<2,Wa=(Wa&61680)>>4|(Wa&3855)<<4,Gy[Br]=((Wa&65280)>>8|(Wa&255)<<8)>>1}var vA=function(t,e,r){for(var n=t.length,s=0,i=new zs(e);s<n;++s)t[s]&&++i[t[s]-1];var A=new zs(e);for(s=1;s<e;++s)A[s]=A[s-1]+i[s-1]<<1;var a;if(r){a=new zs(1<<e);var o=15-e;for(s=0;s<n;++s)if(t[s])for(var c=s<<4|t[s],h=e-t[s],f=A[t[s]-1]++<<h,g=f|(1<<h)-1;f<=g;++f)a[Gy[f]>>o]=c}else for(a=new zs(n),s=0;s<n;++s)t[s]&&(a[s]=Gy[A[t[s]-1]++]>>15-t[s]);return a},Oo=new $n(288);for(var Br=0;Br<144;++Br)Oo[Br]=8;for(var Br=144;Br<256;++Br)Oo[Br]=9;for(var Br=256;Br<280;++Br)Oo[Br]=7;for(var Br=280;Br<288;++Br)Oo[Br]=8;var Gh=new $n(32);for(var Br=0;Br<32;++Br)Gh[Br]=5;var P9=vA(Oo,9,0),D9=vA(Oo,9,1),R9=vA(Gh,5,0),O9=vA(Gh,5,1),V1=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},Si=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},K1=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},nx=function(t){return(t+7)/8|0},RN=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new $n(t.subarray(e,r))},H9=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ki=function(t,e,r){var n=new Error(e||H9[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,ki),!r)throw n;return n},M9=function(t,e,r,n){var s=t.length,i=0;if(!s||e.f&&!e.l)return r||new $n(0);var A=!r,a=A||e.i!=2,o=e.i;A&&(r=new $n(s*3));var c=function(he){var Ee=r.length;if(he>Ee){var pe=new $n(Math.max(Ee*2,he));pe.set(r),r=pe}},h=e.f||0,f=e.p||0,g=e.b||0,m=e.l,B=e.d,b=e.m,F=e.n,y=s*8;do{if(!m){h=Si(t,f,1);var x=Si(t,f+1,3);if(f+=3,x)if(x==1)m=D9,B=O9,b=9,F=5;else if(x==2){var G=Si(t,f,31)+257,Q=Si(t,f+10,15)+4,_=G+Si(t,f+5,31)+1;f+=14;for(var k=new $n(_),N=new $n(19),E=0;E<Q;++E)N[Ky[E]]=Si(t,f+E*3,7);f+=Q*3;for(var U=V1(N),I=(1<<U)-1,j=vA(N,U,1),E=0;E<_;){var $=j[Si(t,f,I)];f+=$&15;var S=$>>4;if(S<16)k[E++]=S;else{var ae=0,ne=0;for(S==16?(ne=3+Si(t,f,3),f+=2,ae=k[E-1]):S==17?(ne=3+Si(t,f,7),f+=3):S==18&&(ne=11+Si(t,f,127),f+=7);ne--;)k[E++]=ae}}var ee=k.subarray(0,G),ce=k.subarray(G);b=V1(ee),F=V1(ce),m=vA(ee,b,1),B=vA(ce,F,1)}else ki(1);else{var S=nx(f)+4,D=t[S-4]|t[S-3]<<8,V=S+D;if(V>s){o&&ki(0);break}a&&c(g+D),r.set(t.subarray(S,V),g),e.b=g+=D,e.p=f=V*8,e.f=h;continue}if(f>y){o&&ki(0);break}}a&&c(g+131072);for(var ye=(1<<b)-1,_e=(1<<F)-1,P=f;;P=f){var ae=m[K1(t,f)&ye],q=ae>>4;if(f+=ae&15,f>y){o&&ki(0);break}if(ae||ki(2),q<256)r[g++]=q;else if(q==256){P=f,m=null;break}else{var Z=q-254;if(q>264){var E=q-257,Y=p0[E];Z=Si(t,f,(1<<Y)-1)+PN[E],f+=Y}var X=B[K1(t,f)&_e],J=X>>4;X||ki(3),f+=X&15;var ce=j9[J];if(J>3){var Y=m0[J];ce+=K1(t,f)&(1<<Y)-1,f+=Y}if(f>y){o&&ki(0);break}a&&c(g+131072);var Ae=g+Z;if(g<ce){var le=i-ce,oe=Math.min(ce,Ae);for(le+g<0&&ki(3);g<oe;++g)r[g]=n[le+g]}for(;g<Ae;++g)r[g]=r[g-ce]}}e.l=m,e.p=P,e.b=g,e.f=h,m&&(h=1,e.m=b,e.d=B,e.n=F)}while(!h);return g!=r.length&&A?RN(r,0,g):r.subarray(0,g)},VA=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},_d=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},z1=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var s=r.length,i=r.slice();if(!s)return{t:HN,l:0};if(s==1){var A=new $n(r[0].s+1);return A[r[0].s]=1,{t:A,l:1}}r.sort(function(V,G){return V.f-G.f}),r.push({s:-1,f:25001});var a=r[0],o=r[1],c=0,h=1,f=2;for(r[0]={s:-1,f:a.f+o.f,l:a,r:o};h!=s-1;)a=r[r[c].f<r[f].f?c++:f++],o=r[c!=h&&r[c].f<r[f].f?c++:f++],r[h++]={s:-1,f:a.f+o.f,l:a,r:o};for(var g=i[0].s,n=1;n<s;++n)i[n].s>g&&(g=i[n].s);var m=new zs(g+1),B=qy(r[h-1],m,0);if(B>e){var n=0,b=0,F=B-e,y=1<<F;for(i.sort(function(G,Q){return m[Q.s]-m[G.s]||G.f-Q.f});n<s;++n){var x=i[n].s;if(m[x]>e)b+=y-(1<<B-m[x]),m[x]=e;else break}for(b>>=F;b>0;){var S=i[n].s;m[S]<e?b-=1<<e-m[S]++-1:++n}for(;n>=0&&b;--n){var D=i[n].s;m[D]==e&&(--m[D],++b)}B=e}return{t:new $n(m),l:B}},qy=function(t,e,r){return t.s==-1?Math.max(qy(t.l,e,r+1),qy(t.r,e,r+1)):e[t.s]=r},gC=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new zs(++e),n=0,s=t[0],i=1,A=function(o){r[n++]=o},a=1;a<=e;++a)if(t[a]==s&&a!=e)++i;else{if(!s&&i>2){for(;i>138;i-=138)A(32754);i>2&&(A(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(A(s),--i;i>6;i-=6)A(8304);i>2&&(A(i-3<<5|8208),i=0)}for(;i--;)A(s);i=1,s=t[a]}return{c:r.subarray(0,n),n:e}},Id=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},ON=function(t,e,r){var n=r.length,s=nx(e+2);t[s]=n&255,t[s+1]=n>>8,t[s+2]=t[s]^255,t[s+3]=t[s+1]^255;for(var i=0;i<n;++i)t[s+i+4]=r[i];return(s+4+n)*8},vC=function(t,e,r,n,s,i,A,a,o,c,h){VA(e,h++,r),++s[256];for(var f=z1(s,15),g=f.t,m=f.l,B=z1(i,15),b=B.t,F=B.l,y=gC(g),x=y.c,S=y.n,D=gC(b),V=D.c,G=D.n,Q=new zs(19),_=0;_<x.length;++_)++Q[x[_]&31];for(var _=0;_<V.length;++_)++Q[V[_]&31];for(var k=z1(Q,7),N=k.t,E=k.l,U=19;U>4&&!N[Ky[U-1]];--U);var I=c+5<<3,j=Id(s,Oo)+Id(i,Gh)+A,$=Id(s,g)+Id(i,b)+A+14+3*U+Id(Q,N)+2*Q[16]+3*Q[17]+7*Q[18];if(o>=0&&I<=j&&I<=$)return ON(e,h,t.subarray(o,o+c));var ae,ne,ee,ce;if(VA(e,h,1+($<j)),h+=2,$<j){ae=vA(g,m,0),ne=g,ee=vA(b,F,0),ce=b;var ye=vA(N,E,0);VA(e,h,S-257),VA(e,h+5,G-1),VA(e,h+10,U-4),h+=14;for(var _=0;_<U;++_)VA(e,h+3*_,N[Ky[_]]);h+=3*U;for(var _e=[x,V],P=0;P<2;++P)for(var q=_e[P],_=0;_<q.length;++_){var Z=q[_]&31;VA(e,h,ye[Z]),h+=N[Z],Z>15&&(VA(e,h,q[_]>>5&127),h+=q[_]>>12)}}else ae=P9,ne=Oo,ee=R9,ce=Gh;for(var _=0;_<a;++_){var Y=n[_];if(Y>255){var Z=Y>>18&31;_d(e,h,ae[Z+257]),h+=ne[Z+257],Z>7&&(VA(e,h,Y>>23&31),h+=p0[Z]);var X=Y&31;_d(e,h,ee[X]),h+=ce[X],X>3&&(_d(e,h,Y>>5&8191),h+=m0[X])}else _d(e,h,ae[Y]),h+=ne[Y]}return _d(e,h,ae[256]),h+ne[256]},V9=new rx([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),HN=new $n(0),K9=function(t,e,r,n,s,i){var A=i.z||t.length,a=new $n(n+A+5*(1+Math.ceil(A/7e3))+s),o=a.subarray(n,a.length-s),c=i.l,h=(i.r||0)&7;if(e){h&&(o[0]=i.r>>3);for(var f=V9[e-1],g=f>>13,m=f&8191,B=(1<<r)-1,b=i.p||new zs(32768),F=i.h||new zs(B+1),y=Math.ceil(r/3),x=2*y,S=function(Te){return(t[Te]^t[Te+1]<<y^t[Te+2]<<x)&B},D=new rx(25e3),V=new zs(288),G=new zs(32),Q=0,_=0,k=i.i||0,N=0,E=i.w||0,U=0;k+2<A;++k){var I=S(k),j=k&32767,$=F[I];if(b[j]=$,F[I]=j,E<=k){var ae=A-k;if((Q>7e3||N>24576)&&(ae>423||!c)){h=vC(t,o,0,D,V,G,_,N,U,k-U,h),N=Q=_=0,U=k;for(var ne=0;ne<286;++ne)V[ne]=0;for(var ne=0;ne<30;++ne)G[ne]=0}var ee=2,ce=0,ye=m,_e=j-$&32767;if(ae>2&&I==S(k-_e))for(var P=Math.min(g,ae)-1,q=Math.min(32767,k),Z=Math.min(258,ae);_e<=q&&--ye&&j!=$;){if(t[k+ee]==t[k+ee-_e]){for(var Y=0;Y<Z&&t[k+Y]==t[k+Y-_e];++Y);if(Y>ee){if(ee=Y,ce=_e,Y>P)break;for(var X=Math.min(_e,Y-2),J=0,ne=0;ne<X;++ne){var Ae=k-_e+ne&32767,le=b[Ae],oe=Ae-le&32767;oe>J&&(J=oe,$=Ae)}}}j=$,$=b[j],_e+=j-$&32767}if(ce){D[N++]=268435456|zy[ee]<<18|mC[ce];var he=zy[ee]&31,Ee=mC[ce]&31;_+=p0[he]+m0[Ee],++V[257+he],++G[Ee],E=k+ee,++Q}else D[N++]=t[k],++V[t[k]]}}for(k=Math.max(k,E);k<A;++k)D[N++]=t[k],++V[t[k]];h=vC(t,o,c,D,V,G,_,N,U,k-U,h),c||(i.r=h&7|o[h/8|0]<<3,h-=7,i.h=F,i.p=b,i.i=k,i.w=E)}else{for(var k=i.w||0;k<A+c;k+=65535){var pe=k+65535;pe>=A&&(o[h/8|0]=c,pe=A),h=ON(o,h+1,t.subarray(k,pe))}i.i=A}return RN(a,0,n+nx(h)+s)},MN=function(){var t=1,e=0;return{p:function(r){for(var n=t,s=e,i=r.length|0,A=0;A!=i;){for(var a=Math.min(A+2655,i);A<a;++A)s+=n+=r[A];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}t=n,e=s},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},z9=function(t,e,r,n,s){if(!s&&(s={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),A=new $n(i.length+t.length);A.set(i),A.set(t,i.length),t=A,s.w=i.length}return K9(t,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,s)},VN=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},G9=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var s=MN();s.p(e.dictionary),VN(t,2,s.d())}},q9=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&ki(6,"invalid zlib data"),(t[1]>>5&1)==+!e&&ki(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function Wy(t,e){e||(e={});var r=MN();r.p(t);var n=z9(t,e,e.dictionary?6:2,4);return G9(n,e),VN(n,n.length-4,r.d()),n}function W9(t,e){return M9(t.subarray(q9(t,e),-4),{i:2},e,e)}var $9=typeof TextDecoder<"u"&&new TextDecoder,Y9=0;try{$9.decode(HN,{stream:!0}),Y9=1}catch{}var mt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function G1(){mt.console&&typeof mt.console.log=="function"&&mt.console.log.apply(mt.console,arguments)}var ur={log:G1,warn:function(t){mt.console&&(typeof mt.console.warn=="function"?mt.console.warn.apply(mt.console,arguments):G1.call(null,arguments))},error:function(t){mt.console&&(typeof mt.console.error=="function"?mt.console.error.apply(mt.console,arguments):G1(t))}};function q1(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){xl(n.response,e,r)},n.onerror=function(){ur.error("could not download file")},n.send()}function yC(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Qp(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var ch,$y,xl=mt.saveAs||((typeof window>"u"?"undefined":nr(window))!=="object"||window!==mt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=mt.URL||mt.webkitURL,s=document.createElement("a");e=e||t.name||"download",s.download=e,s.rel="noopener",typeof t=="string"?(s.href=t,s.origin!==location.origin?yC(s.href)?q1(t,e,r):Qp(s,s.target="_blank"):Qp(s)):(s.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){Qp(s)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(yC(t))q1(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Qp(n)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:nr(i)!=="object"&&(ur.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return q1(t,e,r);var s=t.type==="application/octet-stream",i=/constructor/i.test(mt.HTMLElement)||mt.safari,A=/CriOS\/[\d]+/.test(navigator.userAgent);if((A||s&&i)&&(typeof FileReader>"u"?"undefined":nr(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var h=a.result;h=A?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=h:location=h,n=null},a.readAsDataURL(t)}else{var o=mt.URL||mt.webkitURL,c=o.createObjectURL(t);n?n.location=c:location.href=c,n=null,setTimeout(function(){o.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function KN(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],n=0;n<r.length;n++){var s=r[n].re,i=r[n].process,A=s.exec(t);A&&(e=i(A),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),o=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),"#"+a+o+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function W1(t,e){var r=t[0],n=t[1],s=t[2],i=t[3];r=On(r,n,s,i,e[0],7,-680876936),i=On(i,r,n,s,e[1],12,-389564586),s=On(s,i,r,n,e[2],17,606105819),n=On(n,s,i,r,e[3],22,-1044525330),r=On(r,n,s,i,e[4],7,-176418897),i=On(i,r,n,s,e[5],12,1200080426),s=On(s,i,r,n,e[6],17,-1473231341),n=On(n,s,i,r,e[7],22,-45705983),r=On(r,n,s,i,e[8],7,1770035416),i=On(i,r,n,s,e[9],12,-1958414417),s=On(s,i,r,n,e[10],17,-42063),n=On(n,s,i,r,e[11],22,-1990404162),r=On(r,n,s,i,e[12],7,1804603682),i=On(i,r,n,s,e[13],12,-40341101),s=On(s,i,r,n,e[14],17,-1502002290),r=Hn(r,n=On(n,s,i,r,e[15],22,1236535329),s,i,e[1],5,-165796510),i=Hn(i,r,n,s,e[6],9,-1069501632),s=Hn(s,i,r,n,e[11],14,643717713),n=Hn(n,s,i,r,e[0],20,-373897302),r=Hn(r,n,s,i,e[5],5,-701558691),i=Hn(i,r,n,s,e[10],9,38016083),s=Hn(s,i,r,n,e[15],14,-660478335),n=Hn(n,s,i,r,e[4],20,-405537848),r=Hn(r,n,s,i,e[9],5,568446438),i=Hn(i,r,n,s,e[14],9,-1019803690),s=Hn(s,i,r,n,e[3],14,-187363961),n=Hn(n,s,i,r,e[8],20,1163531501),r=Hn(r,n,s,i,e[13],5,-1444681467),i=Hn(i,r,n,s,e[2],9,-51403784),s=Hn(s,i,r,n,e[7],14,1735328473),r=Mn(r,n=Hn(n,s,i,r,e[12],20,-1926607734),s,i,e[5],4,-378558),i=Mn(i,r,n,s,e[8],11,-2022574463),s=Mn(s,i,r,n,e[11],16,1839030562),n=Mn(n,s,i,r,e[14],23,-35309556),r=Mn(r,n,s,i,e[1],4,-1530992060),i=Mn(i,r,n,s,e[4],11,1272893353),s=Mn(s,i,r,n,e[7],16,-155497632),n=Mn(n,s,i,r,e[10],23,-1094730640),r=Mn(r,n,s,i,e[13],4,681279174),i=Mn(i,r,n,s,e[0],11,-358537222),s=Mn(s,i,r,n,e[3],16,-722521979),n=Mn(n,s,i,r,e[6],23,76029189),r=Mn(r,n,s,i,e[9],4,-640364487),i=Mn(i,r,n,s,e[12],11,-421815835),s=Mn(s,i,r,n,e[15],16,530742520),r=Vn(r,n=Mn(n,s,i,r,e[2],23,-995338651),s,i,e[0],6,-198630844),i=Vn(i,r,n,s,e[7],10,1126891415),s=Vn(s,i,r,n,e[14],15,-1416354905),n=Vn(n,s,i,r,e[5],21,-57434055),r=Vn(r,n,s,i,e[12],6,1700485571),i=Vn(i,r,n,s,e[3],10,-1894986606),s=Vn(s,i,r,n,e[10],15,-1051523),n=Vn(n,s,i,r,e[1],21,-2054922799),r=Vn(r,n,s,i,e[8],6,1873313359),i=Vn(i,r,n,s,e[15],10,-30611744),s=Vn(s,i,r,n,e[6],15,-1560198380),n=Vn(n,s,i,r,e[13],21,1309151649),r=Vn(r,n,s,i,e[4],6,-145523070),i=Vn(i,r,n,s,e[11],10,-1120210379),s=Vn(s,i,r,n,e[2],15,718787259),n=Vn(n,s,i,r,e[9],21,-343485551),t[0]=po(r,t[0]),t[1]=po(n,t[1]),t[2]=po(s,t[2]),t[3]=po(i,t[3])}function g0(t,e,r,n,s,i){return e=po(po(e,t),po(n,i)),po(e<<s|e>>>32-s,r)}function On(t,e,r,n,s,i,A){return g0(e&r|~e&n,t,e,s,i,A)}function Hn(t,e,r,n,s,i,A){return g0(e&n|r&~n,t,e,s,i,A)}function Mn(t,e,r,n,s,i,A){return g0(e^r^n,t,e,s,i,A)}function Vn(t,e,r,n,s,i,A){return g0(r^(e|~n),t,e,s,i,A)}function zN(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)W1(n,J9(t.substring(e-64,e)));t=t.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)s[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(W1(n,s),e=0;e<16;e++)s[e]=0;return s[14]=8*r,W1(n,s),n}function J9(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}ch=mt.atob.bind(mt),$y=mt.btoa.bind(mt);var wC="0123456789abcdef".split("");function X9(t){for(var e="",r=0;r<4;r++)e+=wC[t>>8*r+4&15]+wC[t>>8*r&15];return e}function Z9(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Yy(t){return zN(t).map(Z9).join("")}var eV=function(t){for(var e=0;e<t.length;e++)t[e]=X9(t[e]);return t.join("")}(zN("hello"))!="5d41402abc4b2a76b9719d911017c592";function po(t,e){if(eV){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Jy(t,e){var r,n,s,i;if(t!==r){for(var A=(s=t,i=1+(256/t.length>>0),new Array(i+1).join(s)),a=[],o=0;o<256;o++)a[o]=o;var c=0;for(o=0;o<256;o++){var h=a[o];c=(c+h+A.charCodeAt(o))%256,a[o]=a[c],a[c]=h}r=t,n=a}else a=n;var f=e.length,g=0,m=0,B="";for(o=0;o<f;o++)m=(m+(h=a[g=(g+1)%256]))%256,a[g]=a[m],a[m]=h,A=a[(a[g]+a[m])%256],B+=String.fromCharCode(e.charCodeAt(o)^A);return B}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var xC={print:4,modify:8,copy:16,"annot-forms":32};function Rc(t,e,r,n){this.v=1,this.r=2;var s=192;t.forEach(function(a){if(xC.perm!==void 0)throw new Error("Invalid permission: "+a);s+=xC[a]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(e+this.padding).substr(0,32),A=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,A),this.P=-(1+(255^s)),this.encryptionKey=Yy(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Jy(this.encryptionKey,this.padding)}function Oc(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var s=t.charCodeAt(n);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?e+="#"+("0"+s.toString(16)).slice(-2):e+=t[n]}return e}function BC(t){if(nr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,s){if(s=s||!1,typeof r!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var i=Math.random().toString(35);return e[r][i]=[n,!!s],i},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var i in e[r]){var A=e[r][i];try{A[0].apply(t,n)}catch(a){mt.console&&ur.error("jsPDF PubSub Error",a.message,a)}A[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function fg(t){if(!(this instanceof fg))return new fg(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function GN(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function bl(t,e,r,n,s){if(!(this instanceof bl))return new bl(t,e,r,n,s);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,GN.call(this,n,s)}function tu(t,e,r,n,s){if(!(this instanceof tu))return new tu(t,e,r,n,s);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,GN.call(this,n,s)}function pt(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],i=arguments[3],A=[],a=1,o=16,c="S",h=null;nr(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,s=t.format||s,i=t.compress||t.compressPdf||i,(h=t.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(o=t.floatPrecision),c=t.defaultPathOperation||"S"),A=t.filters||(i===!0?["FlateEncode"]:A),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,g={},m={internal:{},__private__:{}};m.__private__.PubSub=BC;var B="1.3",b=m.__private__.getPdfVersion=function(){return B};m.__private__.setPdfVersion=function(v){B=v};var F={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return F};var y=m.__private__.getPageFormat=function(v){return F[v]};s=s||"a4";var x={COMPAT:"compat",ADVANCED:"advanced"},S=x.COMPAT;function D(){this.saveGraphicsState(),te(new Ze(Ye,0,0,-Ye,0,jn()*Ye).toString()+" cm"),this.setFontSize(this.getFontSize()/Ye),c="n",S=x.ADVANCED}function V(){this.restoreGraphicsState(),c="S",S=x.COMPAT}var G=m.__private__.combineFontStyleAndFontWeight=function(v,R){if(v=="bold"&&R=="normal"||v=="bold"&&R==400||v=="normal"&&R=="italic"||v=="bold"&&R=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return R&&(v=R==400||R==="normal"?v==="italic"?"italic":"normal":R!=700&&R!=="bold"||v!=="normal"?(R==700?"bold":R)+""+v:"bold"),v};m.advancedAPI=function(v){var R=S===x.COMPAT;return R&&D.call(this),typeof v!="function"||(v(this),R&&V.call(this)),this},m.compatAPI=function(v){var R=S===x.ADVANCED;return R&&V.call(this),typeof v!="function"||(v(this),R&&D.call(this)),this},m.isAdvancedAPI=function(){return S===x.ADVANCED};var Q,_=function(v){if(S!==x.ADVANCED)throw new Error(v+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},k=m.roundToPrecision=m.__private__.roundToPrecision=function(v,R){var se=e||R;if(isNaN(v)||isNaN(se))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return v.toFixed(se).replace(/0+$/,"")};Q=m.hpf=m.__private__.hpf=typeof o=="number"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return k(v,o)}:o==="smart"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return k(v,v>-1&&v<1?16:5)}:function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return k(v,16)};var N=m.f2=m.__private__.f2=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f2");return k(v,2)},E=m.__private__.f3=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f3");return k(v,3)},U=m.scale=m.__private__.scale=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.scale");return S===x.COMPAT?v*Ye:S===x.ADVANCED?v:void 0},I=function(v){return S===x.COMPAT?jn()-v:S===x.ADVANCED?v:void 0},j=function(v){return U(I(v))};m.__private__.setPrecision=m.setPrecision=function(v){typeof parseInt(v,10)=="number"&&(e=parseInt(v,10))};var $,ae="00000000000000000000000000000000",ne=m.__private__.getFileId=function(){return ae},ee=m.__private__.setFileId=function(v){return ae=v!==void 0&&/^[a-fA-F0-9]{32}$/.test(v)?v.toUpperCase():ae.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(yr=new Rc(h.userPermissions,h.userPassword,h.ownerPassword,ae)),ae};m.setFileId=function(v){return ee(v),this},m.getFileId=function(){return ne()};var ce=m.__private__.convertDateToPDFDate=function(v){var R=v.getTimezoneOffset(),se=R<0?"+":"-",de=Math.floor(Math.abs(R/60)),be=Math.abs(R%60),Ue=[se,Z(de),"'",Z(be),"'"].join("");return["D:",v.getFullYear(),Z(v.getMonth()+1),Z(v.getDate()),Z(v.getHours()),Z(v.getMinutes()),Z(v.getSeconds()),Ue].join("")},ye=m.__private__.convertPDFDateToDate=function(v){var R=parseInt(v.substr(2,4),10),se=parseInt(v.substr(6,2),10)-1,de=parseInt(v.substr(8,2),10),be=parseInt(v.substr(10,2),10),Ue=parseInt(v.substr(12,2),10),He=parseInt(v.substr(14,2),10);return new Date(R,se,de,be,Ue,He,0)},_e=m.__private__.setCreationDate=function(v){var R;if(v===void 0&&(v=new Date),v instanceof Date)R=ce(v);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(v))throw new Error("Invalid argument passed to jsPDF.setCreationDate");R=v}return $=R},P=m.__private__.getCreationDate=function(v){var R=$;return v==="jsDate"&&(R=ye($)),R};m.setCreationDate=function(v){return _e(v),this},m.getCreationDate=function(v){return P(v)};var q,Z=m.__private__.padd2=function(v){return("0"+parseInt(v)).slice(-2)},Y=m.__private__.padd2Hex=function(v){return("00"+(v=v.toString())).substr(v.length)},X=0,J=[],Ae=[],le=0,oe=[],he=[],Ee=!1,pe=Ae,Te=function(){X=0,le=0,Ae=[],J=[],oe=[],mi=kr(),Ln=kr()};m.__private__.setCustomOutputDestination=function(v){Ee=!0,pe=v};var we=function(v){Ee||(pe=v)};m.__private__.resetCustomOutputDestination=function(){Ee=!1,pe=Ae};var te=m.__private__.out=function(v){return v=v.toString(),le+=v.length+1,pe.push(v),pe},ve=m.__private__.write=function(v){return te(arguments.length===1?v.toString():Array.prototype.join.call(arguments," "))},ie=m.__private__.getArrayBuffer=function(v){for(var R=v.length,se=new ArrayBuffer(R),de=new Uint8Array(se);R--;)de[R]=v.charCodeAt(R);return se},fe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return fe};var Ie=t.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(v){return Ie=S===x.ADVANCED?v/Ye:v,this};var Ve,ze=m.__private__.getFontSize=m.getFontSize=function(){return S===x.COMPAT?Ie:Ie*Ye},tt=t.R2L||!1;m.__private__.setR2L=m.setR2L=function(v){return tt=v,this},m.__private__.getR2L=m.getR2L=function(){return tt};var lt,wt=m.__private__.setZoomMode=function(v){var R=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(v))Ve=v;else if(isNaN(v)){if(R.indexOf(v)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+v+'" is not recognized.');Ve=v}else Ve=parseInt(v,10)};m.__private__.getZoomMode=function(){return Ve};var ot,dt=m.__private__.setPageMode=function(v){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(v)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+v+'" is not recognized.');lt=v};m.__private__.getPageMode=function(){return lt};var Pt=m.__private__.setLayoutMode=function(v){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(v)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+v+'" is not recognized.');ot=v};m.__private__.getLayoutMode=function(){return ot},m.__private__.setDisplayMode=m.setDisplayMode=function(v,R,se){return wt(v),Pt(R),dt(se),this};var ut={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(v){if(Object.keys(ut).indexOf(v)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ut[v]},m.__private__.getDocumentProperties=function(){return ut},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(v){for(var R in ut)ut.hasOwnProperty(R)&&v[R]&&(ut[R]=v[R]);return this},m.__private__.setDocumentProperty=function(v,R){if(Object.keys(ut).indexOf(v)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ut[v]=R};var St,Ye,Cr,Qt,Un,Vt={},Zt={},es=[],Lt={},Ts={},Ar={},Yr={},Qn=null,Qe=0,De=[],We=new BC(m),Nt=t.hotfixes||[],kt={},ht={},Ut=[],Ze=function v(R,se,de,be,Ue,He){if(!(this instanceof v))return new v(R,se,de,be,Ue,He);isNaN(R)&&(R=1),isNaN(se)&&(se=0),isNaN(de)&&(de=0),isNaN(be)&&(be=1),isNaN(Ue)&&(Ue=0),isNaN(He)&&(He=0),this._matrix=[R,se,de,be,Ue,He]};Object.defineProperty(Ze.prototype,"sx",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(Ze.prototype,"shy",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(Ze.prototype,"shx",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(Ze.prototype,"sy",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(Ze.prototype,"tx",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(Ze.prototype,"ty",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(Ze.prototype,"a",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(Ze.prototype,"b",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(Ze.prototype,"c",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(Ze.prototype,"d",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(Ze.prototype,"e",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(Ze.prototype,"f",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(Ze.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ze.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ze.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ze.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ze.prototype.join=function(v){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Q).join(v)},Ze.prototype.multiply=function(v){var R=v.sx*this.sx+v.shy*this.shx,se=v.sx*this.shy+v.shy*this.sy,de=v.shx*this.sx+v.sy*this.shx,be=v.shx*this.shy+v.sy*this.sy,Ue=v.tx*this.sx+v.ty*this.shx+this.tx,He=v.tx*this.shy+v.ty*this.sy+this.ty;return new Ze(R,se,de,be,Ue,He)},Ze.prototype.decompose=function(){var v=this.sx,R=this.shy,se=this.shx,de=this.sy,be=this.tx,Ue=this.ty,He=Math.sqrt(v*v+R*R),Je=(v/=He)*se+(R/=He)*de;se-=v*Je,de-=R*Je;var d=Math.sqrt(se*se+de*de);return Je/=d,v*(de/=d)<R*(se/=d)&&(v=-v,R=-R,Je=-Je,He=-He),{scale:new Ze(He,0,0,d,0,0),translate:new Ze(1,0,0,1,be,Ue),rotate:new Ze(v,R,-R,v,0,0),skew:new Ze(1,0,Je,1,0,0)}},Ze.prototype.toString=function(v){return this.join(" ")},Ze.prototype.inversed=function(){var v=this.sx,R=this.shy,se=this.shx,de=this.sy,be=this.tx,Ue=this.ty,He=1/(v*de-R*se),Je=de*He,d=-R*He,C=-se*He,L=v*He;return new Ze(Je,d,C,L,-Je*be-C*Ue,-d*be-L*Ue)},Ze.prototype.applyToPoint=function(v){var R=v.x*this.sx+v.y*this.shx+this.tx,se=v.x*this.shy+v.y*this.sy+this.ty;return new kA(R,se)},Ze.prototype.applyToRectangle=function(v){var R=this.applyToPoint(v),se=this.applyToPoint(new kA(v.x+v.w,v.y+v.h));return new Ta(R.x,R.y,se.x-R.x,se.y-R.y)},Ze.prototype.clone=function(){var v=this.sx,R=this.shy,se=this.shx,de=this.sy,be=this.tx,Ue=this.ty;return new Ze(v,R,se,de,be,Ue)},m.Matrix=Ze;var Jr=m.matrixMult=function(v,R){return R.multiply(v)},Tr=new Ze(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=Tr;var hr=function(v,R){if(!Ts[v]){var se=(R instanceof bl?"Sh":"P")+(Object.keys(Lt).length+1).toString(10);R.id=se,Ts[v]=se,Lt[se]=R,We.publish("addPattern",R)}};m.ShadingPattern=bl,m.TilingPattern=tu,m.addShadingPattern=function(v,R){return _("addShadingPattern()"),hr(v,R),this},m.beginTilingPattern=function(v){_("beginTilingPattern()"),ka(v.boundingBox[0],v.boundingBox[1],v.boundingBox[2]-v.boundingBox[0],v.boundingBox[3]-v.boundingBox[1],v.matrix)},m.endTilingPattern=function(v,R){_("endTilingPattern()"),R.stream=he[q].join(`
`),hr(v,R),We.publish("endTilingPattern",R),Ut.pop().restore()};var Dr=m.__private__.newObject=function(){var v=kr();return Xr(v,!0),v},kr=m.__private__.newObjectDeferred=function(){return X++,J[X]=function(){return le},X},Xr=function(v,R){return R=typeof R=="boolean"&&R,J[v]=le,R&&te(v+" 0 obj"),v},ga=m.__private__.newAdditionalObject=function(){var v={objId:kr(),content:""};return oe.push(v),v},mi=kr(),Ln=kr(),ps=m.__private__.decodeColorString=function(v){var R=v.split(" ");if(R.length!==2||R[1]!=="g"&&R[1]!=="G")R.length===5&&(R[4]==="k"||R[4]==="K")&&(R=[(1-R[0])*(1-R[3]),(1-R[1])*(1-R[3]),(1-R[2])*(1-R[3]),"r"]);else{var se=parseFloat(R[0]);R=[se,se,se,"r"]}for(var de="#",be=0;be<3;be++)de+=("0"+Math.floor(255*parseFloat(R[be])).toString(16)).slice(-2);return de},ts=m.__private__.encodeColorString=function(v){var R;typeof v=="string"&&(v={ch1:v});var se=v.ch1,de=v.ch2,be=v.ch3,Ue=v.ch4,He=v.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof se=="string"&&se.charAt(0)!=="#"){var Je=new KN(se);if(Je.ok)se=Je.toHex();else if(!/^\d*\.?\d*$/.test(se))throw new Error('Invalid color "'+se+'" passed to jsPDF.encodeColorString.')}if(typeof se=="string"&&/^#[0-9A-Fa-f]{3}$/.test(se)&&(se="#"+se[1]+se[1]+se[2]+se[2]+se[3]+se[3]),typeof se=="string"&&/^#[0-9A-Fa-f]{6}$/.test(se)){var d=parseInt(se.substr(1),16);se=d>>16&255,de=d>>8&255,be=255&d}if(de===void 0||Ue===void 0&&se===de&&de===be)if(typeof se=="string")R=se+" "+He[0];else switch(v.precision){case 2:R=N(se/255)+" "+He[0];break;case 3:default:R=E(se/255)+" "+He[0]}else if(Ue===void 0||nr(Ue)==="object"){if(Ue&&!isNaN(Ue.a)&&Ue.a===0)return R=["1.","1.","1.",He[1]].join(" ");if(typeof se=="string")R=[se,de,be,He[1]].join(" ");else switch(v.precision){case 2:R=[N(se/255),N(de/255),N(be/255),He[1]].join(" ");break;default:case 3:R=[E(se/255),E(de/255),E(be/255),He[1]].join(" ")}}else if(typeof se=="string")R=[se,de,be,Ue,He[2]].join(" ");else switch(v.precision){case 2:R=[N(se),N(de),N(be),N(Ue),He[2]].join(" ");break;case 3:default:R=[E(se),E(de),E(be),E(Ue),He[2]].join(" ")}return R},rs=m.__private__.getFilters=function(){return A},Rr=m.__private__.putStream=function(v){var R=(v=v||{}).data||"",se=v.filters||rs(),de=v.alreadyAppliedFilters||[],be=v.addLength1||!1,Ue=R.length,He=v.objectId,Je=function(bt){return bt};if(h!==null&&He===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(Je=yr.encryptor(He,0));var d={};se===!0&&(se=["FlateEncode"]);var C=v.additionalKeyValues||[],L=(d=pt.API.processDataByFilters!==void 0?pt.API.processDataByFilters(R,se):{data:R,reverseChain:[]}).reverseChain+(Array.isArray(de)?de.join(" "):de.toString());if(d.data.length!==0&&(C.push({key:"Length",value:d.data.length}),be===!0&&C.push({key:"Length1",value:Ue})),L.length!=0)if(L.split("/").length-1==1)C.push({key:"Filter",value:L});else{C.push({key:"Filter",value:"["+L+"]"});for(var K=0;K<C.length;K+=1)if(C[K].key==="DecodeParms"){for(var Be=[],Fe=0;Fe<d.reverseChain.split("/").length-1;Fe+=1)Be.push("null");Be.push(C[K].value),C[K].value="["+Be.join(" ")+"]"}}te("<<");for(var Me=0;Me<C.length;Me++)te("/"+C[Me].key+" "+C[Me].value);te(">>"),d.data.length!==0&&(te("stream"),te(Je(d.data)),te("endstream"))},ks=m.__private__.putPage=function(v){var R=v.number,se=v.data,de=v.objId,be=v.contentsObjId;Xr(de,!0),te("<</Type /Page"),te("/Parent "+v.rootDictionaryObjId+" 0 R"),te("/Resources "+v.resourceDictionaryObjId+" 0 R"),te("/MediaBox ["+parseFloat(Q(v.mediaBox.bottomLeftX))+" "+parseFloat(Q(v.mediaBox.bottomLeftY))+" "+Q(v.mediaBox.topRightX)+" "+Q(v.mediaBox.topRightY)+"]"),v.cropBox!==null&&te("/CropBox ["+Q(v.cropBox.bottomLeftX)+" "+Q(v.cropBox.bottomLeftY)+" "+Q(v.cropBox.topRightX)+" "+Q(v.cropBox.topRightY)+"]"),v.bleedBox!==null&&te("/BleedBox ["+Q(v.bleedBox.bottomLeftX)+" "+Q(v.bleedBox.bottomLeftY)+" "+Q(v.bleedBox.topRightX)+" "+Q(v.bleedBox.topRightY)+"]"),v.trimBox!==null&&te("/TrimBox ["+Q(v.trimBox.bottomLeftX)+" "+Q(v.trimBox.bottomLeftY)+" "+Q(v.trimBox.topRightX)+" "+Q(v.trimBox.topRightY)+"]"),v.artBox!==null&&te("/ArtBox ["+Q(v.artBox.bottomLeftX)+" "+Q(v.artBox.bottomLeftY)+" "+Q(v.artBox.topRightX)+" "+Q(v.artBox.topRightY)+"]"),typeof v.userUnit=="number"&&v.userUnit!==1&&te("/UserUnit "+v.userUnit),We.publish("putPage",{objId:de,pageContext:De[R],pageNumber:R,page:se}),te("/Contents "+be+" 0 R"),te(">>"),te("endobj");var Ue=se.join(`
`);return S===x.ADVANCED&&(Ue+=`
Q`),Xr(be,!0),Rr({data:Ue,filters:rs(),objectId:be}),te("endobj"),de},qi=m.__private__.putPages=function(){var v,R,se=[];for(v=1;v<=Qe;v++)De[v].objId=kr(),De[v].contentsObjId=kr();for(v=1;v<=Qe;v++)se.push(ks({number:v,data:he[v],objId:De[v].objId,contentsObjId:De[v].contentsObjId,mediaBox:De[v].mediaBox,cropBox:De[v].cropBox,bleedBox:De[v].bleedBox,trimBox:De[v].trimBox,artBox:De[v].artBox,userUnit:De[v].userUnit,rootDictionaryObjId:mi,resourceDictionaryObjId:Ln}));Xr(mi,!0),te("<</Type /Pages");var de="/Kids [";for(R=0;R<Qe;R++)de+=se[R]+" 0 R ";te(de+"]"),te("/Count "+Qe),te(">>"),te("endobj"),We.publish("postPutPages")},Wi=function(v){We.publish("putFont",{font:v,out:te,newObject:Dr,putStream:Rr}),v.isAlreadyPutted!==!0&&(v.objectNumber=Dr(),te("<<"),te("/Type /Font"),te("/BaseFont /"+Oc(v.postScriptName)),te("/Subtype /Type1"),typeof v.encoding=="string"&&te("/Encoding /"+v.encoding),te("/FirstChar 32"),te("/LastChar 255"),te(">>"),te("endobj"))},$i=function(){for(var v in Vt)Vt.hasOwnProperty(v)&&(f===!1||f===!0&&g.hasOwnProperty(v))&&Wi(Vt[v])},bA=function(v){v.objectNumber=Dr();var R=[];R.push({key:"Type",value:"/XObject"}),R.push({key:"Subtype",value:"/Form"}),R.push({key:"BBox",value:"["+[Q(v.x),Q(v.y),Q(v.x+v.width),Q(v.y+v.height)].join(" ")+"]"}),R.push({key:"Matrix",value:"["+v.matrix.toString()+"]"});var se=v.pages[1].join(`
`);Rr({data:se,additionalKeyValues:R,objectId:v.objectNumber}),te("endobj")},CA=function(){for(var v in kt)kt.hasOwnProperty(v)&&bA(kt[v])},tc=function(v,R){var se,de=[],be=1/(R-1);for(se=0;se<1;se+=be)de.push(se);if(de.push(1),v[0].offset!=0){var Ue={offset:0,color:v[0].color};v.unshift(Ue)}if(v[v.length-1].offset!=1){var He={offset:1,color:v[v.length-1].color};v.push(He)}for(var Je="",d=0,C=0;C<de.length;C++){for(se=de[C];se>v[d+1].offset;)d++;var L=v[d].offset,K=(se-L)/(v[d+1].offset-L),Be=v[d].color,Fe=v[d+1].color;Je+=Y(Math.round((1-K)*Be[0]+K*Fe[0]).toString(16))+Y(Math.round((1-K)*Be[1]+K*Fe[1]).toString(16))+Y(Math.round((1-K)*Be[2]+K*Fe[2]).toString(16))}return Je.trim()},va=function(v,R){R||(R=21);var se=Dr(),de=tc(v.colors,R),be=[];be.push({key:"FunctionType",value:"0"}),be.push({key:"Domain",value:"[0.0 1.0]"}),be.push({key:"Size",value:"["+R+"]"}),be.push({key:"BitsPerSample",value:"8"}),be.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),be.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Rr({data:de,additionalKeyValues:be,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:se}),te("endobj"),v.objectNumber=Dr(),te("<< /ShadingType "+v.type),te("/ColorSpace /DeviceRGB");var Ue="/Coords ["+Q(parseFloat(v.coords[0]))+" "+Q(parseFloat(v.coords[1]))+" ";v.type===2?Ue+=Q(parseFloat(v.coords[2]))+" "+Q(parseFloat(v.coords[3])):Ue+=Q(parseFloat(v.coords[2]))+" "+Q(parseFloat(v.coords[3]))+" "+Q(parseFloat(v.coords[4]))+" "+Q(parseFloat(v.coords[5])),te(Ue+="]"),v.matrix&&te("/Matrix ["+v.matrix.toString()+"]"),te("/Function "+se+" 0 R"),te("/Extend [true true]"),te(">>"),te("endobj")},rc=function(v,R){var se=kr(),de=Dr();R.push({resourcesOid:se,objectOid:de}),v.objectNumber=de;var be=[];be.push({key:"Type",value:"/Pattern"}),be.push({key:"PatternType",value:"1"}),be.push({key:"PaintType",value:"1"}),be.push({key:"TilingType",value:"1"}),be.push({key:"BBox",value:"["+v.boundingBox.map(Q).join(" ")+"]"}),be.push({key:"XStep",value:Q(v.xStep)}),be.push({key:"YStep",value:Q(v.yStep)}),be.push({key:"Resources",value:se+" 0 R"}),v.matrix&&be.push({key:"Matrix",value:"["+v.matrix.toString()+"]"}),Rr({data:v.stream,additionalKeyValues:be,objectId:v.objectNumber}),te("endobj")},Yi=function(v){var R;for(R in Lt)Lt.hasOwnProperty(R)&&(Lt[R]instanceof bl?va(Lt[R]):Lt[R]instanceof tu&&rc(Lt[R],v))},Ji=function(v){for(var R in v.objectNumber=Dr(),te("<<"),v)switch(R){case"opacity":te("/ca "+N(v[R]));break;case"stroke-opacity":te("/CA "+N(v[R]))}te(">>"),te("endobj")},gi=function(){var v;for(v in Ar)Ar.hasOwnProperty(v)&&Ji(Ar[v])},EA=function(){for(var v in te("/XObject <<"),kt)kt.hasOwnProperty(v)&&kt[v].objectNumber>=0&&te("/"+v+" "+kt[v].objectNumber+" 0 R");We.publish("putXobjectDict"),te(">>")},$u=function(){yr.oid=Dr(),te("<<"),te("/Filter /Standard"),te("/V "+yr.v),te("/R "+yr.r),te("/U <"+yr.toHexString(yr.U)+">"),te("/O <"+yr.toHexString(yr.O)+">"),te("/P "+yr.P),te(">>"),te("endobj")},Jo=function(){for(var v in te("/Font <<"),Vt)Vt.hasOwnProperty(v)&&(f===!1||f===!0&&g.hasOwnProperty(v))&&te("/"+v+" "+Vt[v].objectNumber+" 0 R");te(">>")},nc=function(){if(Object.keys(Lt).length>0){for(var v in te("/Shading <<"),Lt)Lt.hasOwnProperty(v)&&Lt[v]instanceof bl&&Lt[v].objectNumber>=0&&te("/"+v+" "+Lt[v].objectNumber+" 0 R");We.publish("putShadingPatternDict"),te(">>")}},_A=function(v){if(Object.keys(Lt).length>0){for(var R in te("/Pattern <<"),Lt)Lt.hasOwnProperty(R)&&Lt[R]instanceof m.TilingPattern&&Lt[R].objectNumber>=0&&Lt[R].objectNumber<v&&te("/"+R+" "+Lt[R].objectNumber+" 0 R");We.publish("putTilingPatternDict"),te(">>")}},Xo=function(){if(Object.keys(Ar).length>0){var v;for(v in te("/ExtGState <<"),Ar)Ar.hasOwnProperty(v)&&Ar[v].objectNumber>=0&&te("/"+v+" "+Ar[v].objectNumber+" 0 R");We.publish("putGStateDict"),te(">>")}},vr=function(v){Xr(v.resourcesOid,!0),te("<<"),te("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Jo(),nc(),_A(v.objectOid),Xo(),EA(),te(">>"),te("endobj")},Zo=function(){var v=[];$i(),gi(),CA(),Yi(v),We.publish("putResources"),v.forEach(vr),vr({resourcesOid:Ln,objectOid:Number.MAX_SAFE_INTEGER}),We.publish("postPutResources")},el=function(){We.publish("putAdditionalObjects");for(var v=0;v<oe.length;v++){var R=oe[v];Xr(R.objId,!0),te(R.content),te("endobj")}We.publish("postPutAdditionalObjects")},sc=function(v){Zt[v.fontName]=Zt[v.fontName]||{},Zt[v.fontName][v.fontStyle]=v.id},tl=function(v,R,se,de,be){var Ue={id:"F"+(Object.keys(Vt).length+1).toString(10),postScriptName:v,fontName:R,fontStyle:se,encoding:de,isStandardFont:be||!1,metadata:{}};return We.publish("addFont",{font:Ue,instance:this}),Vt[Ue.id]=Ue,sc(Ue),Ue.id},ic=function(v){for(var R=0,se=fe.length;R<se;R++){var de=tl.call(this,v[R][0],v[R][1],v[R][2],fe[R][3],!0);f===!1&&(g[de]=!0);var be=v[R][0].split("-");sc({id:de,fontName:be[0],fontStyle:be[1]||""})}We.publish("addFonts",{fonts:Vt,dictionary:Zt})},ms=function(v){return v.foo=function(){try{return v.apply(this,arguments)}catch(de){var R=de.stack||"";~R.indexOf(" at ")&&(R=R.split(" at ")[1]);var se="Error in function "+R.split(`
`)[0].split("<")[0]+": "+de.message;if(!mt.console)throw new Error(se);mt.console.error(se,de),mt.alert&&alert(se)}},v.foo.bar=v,v.foo},ya=function(v,R){var se,de,be,Ue,He,Je,d,C,L;if(be=(R=R||{}).sourceEncoding||"Unicode",He=R.outputEncoding,(R.autoencode||He)&&Vt[St].metadata&&Vt[St].metadata[be]&&Vt[St].metadata[be].encoding&&(Ue=Vt[St].metadata[be].encoding,!He&&Vt[St].encoding&&(He=Vt[St].encoding),!He&&Ue.codePages&&(He=Ue.codePages[0]),typeof He=="string"&&(He=Ue[He]),He)){for(d=!1,Je=[],se=0,de=v.length;se<de;se++)(C=He[v.charCodeAt(se)])?Je.push(String.fromCharCode(C)):Je.push(v[se]),Je[se].charCodeAt(0)>>8&&(d=!0);v=Je.join("")}for(se=v.length;d===void 0&&se!==0;)v.charCodeAt(se-1)>>8&&(d=!0),se--;if(!d)return v;for(Je=R.noBOM?[]:[254,255],se=0,de=v.length;se<de;se++){if((L=(C=v.charCodeAt(se))>>8)>>8)throw new Error("Character at position "+se+" of string '"+v+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Je.push(L),Je.push(C-(L<<8))}return String.fromCharCode.apply(void 0,Je)},Ur=m.__private__.pdfEscape=m.pdfEscape=function(v,R){return ya(v,R).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ns=m.__private__.beginPage=function(v){he[++Qe]=[],De[Qe]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(v[0]),topRightY:Number(v[1])}},rl(Qe),we(he[q])},IA=function(v,R){var se,de,be;switch(r=R||r,typeof v=="string"&&(se=y(v.toLowerCase()),Array.isArray(se)&&(de=se[0],be=se[1])),Array.isArray(v)&&(de=v[0]*Ye,be=v[1]*Ye),isNaN(de)&&(de=s[0],be=s[1]),(de>14400||be>14400)&&(ur.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),de=Math.min(14400,de),be=Math.min(14400,be)),s=[de,be],r.substr(0,1)){case"l":be>de&&(s=[be,de]);break;case"p":de>be&&(s=[be,de])}ns(s),al(Al),te(wn),cl!==0&&te(cl+" J"),Fa!==0&&te(Fa+" j"),We.publish("addPage",{pageNumber:Qe})},wa=function(v){v>0&&v<=Qe&&(he.splice(v,1),De.splice(v,1),Qe--,q>Qe&&(q=Qe),this.setPage(q))},rl=function(v){v>0&&v<=Qe&&(q=v)},er=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return he.length-1},SA=function(v,R,se){var de,be=void 0;return se=se||{},v=v!==void 0?v:Vt[St].fontName,R=R!==void 0?R:Vt[St].fontStyle,de=v.toLowerCase(),Zt[de]!==void 0&&Zt[de][R]!==void 0?be=Zt[de][R]:Zt[v]!==void 0&&Zt[v][R]!==void 0?be=Zt[v][R]:se.disableWarning===!1&&ur.warn("Unable to look up font label for font '"+v+"', '"+R+"'. Refer to getFontList() for available fonts."),be||se.noFallback||(be=Zt.times[R])==null&&(be=Zt.times.normal),be},NA=m.__private__.putInfo=function(){var v=Dr(),R=function(de){return de};for(var se in h!==null&&(R=yr.encryptor(v,0)),te("<<"),te("/Producer ("+Ur(R("jsPDF "+pt.version))+")"),ut)ut.hasOwnProperty(se)&&ut[se]&&te("/"+se.substr(0,1).toUpperCase()+se.substr(1)+" ("+Ur(R(ut[se]))+")");te("/CreationDate ("+Ur(R($))+")"),te(">>"),te("endobj")},vi=m.__private__.putCatalog=function(v){var R=(v=v||{}).rootDictionaryObjId||mi;switch(Dr(),te("<<"),te("/Type /Catalog"),te("/Pages "+R+" 0 R"),Ve||(Ve="fullwidth"),Ve){case"fullwidth":te("/OpenAction [3 0 R /FitH null]");break;case"fullheight":te("/OpenAction [3 0 R /FitV null]");break;case"fullpage":te("/OpenAction [3 0 R /Fit]");break;case"original":te("/OpenAction [3 0 R /XYZ null null 1]");break;default:var se=""+Ve;se.substr(se.length-1)==="%"&&(Ve=parseInt(Ve)/100),typeof Ve=="number"&&te("/OpenAction [3 0 R /XYZ null null "+N(Ve)+"]")}switch(ot||(ot="continuous"),ot){case"continuous":te("/PageLayout /OneColumn");break;case"single":te("/PageLayout /SinglePage");break;case"two":case"twoleft":te("/PageLayout /TwoColumnLeft");break;case"tworight":te("/PageLayout /TwoColumnRight")}lt&&te("/PageMode /"+lt),We.publish("putCatalog"),te(">>"),te("endobj")},Yu=m.__private__.putTrailer=function(){te("trailer"),te("<<"),te("/Size "+(X+1)),te("/Root "+X+" 0 R"),te("/Info "+(X-1)+" 0 R"),h!==null&&te("/Encrypt "+yr.oid+" 0 R"),te("/ID [ <"+ae+"> <"+ae+"> ]"),te(">>")},Ac=m.__private__.putHeader=function(){te("%PDF-"+B),te("%ºß¬à")},Ju=m.__private__.putXRef=function(){var v="0000000000";te("xref"),te("0 "+(X+1)),te("0000000000 65535 f ");for(var R=1;R<=X;R++)typeof J[R]=="function"?te((v+J[R]()).slice(-10)+" 00000 n "):J[R]!==void 0?te((v+J[R]).slice(-10)+" 00000 n "):te("0000000000 00000 n ")},yi=m.__private__.buildDocument=function(){Te(),we(Ae),We.publish("buildDocument"),Ac(),qi(),el(),Zo(),h!==null&&$u(),NA(),vi();var v=le;return Ju(),Yu(),te("startxref"),te(""+v),te("%%EOF"),we(he[q]),Ae.join(`
`)},xa=m.__private__.getBlob=function(v){return new Blob([ie(v)],{type:"application/pdf"})},Ba=m.output=m.__private__.output=ms(function(v,R){switch(typeof(R=R||{})=="string"?R={filename:R}:R.filename=R.filename||"generated.pdf",v){case void 0:return yi();case"save":m.save(R.filename);break;case"arraybuffer":return ie(yi());case"blob":return xa(yi());case"bloburi":case"bloburl":if(mt.URL!==void 0&&typeof mt.URL.createObjectURL=="function")return mt.URL&&mt.URL.createObjectURL(xa(yi()))||void 0;ur.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var se="",de=yi();try{se=$y(de)}catch{se=$y(unescape(encodeURIComponent(de)))}return"data:application/pdf;filename="+R.filename+";base64,"+se;case"pdfobjectnewwindow":if(Object.prototype.toString.call(mt)==="[object Window]"){var be="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ue=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';R.pdfObjectUrl&&(be=R.pdfObjectUrl,Ue="");var He='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+be+'"'+Ue+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(R)+");<\/script></body></html>",Je=mt.open();return Je!==null&&Je.document.write(He),Je}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(mt)==="[object Window]"){var d='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(R.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+R.filename+'" width="500px" height="400px" /></body></html>',C=mt.open();if(C!==null){C.document.write(d);var L=this;C.document.documentElement.querySelector("#pdfViewer").onload=function(){C.document.title=R.filename,C.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(L.output("bloburl"))}}return C}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(mt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var K='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",R)+'"></iframe></body></html>',Be=mt.open();if(Be!==null&&(Be.document.write(K),Be.document.title=R.filename),Be||typeof safari>"u")return Be;break;case"datauri":case"dataurl":return mt.document.location.href=this.output("datauristring",R);default:return null}}),Xi=function(v){return Array.isArray(Nt)===!0&&Nt.indexOf(v)>-1};switch(n){case"pt":Ye=1;break;case"mm":Ye=72/25.4;break;case"cm":Ye=72/2.54;break;case"in":Ye=72;break;case"px":Ye=Xi("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ye=12;break;case"ex":Ye=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Ye=n}var yr=null;_e(),ee();var ac=function(v){return h!==null?yr.encryptor(v,0):function(R){return R}},nl=m.__private__.getPageInfo=m.getPageInfo=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:De[v].objId,pageNumber:v,pageContext:De[v]}},gt=m.__private__.getPageInfoByObjId=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var R in De)if(De[R].objId===v)break;return nl(R)},Zi=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:De[q].objId,pageNumber:q,pageContext:De[q]}};m.addPage=function(){return IA.apply(this,arguments),this},m.setPage=function(){return rl.apply(this,arguments),we.call(this,he[q]),this},m.insertPage=function(v){return this.addPage(),this.movePage(q,v),this},m.movePage=function(v,R){var se,de;if(v>R){se=he[v],de=De[v];for(var be=v;be>R;be--)he[be]=he[be-1],De[be]=De[be-1];he[R]=se,De[R]=de,this.setPage(R)}else if(v<R){se=he[v],de=De[v];for(var Ue=v;Ue<R;Ue++)he[Ue]=he[Ue+1],De[Ue]=De[Ue+1];he[R]=se,De[R]=de,this.setPage(R)}return this},m.deletePage=function(){return wa.apply(this,arguments),this},m.__private__.text=m.text=function(v,R,se,de,be){var Ue,He,Je,d,C,L,K,Be,Fe,Me=(de=de||{}).scope||this;if(typeof v=="number"&&typeof R=="number"&&(typeof se=="string"||Array.isArray(se))){var bt=se;se=R,R=v,v=bt}if(arguments[3]instanceof Ze?(_("The transform parameter of text() with a Matrix value"),Fe=be):(Je=arguments[4],d=arguments[5],nr(K=arguments[3])==="object"&&K!==null||(typeof Je=="string"&&(d=Je,Je=null),typeof K=="string"&&(d=K,K=null),typeof K=="number"&&(Je=K,K=null),de={flags:K,angle:Je,align:d})),isNaN(R)||isNaN(se)||v==null)throw new Error("Invalid arguments passed to jsPDF.text");if(v.length===0)return Me;var Dt="",Ct=!1,Jt=typeof de.lineHeightFactor=="number"?de.lineHeightFactor:Yt,lr=Me.internal.scaleFactor;function Ci(fr){return fr=fr.split("	").join(Array(de.TabLen||9).join(" ")),Ur(fr,K)}function xn(fr){for(var pr,Hr=fr.concat(),ln=[],PA=Hr.length;PA--;)typeof(pr=Hr.shift())=="string"?ln.push(pr):Array.isArray(fr)&&(pr.length===1||pr[1]===void 0&&pr[2]===void 0)?ln.push(pr[0]):ln.push([pr[0],pr[1],pr[2]]);return ln}function nA(fr,pr){var Hr;if(typeof fr=="string")Hr=pr(fr)[0];else if(Array.isArray(fr)){for(var ln,PA,Ad=fr.concat(),wc=[],yf=Ad.length;yf--;)typeof(ln=Ad.shift())=="string"?wc.push(pr(ln)[0]):Array.isArray(ln)&&typeof ln[0]=="string"&&(PA=pr(ln[0],ln[1],ln[2]),wc.push([PA[0],PA[1],PA[2]]));Hr=wc}return Hr}var sA=!1,Zu=!0;if(typeof v=="string")sA=!0;else if(Array.isArray(v)){var ed=v.concat();He=[];for(var dc,Bn=ed.length;Bn--;)(typeof(dc=ed.shift())!="string"||Array.isArray(dc)&&typeof dc[0]!="string")&&(Zu=!1);sA=Zu}if(sA===!1)throw new Error('Type of text must be string or Array. "'+v+'" is not recognized.');typeof v=="string"&&(v=v.match(/[\r?\n]/)?v.split(/\r\n|\r|\n/g):[v]);var hc=Ie/Me.internal.scaleFactor,fc=hc*(Jt-1);switch(de.baseline){case"bottom":se-=fc;break;case"top":se+=hc-fc;break;case"hanging":se+=hc-2*fc;break;case"middle":se+=hc/2-fc}if((L=de.maxWidth||0)>0&&(typeof v=="string"?v=Me.splitTextToSize(v,L):Object.prototype.toString.call(v)==="[object Array]"&&(v=v.reduce(function(fr,pr){return fr.concat(Me.splitTextToSize(pr,L))},[]))),Ue={text:v,x:R,y:se,options:de,mutex:{pdfEscape:Ur,activeFontKey:St,fonts:Vt,activeFontSize:Ie}},We.publish("preProcessText",Ue),v=Ue.text,Je=(de=Ue.options).angle,!(Fe instanceof Ze)&&Je&&typeof Je=="number"){Je*=Math.PI/180,de.rotationDirection===0&&(Je=-Je),S===x.ADVANCED&&(Je=-Je);var pc=Math.cos(Je),td=Math.sin(Je);Fe=new Ze(pc,td,-td,pc,0,0)}else Je&&Je instanceof Ze&&(Fe=Je);S!==x.ADVANCED||Fe||(Fe=Tr),(C=de.charSpace||TA)!==void 0&&(Dt+=Q(U(C))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Be=de.horizontalScale)!==void 0&&(Dt+=Q(100*Be)+` Tz
`),de.lang;var gs=-1,v0=de.renderingMode!==void 0?de.renderingMode:de.stroke,rd=Me.internal.getCurrentPageInfo().pageContext;switch(v0){case 0:case!1:case"fill":gs=0;break;case 1:case!0:case"stroke":gs=1;break;case 2:case"fillThenStroke":gs=2;break;case 3:case"invisible":gs=3;break;case 4:case"fillAndAddForClipping":gs=4;break;case 5:case"strokeAndAddPathForClipping":gs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":gs=6;break;case 7:case"addToPathForClipping":gs=7}var pf=rd.usedRenderingMode!==void 0?rd.usedRenderingMode:-1;gs!==-1?Dt+=gs+` Tr
`:pf!==-1&&(Dt+=`0 Tr
`),gs!==-1&&(rd.usedRenderingMode=gs),d=de.align||"left";var Xs,mc=Ie*Jt,mf=Me.internal.pageSize.getWidth(),gf=Vt[St];C=de.charSpace||TA,L=de.maxWidth||0,K=Object.assign({autoencode:!0,noBOM:!0},de.flags);var La=[],ul=function(fr){return Me.getStringUnitWidth(fr,{font:gf,charSpace:C,fontSize:Ie,doKerning:!1})*Ie/lr};if(Object.prototype.toString.call(v)==="[object Array]"){var vs;He=xn(v),d!=="left"&&(Xs=He.map(ul));var ss,ja=0;if(d==="right"){R-=Xs[0],v=[],Bn=He.length;for(var QA=0;QA<Bn;QA++)QA===0?(ss=Ls(R),vs=on(se)):(ss=U(ja-Xs[QA]),vs=-mc),v.push([He[QA],ss,vs]),ja=Xs[QA]}else if(d==="center"){R-=Xs[0]/2,v=[],Bn=He.length;for(var LA=0;LA<Bn;LA++)LA===0?(ss=Ls(R),vs=on(se)):(ss=U((ja-Xs[LA])/2),vs=-mc),v.push([He[LA],ss,vs]),ja=Xs[LA]}else if(d==="left"){v=[],Bn=He.length;for(var gc=0;gc<Bn;gc++)v.push(He[gc])}else if(d==="justify"&&gf.encoding==="Identity-H"){v=[],Bn=He.length,L=L!==0?L:mf;for(var jA=0,Or=0;Or<Bn;Or++)if(vs=Or===0?on(se):-mc,ss=Or===0?Ls(R):jA,Or<Bn-1){var nd=U((L-Xs[Or])/(He[Or].split(" ").length-1)),is=He[Or].split(" ");v.push([is[0]+" ",ss,vs]),jA=0;for(var Zs=1;Zs<is.length;Zs++){var vc=(ul(is[Zs-1]+" "+is[Zs])-ul(is[Zs]))*lr+nd;Zs==is.length-1?v.push([is[Zs],vc,0]):v.push([is[Zs]+" ",vc,0]),jA-=vc}}else v.push([He[Or],ss,vs]);v.push(["",jA,0])}else{if(d!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(v=[],Bn=He.length,L=L!==0?L:mf,Or=0;Or<Bn;Or++)vs=Or===0?on(se):-mc,ss=Or===0?Ls(R):0,Or<Bn-1?La.push(Q(U((L-Xs[Or])/(He[Or].split(" ").length-1)))):La.push(0),v.push([He[Or],ss,vs])}}var vf=typeof de.R2L=="boolean"?de.R2L:tt;vf===!0&&(v=nA(v,function(fr,pr,Hr){return[fr.split("").reverse().join(""),pr,Hr]})),Ue={text:v,x:R,y:se,options:de,mutex:{pdfEscape:Ur,activeFontKey:St,fonts:Vt,activeFontSize:Ie}},We.publish("postProcessText",Ue),v=Ue.text,Ct=Ue.mutex.isHex||!1;var sd=Vt[St].encoding;sd!=="WinAnsiEncoding"&&sd!=="StandardEncoding"||(v=nA(v,function(fr,pr,Hr){return[Ci(fr),pr,Hr]})),He=xn(v),v=[];for(var dl,hl,Pa,fl=0,yc=1,pl=Array.isArray(He[0])?yc:fl,Da="",id=function(fr,pr,Hr){var ln="";return Hr instanceof Ze?(Hr=typeof de.angle=="number"?Jr(Hr,new Ze(1,0,0,1,fr,pr)):Jr(new Ze(1,0,0,1,fr,pr),Hr),S===x.ADVANCED&&(Hr=Jr(new Ze(1,0,0,-1,0,0),Hr)),ln=Hr.join(" ")+` Tm
`):ln=Q(fr)+" "+Q(pr)+` Td
`,ln},ei=0;ei<He.length;ei++){switch(Da="",pl){case yc:Pa=(Ct?"<":"(")+He[ei][0]+(Ct?">":")"),dl=parseFloat(He[ei][1]),hl=parseFloat(He[ei][2]);break;case fl:Pa=(Ct?"<":"(")+He[ei]+(Ct?">":")"),dl=Ls(R),hl=on(se)}La!==void 0&&La[ei]!==void 0&&(Da=La[ei]+` Tw
`),ei===0?v.push(Da+id(dl,hl,Fe)+Pa):pl===fl?v.push(Da+Pa):pl===yc&&v.push(Da+id(dl,hl,Fe)+Pa)}v=pl===fl?v.join(` Tj
T* `):v.join(` Tj
`),v+=` Tj
`;var ti=`BT
/`;return ti+=St+" "+Ie+` Tf
`,ti+=Q(Ie*Jt)+` TL
`,ti+=Bi+`
`,ti+=Dt,ti+=v,te(ti+="ET"),g[St]=!0,Me};var Xu=m.__private__.clip=m.clip=function(v){return te(v==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return Xu("evenodd")},m.__private__.discardPath=m.discardPath=function(){return te("n"),this};var Js=m.__private__.isValidStyle=function(v){var R=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(v)!==-1&&(R=!0),R};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(v){return Js(v)&&(c=v),this};var oc=m.__private__.getStyle=m.getStyle=function(v){var R=c;switch(v){case"D":case"S":R="S";break;case"F":R="f";break;case"FD":case"DF":R="B";break;case"f":case"f*":case"B":case"B*":R=v}return R},Us=m.close=function(){return te("h"),this};m.stroke=function(){return te("S"),this},m.fill=function(v){return ba("f",v),this},m.fillEvenOdd=function(v){return ba("f*",v),this},m.fillStroke=function(v){return ba("B",v),this},m.fillStrokeEvenOdd=function(v){return ba("B*",v),this};var ba=function(v,R){nr(R)==="object"?Ea(R,v):te(v)},sl=function(v){v===null||S===x.ADVANCED&&v===void 0||(v=oc(v),te(v))};function Ca(v,R,se,de,be){var Ue=new tu(R||this.boundingBox,se||this.xStep,de||this.yStep,this.gState,be||this.matrix);Ue.stream=this.stream;var He=v+"$$"+this.cloneIndex+++"$$";return hr(He,Ue),Ue}var Ea=function(v,R){var se=Ts[v.key],de=Lt[se];if(de instanceof bl)te("q"),te(lc(R)),de.gState&&m.setGState(de.gState),te(v.matrix.toString()+" cm"),te("/"+se+" sh"),te("Q");else if(de instanceof tu){var be=new Ze(1,0,0,-1,0,jn());v.matrix&&(be=be.multiply(v.matrix||Tr),se=Ca.call(de,v.key,v.boundingBox,v.xStep,v.yStep,be).id),te("q"),te("/Pattern cs"),te("/"+se+" scn"),de.gState&&m.setGState(de.gState),te(R),te("Q")}},lc=function(v){switch(v){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},wi=m.moveTo=function(v,R){return te(Q(U(v))+" "+Q(j(R))+" m"),this},Qs=m.lineTo=function(v,R){return te(Q(U(v))+" "+Q(j(R))+" l"),this},xi=m.curveTo=function(v,R,se,de,be,Ue){return te([Q(U(v)),Q(j(R)),Q(U(se)),Q(j(de)),Q(U(be)),Q(j(Ue)),"c"].join(" ")),this};m.__private__.line=m.line=function(v,R,se,de,be){if(isNaN(v)||isNaN(R)||isNaN(se)||isNaN(de)||!Js(be))throw new Error("Invalid arguments passed to jsPDF.line");return S===x.COMPAT?this.lines([[se-v,de-R]],v,R,[1,1],be||"S"):this.lines([[se-v,de-R]],v,R,[1,1]).stroke()},m.__private__.lines=m.lines=function(v,R,se,de,be,Ue){var He,Je,d,C,L,K,Be,Fe,Me,bt,Dt,Ct;if(typeof v=="number"&&(Ct=se,se=R,R=v,v=Ct),de=de||[1,1],Ue=Ue||!1,isNaN(R)||isNaN(se)||!Array.isArray(v)||!Array.isArray(de)||!Js(be)||typeof Ue!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(wi(R,se),He=de[0],Je=de[1],C=v.length,bt=R,Dt=se,d=0;d<C;d++)(L=v[d]).length===2?(bt=L[0]*He+bt,Dt=L[1]*Je+Dt,Qs(bt,Dt)):(K=L[0]*He+bt,Be=L[1]*Je+Dt,Fe=L[2]*He+bt,Me=L[3]*Je+Dt,bt=L[4]*He+bt,Dt=L[5]*Je+Dt,xi(K,Be,Fe,Me,bt,Dt));return Ue&&Us(),sl(be),this},m.path=function(v){for(var R=0;R<v.length;R++){var se=v[R],de=se.c;switch(se.op){case"m":wi(de[0],de[1]);break;case"l":Qs(de[0],de[1]);break;case"c":xi.apply(this,de);break;case"h":Us()}}return this},m.__private__.rect=m.rect=function(v,R,se,de,be){if(isNaN(v)||isNaN(R)||isNaN(se)||isNaN(de)||!Js(be))throw new Error("Invalid arguments passed to jsPDF.rect");return S===x.COMPAT&&(de=-de),te([Q(U(v)),Q(j(R)),Q(U(se)),Q(U(de)),"re"].join(" ")),sl(be),this},m.__private__.triangle=m.triangle=function(v,R,se,de,be,Ue,He){if(isNaN(v)||isNaN(R)||isNaN(se)||isNaN(de)||isNaN(be)||isNaN(Ue)||!Js(He))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[se-v,de-R],[be-se,Ue-de],[v-be,R-Ue]],v,R,[1,1],He,!0),this},m.__private__.roundedRect=m.roundedRect=function(v,R,se,de,be,Ue,He){if(isNaN(v)||isNaN(R)||isNaN(se)||isNaN(de)||isNaN(be)||isNaN(Ue)||!Js(He))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Je=4/3*(Math.SQRT2-1);return be=Math.min(be,.5*se),Ue=Math.min(Ue,.5*de),this.lines([[se-2*be,0],[be*Je,0,be,Ue-Ue*Je,be,Ue],[0,de-2*Ue],[0,Ue*Je,-be*Je,Ue,-be,Ue],[2*be-se,0],[-be*Je,0,-be,-Ue*Je,-be,-Ue],[0,2*Ue-de],[0,-Ue*Je,be*Je,-Ue,be,-Ue]],v+be,R,[1,1],He,!0),this},m.__private__.ellipse=m.ellipse=function(v,R,se,de,be){if(isNaN(v)||isNaN(R)||isNaN(se)||isNaN(de)||!Js(be))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ue=4/3*(Math.SQRT2-1)*se,He=4/3*(Math.SQRT2-1)*de;return wi(v+se,R),xi(v+se,R-He,v+Ue,R-de,v,R-de),xi(v-Ue,R-de,v-se,R-He,v-se,R),xi(v-se,R+He,v-Ue,R+de,v,R+de),xi(v+Ue,R+de,v+se,R+He,v+se,R),sl(be),this},m.__private__.circle=m.circle=function(v,R,se,de){if(isNaN(v)||isNaN(R)||isNaN(se)||!Js(de))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(v,R,se,se,de)},m.setFont=function(v,R,se){return se&&(R=G(R,se)),St=SA(v,R,{disableWarning:!1}),this};var il=m.__private__.getFont=m.getFont=function(){return Vt[SA.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var v,R,se={};for(v in Zt)if(Zt.hasOwnProperty(v))for(R in se[v]=[],Zt[v])Zt[v].hasOwnProperty(R)&&se[v].push(R);return se},m.addFont=function(v,R,se,de,be){var Ue=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ue.indexOf(arguments[3])!==-1?be=arguments[3]:arguments[3]&&Ue.indexOf(arguments[3])==-1&&(se=G(se,de)),be=be||"Identity-H",tl.call(this,v,R,se,be)};var Yt,Al=t.lineWidth||.200025,_a=m.__private__.getLineWidth=m.getLineWidth=function(){return Al},al=m.__private__.setLineWidth=m.setLineWidth=function(v){return Al=v,te(Q(U(v))+" w"),this};m.__private__.setLineDash=pt.API.setLineDash=pt.API.setLineDashPattern=function(v,R){if(v=v||[],R=R||0,isNaN(R)||!Array.isArray(v))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return v=v.map(function(se){return Q(U(se))}).join(" "),R=Q(U(R)),te("["+v+"] "+R+" d"),this};var ol=m.__private__.getLineHeight=m.getLineHeight=function(){return Ie*Yt};m.__private__.getLineHeight=m.getLineHeight=function(){return Ie*Yt};var ll=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(v){return typeof(v=v||1.15)=="number"&&(Yt=v),this},FA=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return Yt};ll(t.lineHeight);var Ls=m.__private__.getHorizontalCoordinate=function(v){return U(v)},on=m.__private__.getVerticalCoordinate=function(v){return S===x.ADVANCED?v:De[q].mediaBox.topRightY-De[q].mediaBox.bottomLeftY-U(v)},cc=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(v){return Q(Ls(v))},eA=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(v){return Q(on(v))},wn=t.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return ps(wn)},m.__private__.setStrokeColor=m.setDrawColor=function(v,R,se,de){return wn=ts({ch1:v,ch2:R,ch3:se,ch4:de,pdfColorType:"draw",precision:2}),te(wn),this};var Ia=t.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return ps(Ia)},m.__private__.setFillColor=m.setFillColor=function(v,R,se,de){return Ia=ts({ch1:v,ch2:R,ch3:se,ch4:de,pdfColorType:"fill",precision:2}),te(Ia),this};var Bi=t.textColor||"0 g",Sa=m.__private__.getTextColor=m.getTextColor=function(){return ps(Bi)};m.__private__.setTextColor=m.setTextColor=function(v,R,se,de){return Bi=ts({ch1:v,ch2:R,ch3:se,ch4:de,pdfColorType:"text",precision:3}),this};var TA=t.charSpace,Na=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(TA||0)};m.__private__.setCharSpace=m.setCharSpace=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return TA=v,this};var cl=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(v){var R=m.CapJoinStyles[v];if(R===void 0)throw new Error("Line cap style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return cl=R,te(R+" J"),this};var Fa=0;m.__private__.setLineJoin=m.setLineJoin=function(v){var R=m.CapJoinStyles[v];if(R===void 0)throw new Error("Line join style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Fa=R,te(R+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(v){if(v=v||0,isNaN(v))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return te(Q(U(v))+" M"),this},m.GState=fg,m.setGState=function(v){(v=typeof v=="string"?Ar[Yr[v]]:tA(null,v)).equals(Qn)||(te("/"+v.id+" gs"),Qn=v)};var tA=function(v,R){if(!v||!Yr[v]){var se=!1;for(var de in Ar)if(Ar.hasOwnProperty(de)&&Ar[de].equals(R)){se=!0;break}if(se)R=Ar[de];else{var be="GS"+(Object.keys(Ar).length+1).toString(10);Ar[be]=R,R.id=be}return v&&(Yr[v]=R.id),We.publish("addGState",R),R}};m.addGState=function(v,R){return tA(v,R),this},m.saveGraphicsState=function(){return te("q"),es.push({key:St,size:Ie,color:Bi}),this},m.restoreGraphicsState=function(){te("Q");var v=es.pop();return St=v.key,Ie=v.size,Bi=v.color,Qn=null,this},m.setCurrentTransformationMatrix=function(v){return te(v.toString()+" cm"),this},m.comment=function(v){return te("#"+v),this};var kA=function(v,R){var se=v||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return se},set:function(Ue){isNaN(Ue)||(se=parseFloat(Ue))}});var de=R||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return de},set:function(Ue){isNaN(Ue)||(de=parseFloat(Ue))}});var be="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return be},set:function(Ue){be=Ue.toString()}}),this},Ta=function(v,R,se,de){kA.call(this,v,R),this.type="rect";var be=se||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return be},set:function(He){isNaN(He)||(be=parseFloat(He))}});var Ue=de||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ue},set:function(He){isNaN(He)||(Ue=parseFloat(He))}}),this},UA=function(){this.page=Qe,this.currentPage=q,this.pages=he.slice(0),this.pagesContext=De.slice(0),this.x=Cr,this.y=Qt,this.matrix=Un,this.width=rA(q),this.height=jn(q),this.outputDestination=pe,this.id="",this.objectNumber=-1};UA.prototype.restore=function(){Qe=this.page,q=this.currentPage,De=this.pagesContext,he=this.pages,Cr=this.x,Qt=this.y,Un=this.matrix,Ua(q,this.width),Qa(q,this.height),pe=this.outputDestination};var ka=function(v,R,se,de,be){Ut.push(new UA),Qe=q=0,he=[],Cr=v,Qt=R,Un=be,ns([se,de])},uc=function(v){if(ht[v])Ut.pop().restore();else{var R=new UA,se="Xo"+(Object.keys(kt).length+1).toString(10);R.id=se,ht[v]=se,kt[se]=R,We.publish("addFormObject",R),Ut.pop().restore()}};for(var bi in m.beginFormObject=function(v,R,se,de,be){return ka(v,R,se,de,be),this},m.endFormObject=function(v){return uc(v),this},m.doFormObject=function(v,R){var se=kt[ht[v]];return te("q"),te(R.toString()+" cm"),te("/"+se.id+" Do"),te("Q"),this},m.getFormObject=function(v){var R=kt[ht[v]];return{x:R.x,y:R.y,width:R.width,height:R.height,matrix:R.matrix}},m.save=function(v,R){return v=v||"generated.pdf",(R=R||{}).returnPromise=R.returnPromise||!1,R.returnPromise===!1?(xl(xa(yi()),v),typeof xl.unload=="function"&&mt.setTimeout&&setTimeout(xl.unload,911),this):new Promise(function(se,de){try{var be=xl(xa(yi()),v);typeof xl.unload=="function"&&mt.setTimeout&&setTimeout(xl.unload,911),se(be)}catch(Ue){de(Ue.message)}})},pt.API)pt.API.hasOwnProperty(bi)&&(bi==="events"&&pt.API.events.length?function(v,R){var se,de,be;for(be=R.length-1;be!==-1;be--)se=R[be][0],de=R[be][1],v.subscribe.apply(v,[se].concat(typeof de=="function"?[de]:de))}(We,pt.API.events):m[bi]=pt.API[bi]);var rA=m.getPageWidth=function(v){return(De[v=v||q].mediaBox.topRightX-De[v].mediaBox.bottomLeftX)/Ye},Ua=m.setPageWidth=function(v,R){De[v].mediaBox.topRightX=R*Ye+De[v].mediaBox.bottomLeftX},jn=m.getPageHeight=function(v){return(De[v=v||q].mediaBox.topRightY-De[v].mediaBox.bottomLeftY)/Ye},Qa=m.setPageHeight=function(v,R){De[v].mediaBox.topRightY=R*Ye+De[v].mediaBox.bottomLeftY};return m.internal={pdfEscape:Ur,getStyle:oc,getFont:il,getFontSize:ze,getCharSpace:Na,getTextColor:Sa,getLineHeight:ol,getLineHeightFactor:FA,getLineWidth:_a,write:ve,getHorizontalCoordinate:Ls,getVerticalCoordinate:on,getCoordinateString:cc,getVerticalCoordinateString:eA,collections:{},newObject:Dr,newAdditionalObject:ga,newObjectDeferred:kr,newObjectDeferredBegin:Xr,getFilters:rs,putStream:Rr,events:We,scaleFactor:Ye,pageSize:{getWidth:function(){return rA(q)},setWidth:function(v){Ua(q,v)},getHeight:function(){return jn(q)},setHeight:function(v){Qa(q,v)}},encryptionOptions:h,encryption:yr,getEncryptor:ac,output:Ba,getNumberOfPages:er,pages:he,out:te,f2:N,f3:E,getPageInfo:nl,getPageInfoByObjId:gt,getCurrentPageInfo:Zi,getPDFVersion:b,Point:kA,Rectangle:Ta,Matrix:Ze,hasHotfix:Xi},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return rA(q)},set:function(v){Ua(q,v)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return jn(q)},set:function(v){Qa(q,v)},enumerable:!0,configurable:!0}),ic.call(m,fe),St="F1",IA(s,r),We.publish("initialized"),m}Rc.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Rc.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Rc.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Rc.prototype.processOwnerPassword=function(t,e){return Jy(Yy(e).substr(0,5),t)},Rc.prototype.encryptor=function(t,e){var r=Yy(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return Jy(r,n)}},fg.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||nr(t)!==nr(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},pt.API={events:[]},pt.version="2.5.2";var Lr=pt.API,sx=1,ec=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},kc=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Et=function(t){return t.toFixed(2)},$a=function(t){return t.toFixed(5)};Lr.__acroform__={};var Fs=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},bC=function(t){return t*sx},oA=function(t){var e=new WN,r=At.internal.getHeight(t)||0,n=At.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Et(n)),Number(Et(r))],e},tV=Lr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},rV=Lr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},nV=Lr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Gr=Lr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return nV(t,e-1)},qr=Lr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return tV(t,e-1)},Wr=Lr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return rV(t,e-1)},sV=Lr.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,s=t[0],i=t[1],A=t[2],a=t[3],o={};return o.lowerLeft_X=r(s)||0,o.lowerLeft_Y=n(i+a)||0,o.upperRight_X=r(s+A)||0,o.upperRight_Y=n(i)||0,[Number(Et(o.lowerLeft_X)),Number(Et(o.lowerLeft_Y)),Number(Et(o.upperRight_X)),Number(Et(o.upperRight_Y))]},iV=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=Xy(t,r),s=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+s+" "+Et(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=oA(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},Xy=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=t.multiline?s.map(function(E){return E.split(`
`)}):s.map(function(E){return[E]});var i=r,A=At.internal.getHeight(t)||0;A=A<0?-A:A;var a=At.internal.getWidth(t)||0;a=a<0?-a:a;var o=function(E,U,I){if(E+1<s.length){var j=U+" "+s[E+1][0];return Lp(j,t,I).width<=a-4}return!1};i++;e:for(;i>0;){e="",i--;var c,h,f=Lp("3",t,i).height,g=t.multiline?A-i:(A-f)/2,m=g+=2,B=0,b=0,F=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+Lp(e,t,i=12).width+", FieldWidth:"+a+`
`;break}for(var y="",x=0,S=0;S<s.length;S++)if(s.hasOwnProperty(S)){var D=!1;if(s[S].length!==1&&F!==s[S].length-1){if((f+2)*(x+2)+2>A)continue e;y+=s[S][F],D=!0,b=S,S--}else{y=(y+=s[S][F]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var V=parseInt(S),G=o(V,y,i),Q=S>=s.length-1;if(G&&!Q){y+=" ",F=0;continue}if(G||Q){if(Q)b=V;else if(t.multiline&&(f+2)*(x+2)+2>A)continue e}else{if(!t.multiline||(f+2)*(x+2)+2>A)continue e;b=V}}for(var _="",k=B;k<=b;k++){var N=s[k];if(t.multiline){if(k===b){_+=N[F]+" ",F=(F+1)%N.length;continue}if(k===B){_+=N[N.length-1]+" ";continue}}_+=N[0]+" "}switch(_=_.substr(_.length-1)==" "?_.substr(0,_.length-1):_,h=Lp(_,t,i).width,t.textAlign){case"right":c=a-h-2;break;case"center":c=(a-h)/2;break;case"left":default:c=2}e+=Et(c)+" "+Et(m)+` Td
`,e+="("+ec(_)+`) Tj
`,e+=-Et(c)+` 0 Td
`,m=-(i+2),h=0,B=D?b:b+1,x++,y=""}break}return n.text=e,n.fontSize=i,n},Lp=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},AV={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},aV=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},oV=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var n=r,s=t[r];e.internal.newObjectDeferredBegin(s.objId,!0),nr(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete t[n]}},lV=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(zi.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(AV)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");sx=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new $N,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var i=n[s];i.objId=void 0,i.hasAnnotation&&aV(i,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,s){var i=!n;for(var A in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(A)){var a=n[A],o=[],c=a.Rect;if(a.Rect&&(a.Rect=sV(a.Rect,s)),s.internal.newObjectDeferredBegin(a.objId,!0),a.DA=At.createDefaultAppearanceStream(a),nr(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(o=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var h=iV(a);o.push({key:"AP",value:"<</N "+h+">>"}),s.internal.acroformPlugin.xForms.push(h)}if(a.appearanceStreamContent){var f="";for(var g in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(g)){var m=a.appearanceStreamContent[g];if(f+="/"+g+" ",f+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var A in m)if(m.hasOwnProperty(A)){var B=m[A];typeof B=="function"&&(B=B.call(s,a)),f+="/"+A+" "+B+" ",s.internal.acroformPlugin.xForms.indexOf(B)>=0||s.internal.acroformPlugin.xForms.push(B)}}else typeof(B=m)=="function"&&(B=B.call(s,a)),f+="/"+A+" "+B,s.internal.acroformPlugin.xForms.indexOf(B)>=0||s.internal.acroformPlugin.xForms.push(B);f+=">>"}o.push({key:"AP",value:`<<
`+f+">>"})}s.internal.putStream({additionalKeyValues:o,objectId:a.objId}),s.internal.out("endobj")}i&&oV(s.internal.acroformPlugin.xForms,s)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},qN=Lr.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(A){return A};if(Array.isArray(t)){for(var s="[",i=0;i<t.length;i++)switch(i!==0&&(s+=" "),nr(t[i])){case"boolean":case"number":case"object":s+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),s+="("+ec(n(t[i].toString()))+")"):s+=t[i].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},$1=function(t,e,r){var n=function(s){return s};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+ec(n(t))+")"},uA=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};uA.prototype.toString=function(){return this.objId+" 0 R"},uA.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},uA.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],s=this[n];s&&(Array.isArray(s)?t.push({key:n,value:qN(s,this.objId,this.scope)}):s instanceof uA?(s.scope=this.scope,t.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&t.push({key:n,value:s}))}return t};var WN=function(){uA.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Fs(WN,uA);var $N=function(){uA.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+ec(r(t))+")"}},set:function(r){t=r}})};Fs($N,uA);var zi=function t(){uA.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');e=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Gr(e,3)},set:function(y){y?this.F=qr(e,3):this.F=Wr(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');r=y}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(y){n=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(y){n[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(y){n[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(y){n[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(y){n[3]=y}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof pg)return;i="FieldObject"+t.FieldNum++}var y=function(x){return x};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+ec(y(i))+")"},set:function(y){i=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(y){i=y}});var A="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return A},set:function(y){A=y}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(y){a=y}});var o=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/sx:c},set:function(y){c=y}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(y){h=y}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof pg||this instanceof jl))return $1(f,this.objId,this.scope)},set:function(y){y=y.toString(),f=y}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof vn?g:$1(g,this.objId,this.scope)},set:function(y){y=y.toString(),g=this instanceof vn?y:y.substr(0,1)==="("?kc(y.substr(1,y.length-2)):kc(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof vn?kc(g.substr(1,g.length-1)):g},set:function(y){y=y.toString(),g=this instanceof vn?"/"+y:y}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof vn?m:$1(m,this.objId,this.scope)},set:function(y){y=y.toString(),m=this instanceof vn?y:y.substr(0,1)==="("?kc(y.substr(1,y.length-2)):kc(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof vn?kc(m.substr(1,m.length-1)):m},set:function(y){y=y.toString(),m=this instanceof vn?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var B,b=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return b},set:function(y){y=!!y,b=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(B)return B},set:function(y){B=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,1)},set:function(y){y?this.Ff=qr(this.Ff,1):this.Ff=Wr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,2)},set:function(y){y?this.Ff=qr(this.Ff,2):this.Ff=Wr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,3)},set:function(y){y?this.Ff=qr(this.Ff,3):this.Ff=Wr(this.Ff,3)}});var F=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(F!==null)return F},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');F=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(F){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:F=2;break;case"center":case 1:F=1;break;case"left":case 0:default:F=0}}})};Fs(zi,uA);var fu=function(){zi.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return qN(e,this.objId,this.scope)},set:function(r){var n,s;s=[],typeof(n=r)=="string"&&(s=function(i,A,a){a||(a=1);for(var o,c=[];o=A.exec(i);)c.push(o[a]);return c}(n,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,18)},set:function(r){r?this.Ff=qr(this.Ff,18):this.Ff=Wr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=qr(this.Ff,19):this.Ff=Wr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,20)},set:function(r){r?(this.Ff=qr(this.Ff,20),e.sort()):this.Ff=Wr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,22)},set:function(r){r?this.Ff=qr(this.Ff,22):this.Ff=Wr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,23)},set:function(r){r?this.Ff=qr(this.Ff,23):this.Ff=Wr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,27)},set:function(r){r?this.Ff=qr(this.Ff,27):this.Ff=Wr(this.Ff,27)}}),this.hasAppearanceStream=!1};Fs(fu,zi);var pu=function(){fu.call(this),this.fontName="helvetica",this.combo=!1};Fs(pu,fu);var mu=function(){pu.call(this),this.combo=!0};Fs(mu,pu);var lm=function(){mu.call(this),this.edit=!0};Fs(lm,mu);var vn=function(){zi.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,15)},set:function(r){r?this.Ff=qr(this.Ff,15):this.Ff=Wr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,16)},set:function(r){r?this.Ff=qr(this.Ff,16):this.Ff=Wr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,17)},set:function(r){r?this.Ff=qr(this.Ff,17):this.Ff=Wr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,26)},set:function(r){r?this.Ff=qr(this.Ff,26):this.Ff=Wr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,s=[];for(n in s.push("<<"),e)s.push("/"+n+" ("+ec(r(e[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(r){nr(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Fs(vn,zi);var cm=function(){vn.call(this),this.pushButton=!0};Fs(cm,vn);var gu=function(){vn.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Fs(gu,vn);var pg=function(){var t,e;zi.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(a){return a};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,A=[];for(i in A.push("<<"),n)A.push("/"+i+" ("+ec(s(n[i]))+")");return A.push(">>"),A.join(`
`)},set:function(s){nr(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(s){r="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=At.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Fs(pg,zi),gu.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},gu.prototype.createOption=function(t){var e=new pg;return e.Parent=this,e.optionName=t,this.Kids.push(e),cV.call(this.scope,e),e};var um=function(){vn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=At.CheckBox.createAppearanceStream()};Fs(um,vn);var jl=function(){zi.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,13)},set:function(e){e?this.Ff=qr(this.Ff,13):this.Ff=Wr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,21)},set:function(e){e?this.Ff=qr(this.Ff,21):this.Ff=Wr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,23)},set:function(e){e?this.Ff=qr(this.Ff,23):this.Ff=Wr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,24)},set:function(e){e?this.Ff=qr(this.Ff,24):this.Ff=Wr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,25)},set:function(e){e?this.Ff=qr(this.Ff,25):this.Ff=Wr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,26)},set:function(e){e?this.Ff=qr(this.Ff,26):this.Ff=Wr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Fs(jl,zi);var dm=function(){jl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,14)},set:function(t){t?this.Ff=qr(this.Ff,14):this.Ff=Wr(this.Ff,14)}}),this.password=!0};Fs(dm,jl);var At={CheckBox:{createAppearanceStream:function(){return{N:{On:At.CheckBox.YesNormal},D:{On:At.CheckBox.YesPushDown,Off:At.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=oA(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color),i=Xy(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Et(At.internal.getWidth(t))+" "+Et(At.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Et(i.fontSize)+" Tf "+s),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=oA(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),s=[],i=At.internal.getHeight(t),A=At.internal.getWidth(t),a=Xy(t,t.caption);return s.push("1 g"),s.push("0 0 "+Et(A)+" "+Et(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Et(A-1)+" "+Et(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+Et(a.fontSize)+" Tf "+n),s.push(a.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(t){var e=oA(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Et(At.internal.getWidth(t))+" "+Et(At.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:At.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=At.RadioButton.Circle.YesNormal,e.D[t]=At.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=oA(t);e.scope=t.scope;var r=[],n=At.internal.getWidth(t)<=At.internal.getHeight(t)?At.internal.getWidth(t)/4:At.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=At.internal.Bezier_C,i=Number((n*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+$a(At.internal.getWidth(t)/2)+" "+$a(At.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=oA(t);e.scope=t.scope;var r=[],n=At.internal.getWidth(t)<=At.internal.getHeight(t)?At.internal.getWidth(t)/4:At.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*At.internal.Bezier_C).toFixed(5)),A=Number((n*At.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+$a(At.internal.getWidth(t)/2)+" "+$a(At.internal.getHeight(t)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+$a(At.internal.getWidth(t)/2)+" "+$a(At.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+A+" "+A+" "+n+" 0 "+n+" c"),r.push("-"+A+" "+n+" -"+n+" "+A+" -"+n+" 0 c"),r.push("-"+n+" -"+A+" -"+A+" -"+n+" 0 -"+n+" c"),r.push(A+" -"+n+" "+n+" -"+A+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=oA(t);e.scope=t.scope;var r=[],n=At.internal.getWidth(t)<=At.internal.getHeight(t)?At.internal.getWidth(t)/4:At.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*At.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+$a(At.internal.getWidth(t)/2)+" "+$a(At.internal.getHeight(t)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:At.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=At.RadioButton.Cross.YesNormal,e.D[t]=At.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=oA(t);e.scope=t.scope;var r=[],n=At.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Et(At.internal.getWidth(t)-2)+" "+Et(At.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Et(n.x1.x)+" "+Et(n.x1.y)+" m"),r.push(Et(n.x2.x)+" "+Et(n.x2.y)+" l"),r.push(Et(n.x4.x)+" "+Et(n.x4.y)+" m"),r.push(Et(n.x3.x)+" "+Et(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=oA(t);e.scope=t.scope;var r=At.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+Et(At.internal.getWidth(t))+" "+Et(At.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Et(At.internal.getWidth(t)-2)+" "+Et(At.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Et(r.x1.x)+" "+Et(r.x1.y)+" m"),n.push(Et(r.x2.x)+" "+Et(r.x2.y)+" l"),n.push(Et(r.x4.x)+" "+Et(r.x4.y)+" m"),n.push(Et(r.x3.x)+" "+Et(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=oA(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Et(At.internal.getWidth(t))+" "+Et(At.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};At.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=At.internal.getWidth(t),r=At.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},At.internal.getWidth=function(t){var e=0;return nr(t)==="object"&&(e=bC(t.Rect[2])),e},At.internal.getHeight=function(t){var e=0;return nr(t)==="object"&&(e=bC(t.Rect[3])),e};var cV=Lr.addField=function(t){if(lV(this,t),!(t instanceof zi))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Lr.AcroFormChoiceField=fu,Lr.AcroFormListBox=pu,Lr.AcroFormComboBox=mu,Lr.AcroFormEditBox=lm,Lr.AcroFormButton=vn,Lr.AcroFormPushButton=cm,Lr.AcroFormRadioButton=gu,Lr.AcroFormCheckBox=um,Lr.AcroFormTextField=jl,Lr.AcroFormPasswordField=dm,Lr.AcroFormAppearance=At,Lr.AcroForm={ChoiceField:fu,ListBox:pu,ComboBox:mu,EditBox:lm,Button:vn,PushButton:cm,RadioButton:gu,CheckBox:um,TextField:jl,PasswordField:dm,Appearance:At},pt.AcroForm={ChoiceField:fu,ListBox:pu,ComboBox:mu,EditBox:lm,Button:vn,PushButton:cm,RadioButton:gu,CheckBox:um,TextField:jl,PasswordField:dm,Appearance:At};function YN(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(E,U){var I,j,$,ae,ne,ee=e;if((U=U||e)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(G(E))for(ne in r)for($=r[ne],I=0;I<$.length;I+=1){for(ae=!0,j=0;j<$[I].length;j+=1)if($[I][j]!==void 0&&$[I][j]!==E[j]){ae=!1;break}if(ae===!0){ee=ne;break}}else for(ne in r)for($=r[ne],I=0;I<$.length;I+=1){for(ae=!0,j=0;j<$[I].length;j+=1)if($[I][j]!==void 0&&$[I][j]!==E.charCodeAt(j)){ae=!1;break}if(ae===!0){ee=ne;break}}return ee===e&&U!==e&&(ee=U),ee},s=function E(U){for(var I=this.internal.write,j=this.internal.putStream,$=(0,this.internal.getFilters)();$.indexOf("FlateEncode")!==-1;)$.splice($.indexOf("FlateEncode"),1);U.objectId=this.internal.newObject();var ae=[];if(ae.push({key:"Type",value:"/XObject"}),ae.push({key:"Subtype",value:"/Image"}),ae.push({key:"Width",value:U.width}),ae.push({key:"Height",value:U.height}),U.colorSpace===F.INDEXED?ae.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(U.palette.length/3-1)+" "+("sMask"in U&&U.sMask!==void 0?U.objectId+2:U.objectId+1)+" 0 R]"}):(ae.push({key:"ColorSpace",value:"/"+U.colorSpace}),U.colorSpace===F.DEVICE_CMYK&&ae.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ae.push({key:"BitsPerComponent",value:U.bitsPerComponent}),"decodeParameters"in U&&U.decodeParameters!==void 0&&ae.push({key:"DecodeParms",value:"<<"+U.decodeParameters+">>"}),"transparency"in U&&Array.isArray(U.transparency)){for(var ne="",ee=0,ce=U.transparency.length;ee<ce;ee++)ne+=U.transparency[ee]+" "+U.transparency[ee]+" ";ae.push({key:"Mask",value:"["+ne+"]"})}U.sMask!==void 0&&ae.push({key:"SMask",value:U.objectId+1+" 0 R"});var ye=U.filter!==void 0?["/"+U.filter]:void 0;if(j({data:U.data,additionalKeyValues:ae,alreadyAppliedFilters:ye,objectId:U.objectId}),I("endobj"),"sMask"in U&&U.sMask!==void 0){var _e="/Predictor "+U.predictor+" /Colors 1 /BitsPerComponent "+U.bitsPerComponent+" /Columns "+U.width,P={width:U.width,height:U.height,colorSpace:"DeviceGray",bitsPerComponent:U.bitsPerComponent,decodeParameters:_e,data:U.sMask};"filter"in U&&(P.filter=U.filter),E.call(this,P)}if(U.colorSpace===F.INDEXED){var q=this.internal.newObject();j({data:_(new Uint8Array(U.palette)),objectId:q}),I("endobj")}},i=function(){var E=this.internal.collections.addImage_images;for(var U in E)s.call(this,E[U])},A=function(){var E,U=this.internal.collections.addImage_images,I=this.internal.write;for(var j in U)I("/I"+(E=U[j]).index,E.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",A))},o=function(){var E=this.internal.collections.addImage_images;return a.call(this),E},c=function(){return Object.keys(this.internal.collections.addImage_images).length},h=function(E){return typeof t["process"+E.toUpperCase()]=="function"},f=function(E){return nr(E)==="object"&&E.nodeType===1},g=function(E,U){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var I=""+E.getAttribute("src");if(I.indexOf("data:image/")===0)return ch(unescape(I).split("base64,").pop());var j=t.loadFile(I,!0);if(j!==void 0)return j}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var $;switch(U){case"PNG":$="image/png";break;case"WEBP":$="image/webp";break;case"JPEG":case"JPG":default:$="image/jpeg"}return ch(E.toDataURL($,1).split("base64,").pop())}},m=function(E){var U=this.internal.collections.addImage_images;if(U){for(var I in U)if(E===U[I].alias)return U[I]}},B=function(E,U,I){return E||U||(E=-96,U=-96),E<0&&(E=-1*I.width*72/E/this.internal.scaleFactor),U<0&&(U=-1*I.height*72/U/this.internal.scaleFactor),E===0&&(E=U*I.width/I.height),U===0&&(U=E*I.height/I.width),[E,U]},b=function(E,U,I,j,$,ae){var ne=B.call(this,I,j,$),ee=this.internal.getCoordinateString,ce=this.internal.getVerticalCoordinateString,ye=o.call(this);if(I=ne[0],j=ne[1],ye[$.index]=$,ae){ae*=Math.PI/180;var _e=Math.cos(ae),P=Math.sin(ae),q=function(Y){return Y.toFixed(4)},Z=[q(_e),q(P),q(-1*P),q(_e),0,0,"cm"]}this.internal.write("q"),ae?(this.internal.write([1,"0","0",1,ee(E),ce(U+j),"cm"].join(" ")),this.internal.write(Z.join(" ")),this.internal.write([ee(I),"0","0",ee(j),"0","0","cm"].join(" "))):this.internal.write([ee(I),"0","0",ee(j),ee(E),ce(U+j),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+$.index+" Do"),this.internal.write("Q")},F=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},x=t.__addimage__.sHashCode=function(E){var U,I,j=0;if(typeof E=="string")for(I=E.length,U=0;U<I;U++)j=(j<<5)-j+E.charCodeAt(U),j|=0;else if(G(E))for(I=E.byteLength/2,U=0;U<I;U++)j=(j<<5)-j+E[U],j|=0;return j},S=t.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var U=!0;return E.length===0&&(U=!1),E.length%4!=0&&(U=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(U=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(U=!1),U},D=t.__addimage__.extractImageFromDataUrl=function(E){var U=(E=E||"").split("base64,"),I=null;if(U.length===2){var j=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(U[0]);Array.isArray(j)&&(I={mimeType:j[1],charset:j[2],data:U[1]})}return I},V=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(E){return V()&&E instanceof ArrayBuffer};var G=t.__addimage__.isArrayBufferView=function(E){return V()&&typeof Uint32Array<"u"&&(E instanceof Int8Array||E instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array)},Q=t.__addimage__.binaryStringToUint8Array=function(E){for(var U=E.length,I=new Uint8Array(U),j=0;j<U;j++)I[j]=E.charCodeAt(j);return I},_=t.__addimage__.arrayBufferToBinaryString=function(E){for(var U="",I=G(E)?E:new Uint8Array(E),j=0;j<I.length;j+=8192)U+=String.fromCharCode.apply(null,I.subarray(j,j+8192));return U};t.addImage=function(){var E,U,I,j,$,ae,ne,ee,ce;if(typeof arguments[1]=="number"?(U=e,I=arguments[1],j=arguments[2],$=arguments[3],ae=arguments[4],ne=arguments[5],ee=arguments[6],ce=arguments[7]):(U=arguments[1],I=arguments[2],j=arguments[3],$=arguments[4],ae=arguments[5],ne=arguments[6],ee=arguments[7],ce=arguments[8]),nr(E=arguments[0])==="object"&&!f(E)&&"imageData"in E){var ye=E;E=ye.imageData,U=ye.format||U||e,I=ye.x||I||0,j=ye.y||j||0,$=ye.w||ye.width||$,ae=ye.h||ye.height||ae,ne=ye.alias||ne,ee=ye.compression||ee,ce=ye.rotation||ye.angle||ce}var _e=this.internal.getFilters();if(ee===void 0&&_e.indexOf("FlateEncode")!==-1&&(ee="SLOW"),isNaN(I)||isNaN(j))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var P=k.call(this,E,U,ne,ee);return b.call(this,I,j,$,ae,P,ce),this};var k=function(E,U,I,j){var $,ae,ne;if(typeof E=="string"&&n(E)===e){E=unescape(E);var ee=N(E,!1);(ee!==""||(ee=t.loadFile(E,!0))!==void 0)&&(E=ee)}if(f(E)&&(E=g(E,U)),U=n(E,U),!h(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(((ne=I)==null||ne.length===0)&&(I=function(ce){return typeof ce=="string"||G(ce)?x(ce):G(ce.data)?x(ce.data):null}(E)),($=m.call(this,I))||(V()&&(E instanceof Uint8Array||U==="RGBA"||(ae=E,E=Q(E))),$=this["process"+U.toUpperCase()](E,c.call(this),I,function(ce){return ce&&typeof ce=="string"&&(ce=ce.toUpperCase()),ce in t.image_compression?ce:y.NONE}(j),ae)),!$)throw new Error("An unknown error occurred whilst processing the image.");return $},N=t.__addimage__.convertBase64ToBinaryString=function(E,U){var I;U=typeof U!="boolean"||U;var j,$="";if(typeof E=="string"){j=(I=D(E))!==null?I.data:E;try{$=ch(j)}catch(ae){if(U)throw S(j)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ae.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return $};t.getImageProperties=function(E){var U,I,j="";if(f(E)&&(E=g(E)),typeof E=="string"&&n(E)===e&&((j=N(E,!1))===""&&(j=t.loadFile(E)||""),E=j),I=n(E),!h(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(!V()||E instanceof Uint8Array||(E=Q(E)),!(U=this["process"+I.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return U.fileType=I,U}})(pt.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};pt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,s,i,A=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,o=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,h=!1,f=0;f<c.length&&!h;f++)switch((n=c[f]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var g=0;g<c.length;g++){n=c[g];var m=this.internal.pdfEscape,B=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var b=this.internal.newAdditionalObject(),F=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(b.objId),x=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+A(n.bounds.x)+" "+a(n.bounds.y+n.bounds.h)+" "+A(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y)+"] ")+"/Contents ("+m(y(n.contents))+")",i+=" /Popup "+F.objId+" 0 R",i+=" /P "+o.objId+" 0 R",i+=" /T ("+m(y(x))+") >>",b.content=i;var S=b.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+A(n.bounds.x+30)+" "+a(n.bounds.y+n.bounds.h)+" "+A(n.bounds.x+n.bounds.w+30)+" "+a(n.bounds.y)+"] ")+" /Parent "+S,n.open&&(i+=" /Open true"),i+=" >>",F.content=i,this.internal.write(b.objId,"0 R",F.objId,"0 R");break;case"freetext":s="/Rect ["+A(n.bounds.x)+" "+a(n.bounds.y)+" "+A(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y+n.bounds.h)+"] ";var D=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+m(B(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+D+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var V=this.annotations._nameMap[n.options.name];n.options.pageNumber=V.page,n.options.top=V.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+m(B(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var G=a(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+G+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,s,i,A){var a=this.internal.getCurrentPageInfo(),o=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:o(r),y:c(n),w:o(r+s),h:c(n+i)},options:A,type:"link"})},t.textWithLink=function(r,n,s,i){var A,a,o=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){a=i.maxWidth;var h=this.splitTextToSize(r,a).length;A=Math.ceil(c*h)}else a=o,A=c;return this.text(r,n,s,i),s+=.2*c,i.align==="center"&&(n-=o/2),i.align==="right"&&(n-=o),this.link(n,s-c,a,A,i),o},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(pt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(b){return e[b.charCodeAt(0)]!==void 0},A=t.__arabicParser__.isArabicLetter=function(b){return typeof b=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(b)},a=t.__arabicParser__.isArabicEndLetter=function(b){return A(b)&&i(b)&&e[b.charCodeAt(0)].length<=2},o=t.__arabicParser__.isArabicAlfLetter=function(b){return A(b)&&s.indexOf(b.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(b){return A(b)&&i(b)&&e[b.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(b){return A(b)&&i(b)&&e[b.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(b){return A(b)&&i(b)&&e[b.charCodeAt(0)].length>=3};var h=t.__arabicParser__.arabicLetterHasMedialForm=function(b){return A(b)&&i(b)&&e[b.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(b){var F=0,y=r,x="",S=0;for(F=0;F<b.length;F+=1)y[b.charCodeAt(F)]!==void 0?(S++,typeof(y=y[b.charCodeAt(F)])=="number"&&(x+=String.fromCharCode(y),y=r,S=0),F===b.length-1&&(y=r,x+=b.charAt(F-(S-1)),F-=S-1,S=0)):(y=r,x+=b.charAt(F-S),F-=S,S=0);return x};t.__arabicParser__.isArabicDiacritic=function(b){return b!==void 0&&n[b.charCodeAt(0)]!==void 0};var g=t.__arabicParser__.getCorrectForm=function(b,F,y){return A(b)?i(b)===!1?-1:!c(b)||!A(F)&&!A(y)||!A(y)&&a(F)||a(b)&&!A(F)||a(b)&&o(F)||a(b)&&a(F)?0:h(b)&&A(F)&&!a(F)&&A(y)&&c(y)?3:a(b)||!A(y)?1:2:-1},m=function(b){var F=0,y=0,x=0,S="",D="",V="",G=(b=b||"").split("\\s+"),Q=[];for(F=0;F<G.length;F+=1){for(Q.push(""),y=0;y<G[F].length;y+=1)S=G[F][y],D=G[F][y-1],V=G[F][y+1],A(S)?(x=g(S,D,V),Q[F]+=x!==-1?String.fromCharCode(e[S.charCodeAt(0)][x]):S):Q[F]+=S;Q[F]=f(Q[F])}return Q.join(" ")},B=t.__arabicParser__.processArabic=t.processArabic=function(){var b,F=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(F)){var x=0;for(y=[],x=0;x<F.length;x+=1)Array.isArray(F[x])?y.push([m(F[x][0]),F[x][1],F[x][2]]):y.push([m(F[x])]);b=y}else b=m(F);return typeof arguments[0]=="string"?b:(arguments[0].text=b,arguments[0])};t.events.push(["preProcessText",B])}(pt.API),pt.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(a){r=a}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(a){n=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(a){s=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(a){i=a}});var A={};Object.defineProperty(this,"style",{get:function(){return A},set:function(a){A=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var s;if((r=r||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(pt.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var o=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return o},set:function(b){o=b}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(b){c=b}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(b){h=b}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(b){f=b}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(b){g=b}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(b){m=b}});var B=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return B},set:function(b){B=b}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(o){return n.call(this),this.internal.__cell__.headerFunction=typeof o=="function"?o:void 0,this},t.getTextDimensions=function(o,c){n.call(this);var h=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),g=c.scaleFactor||this.internal.scaleFactor,m=0,B=0,b=0,F=this;if(!Array.isArray(o)&&typeof o!="string"){if(typeof o!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");o=String(o)}var y=c.maxWidth;y>0?typeof o=="string"?o=this.splitTextToSize(o,y):Object.prototype.toString.call(o)==="[object Array]"&&(o=o.reduce(function(S,D){return S.concat(F.splitTextToSize(D,y))},[])):o=Array.isArray(o)?o:[o];for(var x=0;x<o.length;x++)m<(b=this.getStringUnitWidth(o[x],{font:f})*h)&&(m=b);return m!==0&&(B=o.length),{w:m/=g,h:Math.max((B*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/g,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var o=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(o.left,o.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var A=t.cell=function(){var o;o=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===o.lineNumber?(o.x=(c.x||0)+(c.width||0),o.y=c.y||0):c.y+c.height+o.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),o.y=f.top,m&&g&&(this.printHeaderRow(o.lineNumber,!0),o.y+=g[0].height)):o.y=c.y+c.height||o.y),o.text[0]!==void 0&&(this.rect(o.x,o.y,o.width,o.height,r===!0?"FD":void 0),o.align==="right"?this.text(o.text,o.x+o.width-h,o.y+h,{align:"right",baseline:"top"}):o.align==="center"?this.text(o.text,o.x+o.width/2,o.y+h,{align:"center",baseline:"top",maxWidth:o.width-h-h}):this.text(o.text,o.x+h,o.y+h,{align:"left",baseline:"top",maxWidth:o.width-h-h})),this.internal.__cell__.lastCell=o,this};t.table=function(o,c,h,f,g){if(n.call(this),!h)throw new Error("No data for PDF table.");var m,B,b,F,y=[],x=[],S=[],D={},V={},G=[],Q=[],_=(g=g||{}).autoSize||!1,k=g.printHeaders!==!1,N=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,E=g.margins||Object.assign({width:this.getPageWidth()},e),U=typeof g.padding=="number"?g.padding:3,I=g.headerBackgroundColor||"#c8c8c8",j=g.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=k,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=N,this.internal.__cell__.padding=U,this.internal.__cell__.headerBackgroundColor=I,this.internal.__cell__.headerTextColor=j,this.setFontSize(N),f==null)x=y=Object.keys(h[0]),S=y.map(function(){return"left"});else if(Array.isArray(f)&&nr(f[0])==="object")for(y=f.map(function(ye){return ye.name}),x=f.map(function(ye){return ye.prompt||ye.name||""}),S=f.map(function(ye){return ye.align||"left"}),m=0;m<f.length;m+=1)V[f[m].name]=f[m].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(x=y=f,S=y.map(function(){return"left"}));if(_||Array.isArray(f)&&typeof f[0]=="string")for(m=0;m<y.length;m+=1){for(D[F=y[m]]=h.map(function(ye){return ye[F]}),this.setFont(void 0,"bold"),G.push(this.getTextDimensions(x[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),B=D[F],this.setFont(void 0,"normal"),b=0;b<B.length;b+=1)G.push(this.getTextDimensions(B[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);V[F]=Math.max.apply(null,G)+U+U,G=[]}if(k){var $={};for(m=0;m<y.length;m+=1)$[y[m]]={},$[y[m]].text=x[m],$[y[m]].align=S[m];var ae=a.call(this,$,V);Q=y.map(function(ye){return new i(o,c,V[ye],ae,$[ye].text,void 0,$[ye].align)}),this.setTableHeaderRow(Q),this.printHeaderRow(1,!1)}var ne=f.reduce(function(ye,_e){return ye[_e.name]=_e.align,ye},{});for(m=0;m<h.length;m+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:m,data:h[m]},this);var ee=a.call(this,h[m],V);for(b=0;b<y.length;b+=1){var ce=h[m][y[b]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:m,col:b,data:ce},this),A.call(this,new i(o,c,V[y[b]],ee,ce,m+2,ne[y[b]]))}}return this.internal.__cell__.table_x=o,this.internal.__cell__.table_y=c,this};var a=function(o,c){var h=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(o).map(function(m){var B=o[m];return this.splitTextToSize(B.hasOwnProperty("text")?B.text:B,c[m]-h-h)},this).map(function(m){return this.getLineHeightFactor()*m.length*f/g+h+h},this).reduce(function(m,B){return Math.max(m,B)},0)};t.setTableHeaderRow=function(o){n.call(this),this.internal.__cell__.tableHeaderRow=o},t.printHeaderRow=function(o,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){h=this.internal.__cell__.tableHeaderRow[m].clone(),c&&(h.y=this.internal.__cell__.margins.top||0,g.push(h)),h.lineNumber=o;var B=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),A.call(this,h),this.setTextColor(B)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),r=!1}}(pt.API);var JN={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},XN=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Zy=YN(XN),ZN=[100,200,300,400,500,600,700,800,900],uV=YN(ZN);function ew(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return JN[i=i||"normal"]?i:"normal"}(t.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(t.weight),s=function(i){return typeof Zy[i=i||"normal"]=="number"?i:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:s,src:t.src||[],ref:t.ref||{name:e,style:[s,r,n].join(" ")}}}function CC(t,e,r,n){var s;for(s=r;s>=0&&s<e.length;s+=n)if(t[e[s]])return t[e[s]];for(s=r;s>=0&&s<e.length;s-=n)if(t[e[s]])return t[e[s]]}var dV={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},EC={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function _C(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function hV(t,e,r){for(var n=(r=r||{}).defaultFontFamily||"times",s=Object.assign({},dV,r.genericFontFamilies||{}),i=null,A=null,a=0;a<e.length;++a)if(s[(i=ew(e[a])).family]&&(i.family=s[i.family]),t.hasOwnProperty(i.family)){A=t[i.family];break}if(!(A=A||t[n]))throw new Error("Could not find a font-family for the rule '"+_C(i)+"' and default family '"+n+"'.");if(A=function(o,c){if(c[o])return c[o];var h=Zy[o],f=h<=Zy.normal?-1:1,g=CC(c,XN,h,f);if(!g)throw new Error("Could not find a matching font-stretch value for "+o);return g}(i.stretch,A),A=function(o,c){if(c[o])return c[o];for(var h=JN[o],f=0;f<h.length;++f)if(c[h[f]])return c[h[f]];throw new Error("Could not find a matching font-style for "+o)}(i.style,A),!(A=function(o,c){if(c[o])return c[o];if(o===400&&c[500])return c[500];if(o===500&&c[400])return c[400];var h=uV[o],f=CC(c,ZN,h,o<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+o);return f}(i.weight,A)))throw new Error("Failed to resolve a font for the rule '"+_C(i)+"'.");return A}function IC(t){return t.trimLeft()}function fV(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function pV(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var jp,SC,NC,Y1=["times"];(function(t){var e,r,n,s,i,A,a,o,c,h=function(P){return P=P||{},this.isStrokeTransparent=P.isStrokeTransparent||!1,this.strokeOpacity=P.strokeOpacity||1,this.strokeStyle=P.strokeStyle||"#000000",this.fillStyle=P.fillStyle||"#000000",this.isFillTransparent=P.isFillTransparent||!1,this.fillOpacity=P.fillOpacity||1,this.font=P.font||"10px sans-serif",this.textBaseline=P.textBaseline||"alphabetic",this.textAlign=P.textAlign||"left",this.lineWidth=P.lineWidth||1,this.lineJoin=P.lineJoin||"miter",this.lineCap=P.lineCap||"butt",this.path=P.path||[],this.transform=P.transform!==void 0?P.transform.clone():new o,this.globalCompositeOperation=P.globalCompositeOperation||"normal",this.globalAlpha=P.globalAlpha||1,this.clip_path=P.clip_path||[],this.currentPoint=P.currentPoint||new A,this.miterLimit=P.miterLimit||10,this.lastPoint=P.lastPoint||new A,this.lineDashOffset=P.lineDashOffset||0,this.lineDash=P.lineDash||[],this.margin=P.margin||[0,0,0,0],this.prevPageLastElemOffset=P.prevPageLastElemOffset||0,this.ignoreClearRect=typeof P.ignoreClearRect!="boolean"||P.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,A=this.internal.Point,a=this.internal.Rectangle,o=this.internal.Matrix,c=new h}]);var f=function(P){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=P;Object.defineProperty(this,"pdf",{get:function(){return q}});var Z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Z},set:function(we){Z=!!we}});var Y=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Y},set:function(we){Y=!!we}});var X=0;Object.defineProperty(this,"posX",{get:function(){return X},set:function(we){isNaN(we)||(X=we)}});var J=0;Object.defineProperty(this,"posY",{get:function(){return J},set:function(we){isNaN(we)||(J=we)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(we){var te;typeof we=="number"?te=[we,we,we,we]:((te=new Array(4))[0]=we[0],te[1]=we.length>=2?we[1]:te[0],te[2]=we.length>=3?we[2]:te[0],te[3]=we.length>=4?we[3]:te[1]),c.margin=te}});var Ae=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ae},set:function(we){Ae=we}});var le=0;Object.defineProperty(this,"lastBreak",{get:function(){return le},set:function(we){le=we}});var oe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return oe},set:function(we){oe=we}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(we){we instanceof h&&(c=we)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(we){c.path=we}});var he=[];Object.defineProperty(this,"ctxStack",{get:function(){return he},set:function(we){he=we}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(we){var te;te=g(we),this.ctx.fillStyle=te.style,this.ctx.isFillTransparent=te.a===0,this.ctx.fillOpacity=te.a,this.pdf.setFillColor(te.r,te.g,te.b,{a:te.a}),this.pdf.setTextColor(te.r,te.g,te.b,{a:te.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(we){var te=g(we);this.ctx.strokeStyle=te.style,this.ctx.isStrokeTransparent=te.a===0,this.ctx.strokeOpacity=te.a,te.a===0?this.pdf.setDrawColor(255,255,255):(te.a,this.pdf.setDrawColor(te.r,te.g,te.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(we){["butt","round","square"].indexOf(we)!==-1&&(this.ctx.lineCap=we,this.pdf.setLineCap(we))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(we){isNaN(we)||(this.ctx.lineWidth=we,this.pdf.setLineWidth(we))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(we){["bevel","round","miter"].indexOf(we)!==-1&&(this.ctx.lineJoin=we,this.pdf.setLineJoin(we))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(we){isNaN(we)||(this.ctx.miterLimit=we,this.pdf.setMiterLimit(we))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(we){this.ctx.textBaseline=we}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(we){["right","end","center","left","start"].indexOf(we)!==-1&&(this.ctx.textAlign=we)}});var Ee=null;function pe(we,te){if(Ee===null){var ve=function(ie){var fe=[];return Object.keys(ie).forEach(function(Ie){ie[Ie].forEach(function(Ve){var ze=null;switch(Ve){case"bold":ze={family:Ie,weight:"bold"};break;case"italic":ze={family:Ie,style:"italic"};break;case"bolditalic":ze={family:Ie,weight:"bold",style:"italic"};break;case"":case"normal":ze={family:Ie}}ze!==null&&(ze.ref={name:Ie,style:Ve},fe.push(ze))})}),fe}(we.getFontList());Ee=function(ie){for(var fe={},Ie=0;Ie<ie.length;++Ie){var Ve=ew(ie[Ie]),ze=Ve.family,tt=Ve.stretch,lt=Ve.style,wt=Ve.weight;fe[ze]=fe[ze]||{},fe[ze][tt]=fe[ze][tt]||{},fe[ze][tt][lt]=fe[ze][tt][lt]||{},fe[ze][tt][lt][wt]=Ve}return fe}(ve.concat(te))}return Ee}var Te=null;Object.defineProperty(this,"fontFaces",{get:function(){return Te},set:function(we){Ee=null,Te=we}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(we){var te;if(this.ctx.font=we,(te=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(we))!==null){var ve=te[1],ie=(te[2],te[3]),fe=te[4],Ie=(te[5],te[6]),Ve=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(fe)[2];fe=Math.floor(Ve==="px"?parseFloat(fe)*this.pdf.internal.scaleFactor:Ve==="em"?parseFloat(fe)*this.pdf.getFontSize():parseFloat(fe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(fe);var ze=function(ut){var St,Ye,Cr=[],Qt=ut.trim();if(Qt==="")return Y1;if(Qt in EC)return[EC[Qt]];for(;Qt!=="";){switch(Ye=null,St=(Qt=IC(Qt)).charAt(0)){case'"':case"'":Ye=fV(Qt.substring(1),St);break;default:Ye=pV(Qt)}if(Ye===null||(Cr.push(Ye[0]),(Qt=IC(Ye[1]))!==""&&Qt.charAt(0)!==","))return Y1;Qt=Qt.replace(/^,/,"")}return Cr}(Ie);if(this.fontFaces){var tt=hV(pe(this.pdf,this.fontFaces),ze.map(function(ut){return{family:ut,stretch:"normal",weight:ie,style:ve}}));this.pdf.setFont(tt.ref.name,tt.ref.style)}else{var lt="";(ie==="bold"||parseInt(ie,10)>=700||ve==="bold")&&(lt="bold"),ve==="italic"&&(lt+="italic"),lt.length===0&&(lt="normal");for(var wt="",ot={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},dt=0;dt<ze.length;dt++){if(this.pdf.internal.getFont(ze[dt],lt,{noFallback:!0,disableWarning:!0})!==void 0){wt=ze[dt];break}if(lt==="bolditalic"&&this.pdf.internal.getFont(ze[dt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)wt=ze[dt],lt="bold";else if(this.pdf.internal.getFont(ze[dt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){wt=ze[dt],lt="normal";break}}if(wt===""){for(var Pt=0;Pt<ze.length;Pt++)if(ot[ze[Pt]]){wt=ot[ze[Pt]];break}}wt=wt===""?"Times":wt,this.pdf.setFont(wt,lt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(we){this.ctx.globalCompositeOperation=we}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(we){this.ctx.globalAlpha=we}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(we){this.ctx.lineDashOffset=we,_e.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(we){this.ctx.lineDash=we,_e.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(we){this.ctx.ignoreClearRect=!!we}})};f.prototype.setLineDash=function(P){this.lineDash=P},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){D.call(this,"fill",!1)},f.prototype.stroke=function(){D.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(P,q){if(isNaN(P)||isNaN(q))throw ur.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Z=this.ctx.transform.applyToPoint(new A(P,q));this.path.push({type:"mt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new A(P,q)},f.prototype.closePath=function(){var P=new A(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&nr(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){P=new A(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new A(P.x,P.y)},f.prototype.lineTo=function(P,q){if(isNaN(P)||isNaN(q))throw ur.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Z=this.ctx.transform.applyToPoint(new A(P,q));this.path.push({type:"lt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new A(Z.x,Z.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),D.call(this,null,!0)},f.prototype.quadraticCurveTo=function(P,q,Z,Y){if(isNaN(Z)||isNaN(Y)||isNaN(P)||isNaN(q))throw ur.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var X=this.ctx.transform.applyToPoint(new A(Z,Y)),J=this.ctx.transform.applyToPoint(new A(P,q));this.path.push({type:"qct",x1:J.x,y1:J.y,x:X.x,y:X.y}),this.ctx.lastPoint=new A(X.x,X.y)},f.prototype.bezierCurveTo=function(P,q,Z,Y,X,J){if(isNaN(X)||isNaN(J)||isNaN(P)||isNaN(q)||isNaN(Z)||isNaN(Y))throw ur.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ae=this.ctx.transform.applyToPoint(new A(X,J)),le=this.ctx.transform.applyToPoint(new A(P,q)),oe=this.ctx.transform.applyToPoint(new A(Z,Y));this.path.push({type:"bct",x1:le.x,y1:le.y,x2:oe.x,y2:oe.y,x:Ae.x,y:Ae.y}),this.ctx.lastPoint=new A(Ae.x,Ae.y)},f.prototype.arc=function(P,q,Z,Y,X,J){if(isNaN(P)||isNaN(q)||isNaN(Z)||isNaN(Y)||isNaN(X))throw ur.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(J=!!J,!this.ctx.transform.isIdentity){var Ae=this.ctx.transform.applyToPoint(new A(P,q));P=Ae.x,q=Ae.y;var le=this.ctx.transform.applyToPoint(new A(0,Z)),oe=this.ctx.transform.applyToPoint(new A(0,0));Z=Math.sqrt(Math.pow(le.x-oe.x,2)+Math.pow(le.y-oe.y,2))}Math.abs(X-Y)>=2*Math.PI&&(Y=0,X=2*Math.PI),this.path.push({type:"arc",x:P,y:q,radius:Z,startAngle:Y,endAngle:X,counterclockwise:J})},f.prototype.arcTo=function(P,q,Z,Y,X){throw new Error("arcTo not implemented.")},f.prototype.rect=function(P,q,Z,Y){if(isNaN(P)||isNaN(q)||isNaN(Z)||isNaN(Y))throw ur.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(P,q),this.lineTo(P+Z,q),this.lineTo(P+Z,q+Y),this.lineTo(P,q+Y),this.lineTo(P,q),this.lineTo(P+Z,q),this.lineTo(P,q)},f.prototype.fillRect=function(P,q,Z,Y){if(isNaN(P)||isNaN(q)||isNaN(Z)||isNaN(Y))throw ur.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var X={};this.lineCap!=="butt"&&(X.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(X.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(P,q,Z,Y),this.fill(),X.hasOwnProperty("lineCap")&&(this.lineCap=X.lineCap),X.hasOwnProperty("lineJoin")&&(this.lineJoin=X.lineJoin)}},f.prototype.strokeRect=function(P,q,Z,Y){if(isNaN(P)||isNaN(q)||isNaN(Z)||isNaN(Y))throw ur.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");B.call(this)||(this.beginPath(),this.rect(P,q,Z,Y),this.stroke())},f.prototype.clearRect=function(P,q,Z,Y){if(isNaN(P)||isNaN(q)||isNaN(Z)||isNaN(Y))throw ur.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(P,q,Z,Y))},f.prototype.save=function(P){P=typeof P!="boolean"||P;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),P){this.ctx.fontSize=this.pdf.internal.getFontSize();var Y=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Y}},f.prototype.restore=function(P){P=typeof P!="boolean"||P;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("Q");this.pdf.setPage(q),P&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(P){var q,Z,Y,X;if(P.isCanvasGradient===!0&&(P=P.getColor()),!P)return{r:0,g:0,b:0,a:0,style:P};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(P))q=0,Z=0,Y=0,X=0;else{var J=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(P);if(J!==null)q=parseInt(J[1]),Z=parseInt(J[2]),Y=parseInt(J[3]),X=1;else if((J=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(P))!==null)q=parseInt(J[1]),Z=parseInt(J[2]),Y=parseInt(J[3]),X=parseFloat(J[4]);else{if(X=1,typeof P=="string"&&P.charAt(0)!=="#"){var Ae=new KN(P);P=Ae.ok?Ae.toHex():"#000000"}P.length===4?(q=P.substring(1,2),q+=q,Z=P.substring(2,3),Z+=Z,Y=P.substring(3,4),Y+=Y):(q=P.substring(1,3),Z=P.substring(3,5),Y=P.substring(5,7)),q=parseInt(q,16),Z=parseInt(Z,16),Y=parseInt(Y,16)}}return{r:q,g:Z,b:Y,a:X,style:P}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},B=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(P,q,Z,Y){if(isNaN(q)||isNaN(Z)||typeof P!="string")throw ur.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Y=isNaN(Y)?void 0:Y,!m.call(this)){var X=ee(this.ctx.transform.rotation),J=this.ctx.transform.scaleX;U.call(this,{text:P,x:q,y:Z,scale:J,angle:X,align:this.textAlign,maxWidth:Y})}},f.prototype.strokeText=function(P,q,Z,Y){if(isNaN(q)||isNaN(Z)||typeof P!="string")throw ur.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!B.call(this)){Y=isNaN(Y)?void 0:Y;var X=ee(this.ctx.transform.rotation),J=this.ctx.transform.scaleX;U.call(this,{text:P,x:q,y:Z,scale:J,renderingMode:"stroke",angle:X,align:this.textAlign,maxWidth:Y})}},f.prototype.measureText=function(P){if(typeof P!="string")throw ur.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,Z=this.pdf.internal.scaleFactor,Y=q.internal.getFontSize(),X=q.getStringUnitWidth(P)*Y/q.internal.scaleFactor,J=function(Ae){var le=(Ae=Ae||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return le}}),this};return new J({width:X*=Math.round(96*Z/72*1e4)/1e4})},f.prototype.scale=function(P,q){if(isNaN(P)||isNaN(q))throw ur.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Z=new o(P,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},f.prototype.rotate=function(P){if(isNaN(P))throw ur.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new o(Math.cos(P),Math.sin(P),-Math.sin(P),Math.cos(P),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},f.prototype.translate=function(P,q){if(isNaN(P)||isNaN(q))throw ur.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Z=new o(1,0,0,1,P,q);this.ctx.transform=this.ctx.transform.multiply(Z)},f.prototype.transform=function(P,q,Z,Y,X,J){if(isNaN(P)||isNaN(q)||isNaN(Z)||isNaN(Y)||isNaN(X)||isNaN(J))throw ur.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ae=new o(P,q,Z,Y,X,J);this.ctx.transform=this.ctx.transform.multiply(Ae)},f.prototype.setTransform=function(P,q,Z,Y,X,J){P=isNaN(P)?1:P,q=isNaN(q)?0:q,Z=isNaN(Z)?0:Z,Y=isNaN(Y)?1:Y,X=isNaN(X)?0:X,J=isNaN(J)?0:J,this.ctx.transform=new o(P,q,Z,Y,X,J)};var b=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(P,q,Z,Y,X,J,Ae,le,oe){var he=this.pdf.getImageProperties(P),Ee=1,pe=1,Te=1,we=1;Y!==void 0&&le!==void 0&&(Te=le/Y,we=oe/X,Ee=he.width/Y*le/Y,pe=he.height/X*oe/X),J===void 0&&(J=q,Ae=Z,q=0,Z=0),Y!==void 0&&le===void 0&&(le=Y,oe=X),Y===void 0&&le===void 0&&(le=he.width,oe=he.height);for(var te,ve=this.ctx.transform.decompose(),ie=ee(ve.rotate.shx),fe=new o,Ie=(fe=(fe=(fe=fe.multiply(ve.translate)).multiply(ve.skew)).multiply(ve.scale)).applyToRectangle(new a(J-q*Te,Ae-Z*we,Y*Ee,X*pe)),Ve=F.call(this,Ie),ze=[],tt=0;tt<Ve.length;tt+=1)ze.indexOf(Ve[tt])===-1&&ze.push(Ve[tt]);if(S(ze),this.autoPaging)for(var lt=ze[0],wt=ze[ze.length-1],ot=lt;ot<wt+1;ot++){this.pdf.setPage(ot);var dt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Pt=ot===1?this.posY+this.margin[0]:this.margin[0],ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],St=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ye=ot===1?0:ut+(ot-2)*St;if(this.ctx.clip_path.length!==0){var Cr=this.path;te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(te,this.posX+this.margin[3],-Ye+Pt+this.ctx.prevPageLastElemOffset),V.call(this,"fill",!0),this.path=Cr}var Qt=JSON.parse(JSON.stringify(Ie));Qt=x([Qt],this.posX+this.margin[3],-Ye+Pt+this.ctx.prevPageLastElemOffset)[0];var Un=(ot>lt||ot<wt)&&b.call(this);Un&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],dt,St,null).clip().discardPath()),this.pdf.addImage(P,"JPEG",Qt.x,Qt.y,Qt.w,Qt.h,null,null,ie),Un&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(P,"JPEG",Ie.x,Ie.y,Ie.w,Ie.h,null,null,ie)};var F=function(P,q,Z){var Y=[];q=q||this.pdf.internal.pageSize.width,Z=Z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var X=this.posY+this.ctx.prevPageLastElemOffset;switch(P.type){default:case"mt":case"lt":Y.push(Math.floor((P.y+X)/Z)+1);break;case"arc":Y.push(Math.floor((P.y+X-P.radius)/Z)+1),Y.push(Math.floor((P.y+X+P.radius)/Z)+1);break;case"qct":var J=ce(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x,P.y);Y.push(Math.floor((J.y+X)/Z)+1),Y.push(Math.floor((J.y+J.h+X)/Z)+1);break;case"bct":var Ae=ye(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x2,P.y2,P.x,P.y);Y.push(Math.floor((Ae.y+X)/Z)+1),Y.push(Math.floor((Ae.y+Ae.h+X)/Z)+1);break;case"rect":Y.push(Math.floor((P.y+X)/Z)+1),Y.push(Math.floor((P.y+P.h+X)/Z)+1)}for(var le=0;le<Y.length;le+=1)for(;this.pdf.internal.getNumberOfPages()<Y[le];)y.call(this);return Y},y=function(){var P=this.fillStyle,q=this.strokeStyle,Z=this.font,Y=this.lineCap,X=this.lineWidth,J=this.lineJoin;this.pdf.addPage(),this.fillStyle=P,this.strokeStyle=q,this.font=Z,this.lineCap=Y,this.lineWidth=X,this.lineJoin=J},x=function(P,q,Z){for(var Y=0;Y<P.length;Y++)switch(P[Y].type){case"bct":P[Y].x2+=q,P[Y].y2+=Z;case"qct":P[Y].x1+=q,P[Y].y1+=Z;case"mt":case"lt":case"arc":default:P[Y].x+=q,P[Y].y+=Z}return P},S=function(P){return P.sort(function(q,Z){return q-Z})},D=function(P,q){for(var Z,Y,X=this.fillStyle,J=this.strokeStyle,Ae=this.lineCap,le=this.lineWidth,oe=Math.abs(le*this.ctx.transform.scaleX),he=this.lineJoin,Ee=JSON.parse(JSON.stringify(this.path)),pe=JSON.parse(JSON.stringify(this.path)),Te=[],we=0;we<pe.length;we++)if(pe[we].x!==void 0)for(var te=F.call(this,pe[we]),ve=0;ve<te.length;ve+=1)Te.indexOf(te[ve])===-1&&Te.push(te[ve]);for(var ie=0;ie<Te.length;ie++)for(;this.pdf.internal.getNumberOfPages()<Te[ie];)y.call(this);if(S(Te),this.autoPaging)for(var fe=Te[0],Ie=Te[Te.length-1],Ve=fe;Ve<Ie+1;Ve++){this.pdf.setPage(Ve),this.fillStyle=X,this.strokeStyle=J,this.lineCap=Ae,this.lineWidth=oe,this.lineJoin=he;var ze=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],tt=Ve===1?this.posY+this.margin[0]:this.margin[0],lt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],wt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ot=Ve===1?0:lt+(Ve-2)*wt;if(this.ctx.clip_path.length!==0){var dt=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(Z,this.posX+this.margin[3],-ot+tt+this.ctx.prevPageLastElemOffset),V.call(this,P,!0),this.path=dt}if(Y=JSON.parse(JSON.stringify(Ee)),this.path=x(Y,this.posX+this.margin[3],-ot+tt+this.ctx.prevPageLastElemOffset),q===!1||Ve===0){var Pt=(Ve>fe||Ve<Ie)&&b.call(this);Pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ze,wt,null).clip().discardPath()),V.call(this,P,q),Pt&&this.pdf.restoreGraphicsState()}this.lineWidth=le}else this.lineWidth=oe,V.call(this,P,q),this.lineWidth=le;this.path=Ee},V=function(P,q){if((P!=="stroke"||q||!B.call(this))&&(P==="stroke"||q||!m.call(this))){for(var Z,Y,X=[],J=this.path,Ae=0;Ae<J.length;Ae++){var le=J[Ae];switch(le.type){case"begin":X.push({begin:!0});break;case"close":X.push({close:!0});break;case"mt":X.push({start:le,deltas:[],abs:[]});break;case"lt":var oe=X.length;if(J[Ae-1]&&!isNaN(J[Ae-1].x)&&(Z=[le.x-J[Ae-1].x,le.y-J[Ae-1].y],oe>0)){for(;oe>=0;oe--)if(X[oe-1].close!==!0&&X[oe-1].begin!==!0){X[oe-1].deltas.push(Z),X[oe-1].abs.push(le);break}}break;case"bct":Z=[le.x1-J[Ae-1].x,le.y1-J[Ae-1].y,le.x2-J[Ae-1].x,le.y2-J[Ae-1].y,le.x-J[Ae-1].x,le.y-J[Ae-1].y],X[X.length-1].deltas.push(Z);break;case"qct":var he=J[Ae-1].x+2/3*(le.x1-J[Ae-1].x),Ee=J[Ae-1].y+2/3*(le.y1-J[Ae-1].y),pe=le.x+2/3*(le.x1-le.x),Te=le.y+2/3*(le.y1-le.y),we=le.x,te=le.y;Z=[he-J[Ae-1].x,Ee-J[Ae-1].y,pe-J[Ae-1].x,Te-J[Ae-1].y,we-J[Ae-1].x,te-J[Ae-1].y],X[X.length-1].deltas.push(Z);break;case"arc":X.push({deltas:[],abs:[],arc:!0}),Array.isArray(X[X.length-1].abs)&&X[X.length-1].abs.push(le)}}Y=q?null:P==="stroke"?"stroke":"fill";for(var ve=!1,ie=0;ie<X.length;ie++)if(X[ie].arc)for(var fe=X[ie].abs,Ie=0;Ie<fe.length;Ie++){var Ve=fe[Ie];Ve.type==="arc"?_.call(this,Ve.x,Ve.y,Ve.radius,Ve.startAngle,Ve.endAngle,Ve.counterclockwise,void 0,q,!ve):I.call(this,Ve.x,Ve.y),ve=!0}else if(X[ie].close===!0)this.pdf.internal.out("h"),ve=!1;else if(X[ie].begin!==!0){var ze=X[ie].start.x,tt=X[ie].start.y;j.call(this,X[ie].deltas,ze,tt),ve=!0}Y&&k.call(this,Y),q&&N.call(this)}},G=function(P){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Z=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return P-Z;case"top":return P+q-Z;case"hanging":return P+q-2*Z;case"middle":return P+q/2-Z;case"ideographic":return P;case"alphabetic":default:return P}},Q=function(P){return P+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var P=function(){};return P.colorStops=[],P.addColorStop=function(q,Z){this.colorStops.push([q,Z])},P.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},P.isCanvasGradient=!0,P},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var _=function(P,q,Z,Y,X,J,Ae,le,oe){for(var he=ae.call(this,Z,Y,X,J),Ee=0;Ee<he.length;Ee++){var pe=he[Ee];Ee===0&&(oe?E.call(this,pe.x1+P,pe.y1+q):I.call(this,pe.x1+P,pe.y1+q)),$.call(this,P,q,pe.x2,pe.y2,pe.x3,pe.y3,pe.x4,pe.y4)}le?N.call(this):k.call(this,Ae)},k=function(P){switch(P){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},N=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(P,q){this.pdf.internal.out(r(P)+" "+n(q)+" m")},U=function(P){var q;switch(P.align){case"right":case"end":q="right";break;case"center":q="center";break;case"left":case"start":default:q="left"}var Z=this.pdf.getTextDimensions(P.text),Y=G.call(this,P.y),X=Q.call(this,Y)-Z.h,J=this.ctx.transform.applyToPoint(new A(P.x,Y)),Ae=this.ctx.transform.decompose(),le=new o;le=(le=(le=le.multiply(Ae.translate)).multiply(Ae.skew)).multiply(Ae.scale);for(var oe,he,Ee,pe=this.ctx.transform.applyToRectangle(new a(P.x,Y,Z.w,Z.h)),Te=le.applyToRectangle(new a(P.x,X,Z.w,Z.h)),we=F.call(this,Te),te=[],ve=0;ve<we.length;ve+=1)te.indexOf(we[ve])===-1&&te.push(we[ve]);if(S(te),this.autoPaging)for(var ie=te[0],fe=te[te.length-1],Ie=ie;Ie<fe+1;Ie++){this.pdf.setPage(Ie);var Ve=Ie===1?this.posY+this.margin[0]:this.margin[0],ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],tt=this.pdf.internal.pageSize.height-this.margin[2],lt=tt-this.margin[0],wt=this.pdf.internal.pageSize.width-this.margin[1],ot=wt-this.margin[3],dt=Ie===1?0:ze+(Ie-2)*lt;if(this.ctx.clip_path.length!==0){var Pt=this.path;oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(oe,this.posX+this.margin[3],-1*dt+Ve),V.call(this,"fill",!0),this.path=Pt}var ut=x([JSON.parse(JSON.stringify(Te))],this.posX+this.margin[3],-dt+Ve+this.ctx.prevPageLastElemOffset)[0];P.scale>=.01&&(he=this.pdf.internal.getFontSize(),this.pdf.setFontSize(he*P.scale),Ee=this.lineWidth,this.lineWidth=Ee*P.scale);var St=this.autoPaging!=="text";if(St||ut.y+ut.h<=tt){if(St||ut.y>=Ve&&ut.x<=wt){var Ye=St?P.text:this.pdf.splitTextToSize(P.text,P.maxWidth||wt-ut.x)[0],Cr=x([JSON.parse(JSON.stringify(pe))],this.posX+this.margin[3],-dt+Ve+this.ctx.prevPageLastElemOffset)[0],Qt=St&&(Ie>ie||Ie<fe)&&b.call(this);Qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ot,lt,null).clip().discardPath()),this.pdf.text(Ye,Cr.x,Cr.y,{angle:P.angle,align:q,renderingMode:P.renderingMode}),Qt&&this.pdf.restoreGraphicsState()}}else ut.y<tt&&(this.ctx.prevPageLastElemOffset+=tt-ut.y);P.scale>=.01&&(this.pdf.setFontSize(he),this.lineWidth=Ee)}else P.scale>=.01&&(he=this.pdf.internal.getFontSize(),this.pdf.setFontSize(he*P.scale),Ee=this.lineWidth,this.lineWidth=Ee*P.scale),this.pdf.text(P.text,J.x+this.posX,J.y+this.posY,{angle:P.angle,align:q,renderingMode:P.renderingMode,maxWidth:P.maxWidth}),P.scale>=.01&&(this.pdf.setFontSize(he),this.lineWidth=Ee)},I=function(P,q,Z,Y){Z=Z||0,Y=Y||0,this.pdf.internal.out(r(P+Z)+" "+n(q+Y)+" l")},j=function(P,q,Z){return this.pdf.lines(P,q,Z,null,null)},$=function(P,q,Z,Y,X,J,Ae,le){this.pdf.internal.out([e(s(Z+P)),e(i(Y+q)),e(s(X+P)),e(i(J+q)),e(s(Ae+P)),e(i(le+q)),"c"].join(" "))},ae=function(P,q,Z,Y){for(var X=2*Math.PI,J=Math.PI/2;q>Z;)q-=X;var Ae=Math.abs(Z-q);Ae<X&&Y&&(Ae=X-Ae);for(var le=[],oe=Y?-1:1,he=q;Ae>1e-5;){var Ee=he+oe*Math.min(Ae,J);le.push(ne.call(this,P,he,Ee)),Ae-=Math.abs(Ee-he),he=Ee}return le},ne=function(P,q,Z){var Y=(Z-q)/2,X=P*Math.cos(Y),J=P*Math.sin(Y),Ae=X,le=-J,oe=Ae*Ae+le*le,he=oe+Ae*X+le*J,Ee=4/3*(Math.sqrt(2*oe*he)-he)/(Ae*J-le*X),pe=Ae-Ee*le,Te=le+Ee*Ae,we=pe,te=-Te,ve=Y+q,ie=Math.cos(ve),fe=Math.sin(ve);return{x1:P*Math.cos(q),y1:P*Math.sin(q),x2:pe*ie-Te*fe,y2:pe*fe+Te*ie,x3:we*ie-te*fe,y3:we*fe+te*ie,x4:P*Math.cos(Z),y4:P*Math.sin(Z)}},ee=function(P){return 180*P/Math.PI},ce=function(P,q,Z,Y,X,J){var Ae=P+.5*(Z-P),le=q+.5*(Y-q),oe=X+.5*(Z-X),he=J+.5*(Y-J),Ee=Math.min(P,X,Ae,oe),pe=Math.max(P,X,Ae,oe),Te=Math.min(q,J,le,he),we=Math.max(q,J,le,he);return new a(Ee,Te,pe-Ee,we-Te)},ye=function(P,q,Z,Y,X,J,Ae,le){var oe,he,Ee,pe,Te,we,te,ve,ie,fe,Ie,Ve,ze,tt,lt=Z-P,wt=Y-q,ot=X-Z,dt=J-Y,Pt=Ae-X,ut=le-J;for(he=0;he<41;he++)ie=(te=(Ee=P+(oe=he/40)*lt)+oe*((Te=Z+oe*ot)-Ee))+oe*(Te+oe*(X+oe*Pt-Te)-te),fe=(ve=(pe=q+oe*wt)+oe*((we=Y+oe*dt)-pe))+oe*(we+oe*(J+oe*ut-we)-ve),he==0?(Ie=ie,Ve=fe,ze=ie,tt=fe):(Ie=Math.min(Ie,ie),Ve=Math.min(Ve,fe),ze=Math.max(ze,ie),tt=Math.max(tt,fe));return new a(Math.round(Ie),Math.round(Ve),Math.round(ze-Ie),Math.round(tt-Ve))},_e=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var P,q,Z=(P=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:P,lineDashOffset:q}));this.prevLineDash!==Z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Z)}}})(pt.API),function(t){var e=function(i){var A,a,o,c,h,f,g,m,B,b;for(a=[],o=0,c=(i+=A="\0\0\0\0".slice(i.length%4||4)).length;c>o;o+=4)(h=(i.charCodeAt(o)<<24)+(i.charCodeAt(o+1)<<16)+(i.charCodeAt(o+2)<<8)+i.charCodeAt(o+3))!==0?(f=(h=((h=((h=((h=(h-(b=h%85))/85)-(B=h%85))/85)-(m=h%85))/85)-(g=h%85))/85)%85,a.push(f+33,g+33,m+33,B+33,b+33)):a.push(122);return function(F,y){for(var x=y;x>0;x--)F.pop()}(a,A.length),String.fromCharCode.apply(String,a)+"~>"},r=function(i){var A,a,o,c,h,f=String,g="length",m=255,B="charCodeAt",b="slice",F="replace";for(i[b](-2),i=i[b](0,-2)[F](/\s/g,"")[F]("z","!!!!!"),o=[],c=0,h=(i+=A="uuuuu"[b](i[g]%5||5))[g];h>c;c+=5)a=52200625*(i[B](c)-33)+614125*(i[B](c+1)-33)+7225*(i[B](c+2)-33)+85*(i[B](c+3)-33)+(i[B](c+4)-33),o.push(m&a>>24,m&a>>16,m&a>>8,m&a);return function(y,x){for(var S=x;S>0;S--)y.pop()}(o,A[g]),f.fromCharCode.apply(f,o)},n=function(i){var A=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),A.test(i)===!1)return"";for(var a="",o=0;o<i.length;o+=2)a+=String.fromCharCode("0x"+(i[o]+i[o+1]));return a},s=function(i){for(var A=new Uint8Array(i.length),a=i.length;a--;)A[a]=i.charCodeAt(a);return i=(A=Wy(A)).reduce(function(o,c){return o+String.fromCharCode(c)},"")};t.processDataByFilters=function(i,A){var a=0,o=i||"",c=[];for(typeof(A=A||[])=="string"&&(A=[A]),a=0;a<A.length;a+=1)switch(A[a]){case"ASCII85Decode":case"/ASCII85Decode":o=r(o),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":o=e(o),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":o=n(o),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":o=o.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":o=s(o),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+A[a]+'" is not implemented')}return{data:o,reverseChain:c.reverse().join(" ")}}}(pt.API),function(t){t.loadFile=function(e,r,n){return function(s,i,A){i=i!==!1,A=typeof A=="function"?A:function(){};var a=void 0;try{a=function(o,c,h){var f=new XMLHttpRequest,g=0,m=function(B){var b=B.length,F=[],y=String.fromCharCode;for(g=0;g<b;g+=1)F.push(y(255&B.charCodeAt(g)));return F.join("")};if(f.open("GET",o,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?h(m(this.responseText)):h(void 0)}),f.send(null),c&&f.status===200)return m(f.responseText)}(s,i,A)}catch{}return a}(e,r,n)},t.loadImageFile=t.loadFile}(pt.API),function(t){function e(){return(mt.html2canvas?Promise.resolve(mt.html2canvas):Vy(()=>Promise.resolve().then(()=>U9),void 0)).catch(function(A){return Promise.reject(new Error("Could not load html2canvas: "+A))}).then(function(A){return A.default?A.default:A})}function r(){return(mt.DOMPurify?Promise.resolve(mt.DOMPurify):Vy(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(A){return Promise.reject(new Error("Could not load dompurify: "+A))}).then(function(A){return A.default?A.default:A})}var n=function(A){var a=nr(A);return a==="undefined"?"undefined":a==="string"||A instanceof String?"string":a==="number"||A instanceof Number?"number":a==="function"||A instanceof Function?"function":A&&A.constructor===Array?"array":A&&A.nodeType===1?"element":a==="object"?"object":"unknown"},s=function(A,a){var o=document.createElement(A);for(var c in a.className&&(o.className=a.className),a.innerHTML&&a.dompurify&&(o.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)o.style[c]=a.style[c];return o},i=function A(a){var o=Object.assign(A.convert(Promise.resolve()),JSON.parse(JSON.stringify(A.template))),c=A.convert(Promise.resolve(),o);return c=(c=c.setProgress(1,A,1,[A])).set(a)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(A,a){return A.__proto__=a||i.prototype,A},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(A,a){return this.then(function(){switch(a=a||function(o){switch(n(o)){case"string":return"string";case"element":return o.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(A)){case"string":return this.then(r).then(function(o){return this.set({src:s("div",{innerHTML:A,dompurify:o})})});case"element":return this.set({src:A});case"canvas":return this.set({canvas:A});case"img":return this.set({img:A});default:return this.error("Unknown source type.")}})},i.prototype.to=function(A){switch(A){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var A={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function o(c,h){for(var f=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),g=c.firstChild;g;g=g.nextSibling)h!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||f.appendChild(o(g,h));return c.nodeType===1&&(c.nodeName==="CANVAS"?(f.width=c.width,f.height=c.height,f.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(f.value=c.value),f.addEventListener("load",function(){f.scrollTop=c.scrollTop,f.scrollLeft=c.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(A.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:A}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var A=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(A).then(e).then(function(a){var o=Object.assign({},this.opt.html2canvas);return delete o.onrendered,a(this.prop.container,o)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var A=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(A).then(e).then(function(a){var o=this.opt.jsPDF,c=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,o.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,o.context2d.posX=this.opt.x,o.context2d.posY=this.opt.y,o.context2d.margin=this.opt.margin,o.context2d.fontFaces=c,c)for(var g=0;g<c.length;++g){var m=c[g],B=m.src.find(function(b){return b.format==="truetype"});B&&o.addFont(B.url,m.ref.name,m.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,o.context2d.save(!0),a(this.prop.container,f)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var A=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=A})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(A,a,o){return(o=o||"pdf").toLowerCase()==="img"||o.toLowerCase()==="image"?this.outputImg(A,a):this.outputPdf(A,a)},i.prototype.outputPdf=function(A,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(A,a)})},i.prototype.outputImg=function(A){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(A){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+A+'" is not supported.'}})},i.prototype.save=function(A){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(A?{filename:A}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(A){if(n(A)!=="object")return this;var a=Object.keys(A||{}).map(function(o){if(o in i.template.prop)return function(){this.prop[o]=A[o]};switch(o){case"margin":return this.setMargin.bind(this,A.margin);case"jsPDF":return function(){return this.opt.jsPDF=A.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,A.pageSize);default:return function(){this.opt[o]=A[o]}}},this);return this.then(function(){return this.thenList(a)})},i.prototype.get=function(A,a){return this.then(function(){var o=A in i.template.prop?this.prop[A]:this.opt[A];return a?a(o):o})},i.prototype.setMargin=function(A){return this.then(function(){switch(n(A)){case"number":A=[A,A,A,A];case"array":if(A.length===2&&(A=[A[0],A[1],A[0],A[1]]),A.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=A}).then(this.setPageSize)},i.prototype.setPageSize=function(A){function a(o,c){return Math.floor(o*c/72*96)}return this.then(function(){(A=A||pt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(A.inner={width:A.width-this.opt.margin[1]-this.opt.margin[3],height:A.height-this.opt.margin[0]-this.opt.margin[2]},A.inner.px={width:a(A.inner.width,A.k),height:a(A.inner.height,A.k)},A.inner.ratio=A.inner.height/A.inner.width),this.prop.pageSize=A})},i.prototype.setProgress=function(A,a,o,c){return A!=null&&(this.progress.val=A),a!=null&&(this.progress.state=a),o!=null&&(this.progress.n=o),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(A,a,o,c){return this.setProgress(A?this.progress.val+A:null,a||null,o?this.progress.n+o:null,c?this.progress.stack.concat(c):null)},i.prototype.then=function(A,a){var o=this;return this.thenCore(A,a,function(c,h){return o.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(f){return o.updateProgress(null,c),f}).then(c,h).then(function(f){return o.updateProgress(1),f})})},i.prototype.thenCore=function(A,a,o){o=o||Promise.prototype.then,A&&(A=A.bind(this)),a&&(a=a.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),h=o.call(c,A,a);return i.convert(h,this.__proto__)},i.prototype.thenExternal=function(A,a){return Promise.prototype.then.call(this,A,a)},i.prototype.thenList=function(A){var a=this;return A.forEach(function(o){a=a.thenCore(o)}),a},i.prototype.catch=function(A){A&&(A=A.bind(this));var a=Promise.prototype.catch.call(this,A);return i.convert(a,this)},i.prototype.catchExternal=function(A){return Promise.prototype.catch.call(this,A)},i.prototype.error=function(A){return this.then(function(){throw new Error(A)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,pt.getPageSize=function(A,a,o){if(nr(A)==="object"){var c=A;A=c.orientation,a=c.unit||a,o=c.format||o}a=a||"mm",o=o||"a4",A=(""+(A||"P")).toLowerCase();var h,f=(""+o).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+a}var m,B=0,b=0;if(g.hasOwnProperty(f))B=g[f][1]/h,b=g[f][0]/h;else try{B=o[1],b=o[0]}catch{throw new Error("Invalid format: "+o)}if(A==="p"||A==="portrait")A="p",b>B&&(m=b,b=B,B=m);else{if(A!=="l"&&A!=="landscape")throw"Invalid orientation: "+A;A="l",B>b&&(m=b,b=B,B=m)}return{width:b,height:B,unit:a,k:h,orientation:A}},t.html=function(A,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(ew):null;var o=new i(a);return a.worker?o:o.from(A).doCallback()}}(pt.API),pt.API.addJS=function(t){return NC=t,this.internal.events.subscribe("postPutResources",function(){jp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(jp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),SC=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+NC+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){jp!==void 0&&SC!==void 0&&this.internal.out("/Names <</JavaScript "+jp+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=r.outline.render().split(/\r\n/),i=0;i<s.length;i++){var A=s[i],a=n.exec(A);if(a!=null){var o=a[1];r.internal.newObjectDeferredBegin(o,!1)}r.internal.write(A)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,h=[];for(i=0;i<c;i++){var f=r.internal.newObject();h.push(f);var g=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var m=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<h.length;i++)r.internal.write("(page_"+(i+1)+")"+h[i]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+m+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,s,i){var A={title:s,options:i,children:[]};return n==null&&(n=this.root),n.children.push(A),A},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var A=n.children[i];this.objStart(A),this.line("/Title "+this.makeString(A.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),A.children.length>0&&(this.line("/First "+this.makeRef(A.children[0])),this.line("/Last "+this.makeRef(A.children[A.children.length-1])));var a=this.count=this.count_r({count:0},A);if(a>0&&this.line("/Count "+a),A.options&&A.options.pageNumber){var o=r.internal.getPageInfo(A.options.pageNumber);this.line("/Dest ["+o.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,s){for(var i=0;i<s.children.length;i++)n.count++,this.count_r(n,s.children[i]);return n.count}}])}(pt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,s,i,A,a){var o,c=this.decode.DCT_DECODE,h=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=A||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(o=function(f){for(var g,m=256*f.charCodeAt(4)+f.charCodeAt(5),B=f.length,b={width:0,height:0,numcomponents:1},F=4;F<B;F+=2){if(F+=m,e.indexOf(f.charCodeAt(F+1))!==-1){g=256*f.charCodeAt(F+5)+f.charCodeAt(F+6),b={width:256*f.charCodeAt(F+7)+f.charCodeAt(F+8),height:g,numcomponents:f.charCodeAt(F+9)};break}m=256*f.charCodeAt(F+2)+f.charCodeAt(F+3)}return b}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}h={data:r,width:o.width,height:o.height,colorSpace:a,bitsPerComponent:8,filter:c,index:n,alias:s}}return h}}(pt.API);var Uc,Pp,FC,TC,kC,mV=function(){var t,e,r;function n(i){var A,a,o,c,h,f,g,m,B,b,F,y,x,S;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(A=this.readUInt32(),B=(function(){var D,V;for(V=[],D=0;D<4;++D)V.push(String.fromCharCode(this.data[this.pos++]));return V}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(A);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},h=this.readUInt16(),c=this.readUInt16()||100,f.delay=1e3*h/c,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(B==="fdAT"&&(this.pos+=4,A-=4),i=(f!=null?f.data:void 0)||this.imgData,y=0;0<=A?y<A:y>A;0<=A?++y:--y)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(o=this.palette.length/3,this.transparency.indexed=this.read(A),this.transparency.indexed.length>o)throw new Error("More transparent colors than palette size");if((b=o-this.transparency.indexed.length)>0)for(x=0;0<=b?x<b:x>b;0<=b?++x:--x)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(A)[0];break;case 2:this.transparency.rgb=this.read(A)}break;case"tEXt":g=(F=this.read(A)).indexOf(0),m=String.fromCharCode.apply(String,F.slice(0,g)),this.text[m]=String.fromCharCode.apply(String,F.slice(g+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(S=this.colorType)===4||S===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=A}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var A,a;for(a=[],A=0;0<=i?A<i:A>i;0<=i?++A:--A)a.push(this.data[this.pos++]);return a},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var A=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*A),o=0,c=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function h(f,g,m,B){var b,F,y,x,S,D,V,G,Q,_,k,N,E,U,I,j,$,ae,ne,ee,ce,ye=Math.ceil((c.width-f)/m),_e=Math.ceil((c.height-g)/B),P=c.width==ye&&c.height==_e;for(U=A*ye,N=P?a:new Uint8Array(U*_e),D=i.length,E=0,F=0;E<_e&&o<D;){switch(i[o++]){case 0:for(x=$=0;$<U;x=$+=1)N[F++]=i[o++];break;case 1:for(x=ae=0;ae<U;x=ae+=1)b=i[o++],S=x<A?0:N[F-A],N[F++]=(b+S)%256;break;case 2:for(x=ne=0;ne<U;x=ne+=1)b=i[o++],y=(x-x%A)/A,I=E&&N[(E-1)*U+y*A+x%A],N[F++]=(I+b)%256;break;case 3:for(x=ee=0;ee<U;x=ee+=1)b=i[o++],y=(x-x%A)/A,S=x<A?0:N[F-A],I=E&&N[(E-1)*U+y*A+x%A],N[F++]=(b+Math.floor((S+I)/2))%256;break;case 4:for(x=ce=0;ce<U;x=ce+=1)b=i[o++],y=(x-x%A)/A,S=x<A?0:N[F-A],E===0?I=j=0:(I=N[(E-1)*U+y*A+x%A],j=y&&N[(E-1)*U+(y-1)*A+x%A]),V=S+I-j,G=Math.abs(V-S),_=Math.abs(V-I),k=Math.abs(V-j),Q=G<=_&&G<=k?S:_<=k?I:j,N[F++]=(b+Q)%256;break;default:throw new Error("Invalid filter algorithm: "+i[o-1])}if(!P){var q=((g+E*B)*c.width+f)*A,Z=E*U;for(x=0;x<ye;x+=1){for(var Y=0;Y<A;Y+=1)a[q++]=N[Z++];q+=(m-1)*A}}E++}}return i=W9(i),c.interlaceMethod==1?(h(0,0,8,8),h(4,0,8,8),h(0,4,4,8),h(2,0,4,4),h(0,2,2,4),h(1,0,2,2),h(0,1,1,2)):h(0,0,1,1),a},n.prototype.decodePalette=function(){var i,A,a,o,c,h,f,g,m;for(a=this.palette,h=this.transparency.indexed||[],c=new Uint8Array((h.length||0)+a.length),o=0,i=0,A=f=0,g=a.length;f<g;A=f+=3)c[o++]=a[A],c[o++]=a[A+1],c[o++]=a[A+2],c[o++]=(m=h[i++])!=null?m:255;return c},n.prototype.copyToImageData=function(i,A){var a,o,c,h,f,g,m,B,b,F,y;if(o=this.colors,b=null,a=this.hasAlphaChannel,this.palette.length&&(b=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),o=4,a=!0),B=(c=i.data||i).length,f=b||A,h=g=0,o===1)for(;h<B;)m=b?4*A[h/4]:g,F=f[m++],c[h++]=F,c[h++]=F,c[h++]=F,c[h++]=a?f[m++]:255,g=m;else for(;h<B;)m=b?4*A[h/4]:g,c[h++]=f[m++],c[h++]=f[m++],c[h++]=f[m++],c[h++]=a?f[m++]:255,g=m},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var s=function(){if(Object.prototype.toString.call(mt)==="[object Window]"){try{e=mt.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return s(),t=function(i){var A;if(s()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(A=new Image).src=e.toDataURL(),A;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var A,a,o,c,h,f,g,m;if(this.animation){for(m=[],a=h=0,f=(g=this.animation.frames).length;h<f;a=++h)A=g[a],o=i.createImageData(A.width,A.height),c=this.decodePixels(new Uint8Array(A.data)),this.copyToImageData(o,c),A.imageData=o,m.push(A.image=t(o));return m}},n.prototype.renderFrame=function(i,A){var a,o,c;return a=(o=this.animation.frames)[A],c=o[A-1],A===0&&i.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?i.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&i.putImageData(c.imageData,c.xOffset,c.yOffset),a.blendOp===0&&i.clearRect(a.xOffset,a.yOffset,a.width,a.height),i.drawImage(a.image,a.xOffset,a.yOffset)},n.prototype.animate=function(i){var A,a,o,c,h,f,g=this;return a=0,f=this.animation,c=f.numFrames,o=f.frames,h=f.numPlays,(A=function(){var m,B;if(m=a++%c,B=o[m],g.renderFrame(i,m),c>1&&a/c<h)return g.animation._timeout=setTimeout(A,B.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var A,a;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,A=i.getContext("2d"),this.animation?(this.decodeFrames(A),this.animate(A)):(a=A.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),A.putImageData(a,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function gV(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,s=t[e++],i=s>>7,A=1<<(7&s)+1;t[e++],t[e++];var a=null,o=null;i&&(a=e,o=A,e+=3*A);var c=!0,h=[],f=0,g=null,m=0,B=null;for(this.width=r,this.height=n;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,B=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var b=t[e++];f=t[e++]|t[e++]<<8,g=t[e++],!(1&b)&&(g=null),m=b>>2&7,e++;break;case 254:for(;;){if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var F=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,S=t[e++]|t[e++]<<8,D=t[e++],V=D>>6&1,G=1<<(7&D)+1,Q=a,_=o,k=!1;D>>7&&(k=!0,Q=e,_=G,e+=3*G);var N=e;for(e++;;){var E;if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}h.push({x:F,y,width:x,height:S,has_local_palette:k,palette_offset:Q,palette_size:_,data_offset:N,data_length:e-N,transparent_index:g,interlaced:!!V,delay:f,disposal:m});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return B},this.frameInfo=function(U){if(U<0||U>=h.length)throw new Error("Frame index out of range.");return h[U]},this.decodeAndBlitFrameBGRA=function(U,I){var j=this.frameInfo(U),$=j.width*j.height,ae=new Uint8Array($);UC(t,j.data_offset,ae,$);var ne=j.palette_offset,ee=j.transparent_index;ee===null&&(ee=256);var ce=j.width,ye=r-ce,_e=ce,P=4*(j.y*r+j.x),q=4*((j.y+j.height)*r+j.x),Z=P,Y=4*ye;j.interlaced===!0&&(Y+=4*r*7);for(var X=8,J=0,Ae=ae.length;J<Ae;++J){var le=ae[J];if(_e===0&&(_e=ce,(Z+=Y)>=q&&(Y=4*ye+4*r*(X-1),Z=P+(ce+ye)*(X<<1),X>>=1)),le===ee)Z+=4;else{var oe=t[ne+3*le],he=t[ne+3*le+1],Ee=t[ne+3*le+2];I[Z++]=Ee,I[Z++]=he,I[Z++]=oe,I[Z++]=255}--_e}},this.decodeAndBlitFrameRGBA=function(U,I){var j=this.frameInfo(U),$=j.width*j.height,ae=new Uint8Array($);UC(t,j.data_offset,ae,$);var ne=j.palette_offset,ee=j.transparent_index;ee===null&&(ee=256);var ce=j.width,ye=r-ce,_e=ce,P=4*(j.y*r+j.x),q=4*((j.y+j.height)*r+j.x),Z=P,Y=4*ye;j.interlaced===!0&&(Y+=4*r*7);for(var X=8,J=0,Ae=ae.length;J<Ae;++J){var le=ae[J];if(_e===0&&(_e=ce,(Z+=Y)>=q&&(Y=4*ye+4*r*(X-1),Z=P+(ce+ye)*(X<<1),X>>=1)),le===ee)Z+=4;else{var oe=t[ne+3*le],he=t[ne+3*le+1],Ee=t[ne+3*le+2];I[Z++]=oe,I[Z++]=he,I[Z++]=Ee,I[Z++]=255}--_e}}}function UC(t,e,r,n){for(var s=t[e++],i=1<<s,A=i+1,a=A+1,o=s+1,c=(1<<o)-1,h=0,f=0,g=0,m=t[e++],B=new Int32Array(4096),b=null;;){for(;h<16&&m!==0;)f|=t[e++]<<h,h+=8,m===1?m=t[e++]:--m;if(h<o)break;var F=f&c;if(f>>=o,h-=o,F!==i){if(F===A)break;for(var y=F<a?F:b,x=0,S=y;S>i;)S=B[S]>>8,++x;var D=S;if(g+x+(y!==F?1:0)>n)return void ur.log("Warning, gif stream longer than expected.");r[g++]=D;var V=g+=x;for(y!==F&&(r[g++]=D),S=y;x--;)S=B[S],r[--V]=255&S,S>>=8;b!==null&&a<4096&&(B[a++]=b<<8|D,a>=c+1&&o<12&&(++o,c=c<<1|1)),b=F}else a=A+1,c=(1<<(o=s+1))-1,b=null}return g!==n&&ur.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function J1(t){var e,r,n,s,i,A=Math.floor,a=new Array(64),o=new Array(64),c=new Array(64),h=new Array(64),f=new Array(65535),g=new Array(65535),m=new Array(64),B=new Array(64),b=[],F=0,y=7,x=new Array(64),S=new Array(64),D=new Array(64),V=new Array(256),G=new Array(2048),Q=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],_=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],N=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],U=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],j=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],$=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ae(P,q){for(var Z=0,Y=0,X=new Array,J=1;J<=16;J++){for(var Ae=1;Ae<=P[J];Ae++)X[q[Y]]=[],X[q[Y]][0]=Z,X[q[Y]][1]=J,Y++,Z++;Z*=2}return X}function ne(P){for(var q=P[0],Z=P[1]-1;Z>=0;)q&1<<Z&&(F|=1<<y),Z--,--y<0&&(F==255?(ee(255),ee(0)):ee(F),y=7,F=0)}function ee(P){b.push(P)}function ce(P){ee(P>>8&255),ee(255&P)}function ye(P,q,Z,Y,X){for(var J,Ae=X[0],le=X[240],oe=function(fe,Ie){var Ve,ze,tt,lt,wt,ot,dt,Pt,ut,St,Ye=0;for(ut=0;ut<8;++ut){Ve=fe[Ye],ze=fe[Ye+1],tt=fe[Ye+2],lt=fe[Ye+3],wt=fe[Ye+4],ot=fe[Ye+5],dt=fe[Ye+6];var Cr=Ve+(Pt=fe[Ye+7]),Qt=Ve-Pt,Un=ze+dt,Vt=ze-dt,Zt=tt+ot,es=tt-ot,Lt=lt+wt,Ts=lt-wt,Ar=Cr+Lt,Yr=Cr-Lt,Qn=Un+Zt,Qe=Un-Zt;fe[Ye]=Ar+Qn,fe[Ye+4]=Ar-Qn;var De=.707106781*(Qe+Yr);fe[Ye+2]=Yr+De,fe[Ye+6]=Yr-De;var We=.382683433*((Ar=Ts+es)-(Qe=Vt+Qt)),Nt=.5411961*Ar+We,kt=1.306562965*Qe+We,ht=.707106781*(Qn=es+Vt),Ut=Qt+ht,Ze=Qt-ht;fe[Ye+5]=Ze+Nt,fe[Ye+3]=Ze-Nt,fe[Ye+1]=Ut+kt,fe[Ye+7]=Ut-kt,Ye+=8}for(Ye=0,ut=0;ut<8;++ut){Ve=fe[Ye],ze=fe[Ye+8],tt=fe[Ye+16],lt=fe[Ye+24],wt=fe[Ye+32],ot=fe[Ye+40],dt=fe[Ye+48];var Jr=Ve+(Pt=fe[Ye+56]),Tr=Ve-Pt,hr=ze+dt,Dr=ze-dt,kr=tt+ot,Xr=tt-ot,ga=lt+wt,mi=lt-wt,Ln=Jr+ga,ps=Jr-ga,ts=hr+kr,rs=hr-kr;fe[Ye]=Ln+ts,fe[Ye+32]=Ln-ts;var Rr=.707106781*(rs+ps);fe[Ye+16]=ps+Rr,fe[Ye+48]=ps-Rr;var ks=.382683433*((Ln=mi+Xr)-(rs=Dr+Tr)),qi=.5411961*Ln+ks,Wi=1.306562965*rs+ks,$i=.707106781*(ts=Xr+Dr),bA=Tr+$i,CA=Tr-$i;fe[Ye+40]=CA+qi,fe[Ye+24]=CA-qi,fe[Ye+8]=bA+Wi,fe[Ye+56]=bA-Wi,Ye++}for(ut=0;ut<64;++ut)St=fe[ut]*Ie[ut],m[ut]=St>0?St+.5|0:St-.5|0;return m}(P,q),he=0;he<64;++he)B[Q[he]]=oe[he];var Ee=B[0]-Z;Z=B[0],Ee==0?ne(Y[0]):(ne(Y[g[J=32767+Ee]]),ne(f[J]));for(var pe=63;pe>0&&B[pe]==0;)pe--;if(pe==0)return ne(Ae),Z;for(var Te,we=1;we<=pe;){for(var te=we;B[we]==0&&we<=pe;)++we;var ve=we-te;if(ve>=16){Te=ve>>4;for(var ie=1;ie<=Te;++ie)ne(le);ve&=15}J=32767+B[we],ne(X[(ve<<4)+g[J]]),ne(f[J]),we++}return pe!=63&&ne(Ae),Z}function _e(P){P=Math.min(Math.max(P,1),100),i!=P&&(function(q){for(var Z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Y=0;Y<64;Y++){var X=A((Z[Y]*q+50)/100);X=Math.min(Math.max(X,1),255),a[Q[Y]]=X}for(var J=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ae=0;Ae<64;Ae++){var le=A((J[Ae]*q+50)/100);le=Math.min(Math.max(le,1),255),o[Q[Ae]]=le}for(var oe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],he=0,Ee=0;Ee<8;Ee++)for(var pe=0;pe<8;pe++)c[he]=1/(a[Q[he]]*oe[Ee]*oe[pe]*8),h[he]=1/(o[Q[he]]*oe[Ee]*oe[pe]*8),he++}(P<50?Math.floor(5e3/P):Math.floor(200-2*P)),i=P)}this.encode=function(P,q){q&&_e(q),b=new Array,F=0,y=7,ce(65496),ce(65504),ce(16),ee(74),ee(70),ee(73),ee(70),ee(0),ee(1),ee(1),ee(0),ce(1),ce(1),ee(0),ee(0),function(){ce(65499),ce(132),ee(0);for(var ze=0;ze<64;ze++)ee(a[ze]);ee(1);for(var tt=0;tt<64;tt++)ee(o[tt])}(),function(ze,tt){ce(65472),ce(17),ee(8),ce(tt),ce(ze),ee(3),ee(1),ee(17),ee(0),ee(2),ee(17),ee(1),ee(3),ee(17),ee(1)}(P.width,P.height),function(){ce(65476),ce(418),ee(0);for(var ze=0;ze<16;ze++)ee(_[ze+1]);for(var tt=0;tt<=11;tt++)ee(k[tt]);ee(16);for(var lt=0;lt<16;lt++)ee(N[lt+1]);for(var wt=0;wt<=161;wt++)ee(E[wt]);ee(1);for(var ot=0;ot<16;ot++)ee(U[ot+1]);for(var dt=0;dt<=11;dt++)ee(I[dt]);ee(17);for(var Pt=0;Pt<16;Pt++)ee(j[Pt+1]);for(var ut=0;ut<=161;ut++)ee($[ut])}(),ce(65498),ce(12),ee(3),ee(1),ee(0),ee(2),ee(17),ee(3),ee(17),ee(0),ee(63),ee(0);var Z=0,Y=0,X=0;F=0,y=7,this.encode.displayName="_encode_";for(var J,Ae,le,oe,he,Ee,pe,Te,we,te=P.data,ve=P.width,ie=P.height,fe=4*ve,Ie=0;Ie<ie;){for(J=0;J<fe;){for(he=fe*Ie+J,pe=-1,Te=0,we=0;we<64;we++)Ee=he+(Te=we>>3)*fe+(pe=4*(7&we)),Ie+Te>=ie&&(Ee-=fe*(Ie+1+Te-ie)),J+pe>=fe&&(Ee-=J+pe-fe+4),Ae=te[Ee++],le=te[Ee++],oe=te[Ee++],x[we]=(G[Ae]+G[le+256>>0]+G[oe+512>>0]>>16)-128,S[we]=(G[Ae+768>>0]+G[le+1024>>0]+G[oe+1280>>0]>>16)-128,D[we]=(G[Ae+1280>>0]+G[le+1536>>0]+G[oe+1792>>0]>>16)-128;Z=ye(x,c,Z,e,n),Y=ye(S,h,Y,r,s),X=ye(D,h,X,r,s),J+=32}Ie+=8}if(y>=0){var Ve=[];Ve[1]=y+1,Ve[0]=(1<<y+1)-1,ne(Ve)}return ce(65497),new Uint8Array(b)},t=t||50,function(){for(var P=String.fromCharCode,q=0;q<256;q++)V[q]=P(q)}(),e=ae(_,k),r=ae(U,I),n=ae(N,E),s=ae(j,$),function(){for(var P=1,q=2,Z=1;Z<=15;Z++){for(var Y=P;Y<q;Y++)g[32767+Y]=Z,f[32767+Y]=[],f[32767+Y][1]=Z,f[32767+Y][0]=Y;for(var X=-(q-1);X<=-P;X++)g[32767+X]=Z,f[32767+X]=[],f[32767+X][1]=Z,f[32767+X][0]=q-1+X;P<<=1,q<<=1}}(),function(){for(var P=0;P<256;P++)G[P]=19595*P,G[P+256>>0]=38470*P,G[P+512>>0]=7471*P+32768,G[P+768>>0]=-11059*P,G[P+1024>>0]=-21709*P,G[P+1280>>0]=32768*P+8421375,G[P+1536>>0]=-27439*P,G[P+1792>>0]=-5329*P}(),_e(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ni(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function QC(t){function e(_){if(!_)throw Error("assert :P")}function r(_,k,N){for(var E=0;4>E;E++)if(_[k+E]!=N.charCodeAt(E))return!0;return!1}function n(_,k,N,E,U){for(var I=0;I<U;I++)_[k+I]=N[E+I]}function s(_,k,N,E){for(var U=0;U<E;U++)_[k+U]=N}function i(_){return new Int32Array(_)}function A(_,k){for(var N=[],E=0;E<_;E++)N.push(new k);return N}function a(_,k){var N=[];return function E(U,I,j){for(var $=j[I],ae=0;ae<$&&(U.push(j.length>I+1?[]:new k),!(j.length<I+1));ae++)E(U[ae],I+1,j)}(N,0,_),N}var o=function(){var _=this;function k(u,p){for(var w=1<<p-1>>>0;u&w;)w>>>=1;return w?(u&w-1)+w:u}function N(u,p,w,T,O){e(!(T%w));do u[p+(T-=w)]=O;while(0<T)}function E(u,p,w,T,O){if(e(2328>=O),512>=O)var H=i(512);else if((H=i(O))==null)return 0;return function(M,z,W,re,me,Se){var Ne,Ce,Pe=z,ke=1<<W,ge=i(16),xe=i(16);for(e(me!=0),e(re!=null),e(M!=null),e(0<W),Ce=0;Ce<me;++Ce){if(15<re[Ce])return 0;++ge[re[Ce]]}if(ge[0]==me)return 0;for(xe[1]=0,Ne=1;15>Ne;++Ne){if(ge[Ne]>1<<Ne)return 0;xe[Ne+1]=xe[Ne]+ge[Ne]}for(Ce=0;Ce<me;++Ce)Ne=re[Ce],0<re[Ce]&&(Se[xe[Ne]++]=Ce);if(xe[15]==1)return(re=new U).g=0,re.value=Se[0],N(M,Pe,1,ke,re),ke;var Le,Oe=-1,je=ke-1,rt=0,$e=1,ft=1,Xe=1<<W;for(Ce=0,Ne=1,me=2;Ne<=W;++Ne,me<<=1){if($e+=ft<<=1,0>(ft-=ge[Ne]))return 0;for(;0<ge[Ne];--ge[Ne])(re=new U).g=Ne,re.value=Se[Ce++],N(M,Pe+rt,me,Xe,re),rt=k(rt,Ne)}for(Ne=W+1,me=2;15>=Ne;++Ne,me<<=1){if($e+=ft<<=1,0>(ft-=ge[Ne]))return 0;for(;0<ge[Ne];--ge[Ne]){if(re=new U,(rt&je)!=Oe){for(Pe+=Xe,Le=1<<(Oe=Ne)-W;15>Oe&&!(0>=(Le-=ge[Oe]));)++Oe,Le<<=1;ke+=Xe=1<<(Le=Oe-W),M[z+(Oe=rt&je)].g=Le+W,M[z+Oe].value=Pe-z-Oe}re.g=Ne-W,re.value=Se[Ce++],N(M,Pe+(rt>>W),me,Xe,re),rt=k(rt,Ne)}}return $e!=2*xe[15]-1?0:ke}(u,p,w,T,O,H)}function U(){this.value=this.g=0}function I(){this.value=this.g=0}function j(){this.G=A(5,U),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=A(Bn,I)}function $(u,p,w,T){e(u!=null),e(p!=null),e(2147483648>T),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=p,u.pa=w,u.Jd=p,u.Yc=w+T,u.Zc=4<=T?w+T-4+1:w,J(u)}function ae(u,p){for(var w=0;0<p--;)w|=le(u,128)<<p;return w}function ne(u,p){var w=ae(u,p);return Ae(u)?-w:w}function ee(u,p,w,T){var O,H=0;for(e(u!=null),e(p!=null),e(4294967288>T),u.Sb=T,u.Ra=0,u.u=0,u.h=0,4<T&&(T=4),O=0;O<T;++O)H+=p[w+O]<<8*O;u.Ra=H,u.bb=T,u.oa=p,u.pa=w}function ce(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<pc-8>>>0,++u.bb,u.u-=8;Z(u)&&(u.h=1,u.u=0)}function ye(u,p){if(e(0<=p),!u.h&&p<=fc){var w=q(u)&hc[p];return u.u+=p,ce(u),w}return u.h=1,u.u=0}function _e(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function P(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function q(u){return u.Ra>>>(u.u&pc-1)>>>0}function Z(u){return e(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>pc}function Y(u,p){u.u=p,u.h=Z(u)}function X(u){u.u>=td&&(e(u.u>=td),ce(u))}function J(u){e(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(e(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function Ae(u){return ae(u,1)}function le(u,p){var w=u.Ca;0>u.b&&J(u);var T=u.b,O=w*p>>>8,H=(u.I>>>T>O)+0;for(H?(w-=O,u.I-=O+1<<T>>>0):w=O+1,T=w,O=0;256<=T;)O+=8,T>>=8;return T=7^O+gs[T],u.b-=T,u.Ca=(w<<T)-1,H}function oe(u,p,w){u[p+0]=w>>24&255,u[p+1]=w>>16&255,u[p+2]=w>>8&255,u[p+3]=w>>0&255}function he(u,p){return u[p+0]<<0|u[p+1]<<8}function Ee(u,p){return he(u,p)|u[p+2]<<16}function pe(u,p){return he(u,p)|he(u,p+2)<<16}function Te(u,p){var w=1<<p;return e(u!=null),e(0<p),u.X=i(w),u.X==null?0:(u.Mb=32-p,u.Xa=p,1)}function we(u,p){e(u!=null),e(p!=null),e(u.Xa==p.Xa),n(p.X,0,u.X,0,1<<p.Xa)}function te(){this.X=[],this.Xa=this.Mb=0}function ve(u,p,w,T){e(w!=null),e(T!=null);var O=w[0],H=T[0];return O==0&&(O=(u*H+p/2)/p),H==0&&(H=(p*O+u/2)/u),0>=O||0>=H?0:(w[0]=O,T[0]=H,1)}function ie(u,p){return u+(1<<p)-1>>>p}function fe(u,p){return((4278255360&u)+(4278255360&p)>>>0&4278255360)+((16711935&u)+(16711935&p)>>>0&16711935)>>>0}function Ie(u,p){_[p]=function(w,T,O,H,M,z,W){var re;for(re=0;re<M;++re){var me=_[u](z[W+re-1],O,H+re);z[W+re]=fe(w[T+re],me)}}}function Ve(){this.ud=this.hd=this.jd=0}function ze(u,p){return((4278124286&(u^p))>>>1)+(u&p)>>>0}function tt(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function lt(u,p){return tt(u+(u-p+.5>>1))}function wt(u,p,w){return Math.abs(p-w)-Math.abs(u-w)}function ot(u,p,w,T,O,H,M){for(T=H[M-1],w=0;w<O;++w)H[M+w]=T=fe(u[p+w],T)}function dt(u,p,w,T,O){var H;for(H=0;H<w;++H){var M=u[p+H],z=M>>8&255,W=16711935&(W=(W=16711935&M)+((z<<16)+z));T[O+H]=(4278255360&M)+W>>>0}}function Pt(u,p){p.jd=u>>0&255,p.hd=u>>8&255,p.ud=u>>16&255}function ut(u,p,w,T,O,H){var M;for(M=0;M<T;++M){var z=p[w+M],W=z>>>8,re=z,me=255&(me=(me=z>>>16)+((u.jd<<24>>24)*(W<<24>>24)>>>5));re=255&(re=(re=re+((u.hd<<24>>24)*(W<<24>>24)>>>5))+((u.ud<<24>>24)*(me<<24>>24)>>>5)),O[H+M]=(4278255360&z)+(me<<16)+re}}function St(u,p,w,T,O){_[p]=function(H,M,z,W,re,me,Se,Ne,Ce){for(W=Se;W<Ne;++W)for(Se=0;Se<Ce;++Se)re[me++]=O(z[T(H[M++])])},_[u]=function(H,M,z,W,re,me,Se){var Ne=8>>H.b,Ce=H.Ea,Pe=H.K[0],ke=H.w;if(8>Ne)for(H=(1<<H.b)-1,ke=(1<<Ne)-1;M<z;++M){var ge,xe=0;for(ge=0;ge<Ce;++ge)ge&H||(xe=T(W[re++])),me[Se++]=O(Pe[xe&ke]),xe>>=Ne}else _["VP8LMapColor"+w](W,re,Pe,ke,me,Se,M,z,Ce)}}function Ye(u,p,w,T,O){for(w=p+w;p<w;){var H=u[p++];T[O++]=H>>16&255,T[O++]=H>>8&255,T[O++]=H>>0&255}}function Cr(u,p,w,T,O){for(w=p+w;p<w;){var H=u[p++];T[O++]=H>>16&255,T[O++]=H>>8&255,T[O++]=H>>0&255,T[O++]=H>>24&255}}function Qt(u,p,w,T,O){for(w=p+w;p<w;){var H=(M=u[p++])>>16&240|M>>12&15,M=M>>0&240|M>>28&15;T[O++]=H,T[O++]=M}}function Un(u,p,w,T,O){for(w=p+w;p<w;){var H=(M=u[p++])>>16&248|M>>13&7,M=M>>5&224|M>>3&31;T[O++]=H,T[O++]=M}}function Vt(u,p,w,T,O){for(w=p+w;p<w;){var H=u[p++];T[O++]=H>>0&255,T[O++]=H>>8&255,T[O++]=H>>16&255}}function Zt(u,p,w,T,O,H){if(H==0)for(w=p+w;p<w;)oe(T,((H=u[p++])[0]>>24|H[1]>>8&65280|H[2]<<8&16711680|H[3]<<24)>>>0),O+=32;else n(T,O,u,p,w)}function es(u,p){_[p][0]=_[u+"0"],_[p][1]=_[u+"1"],_[p][2]=_[u+"2"],_[p][3]=_[u+"3"],_[p][4]=_[u+"4"],_[p][5]=_[u+"5"],_[p][6]=_[u+"6"],_[p][7]=_[u+"7"],_[p][8]=_[u+"8"],_[p][9]=_[u+"9"],_[p][10]=_[u+"10"],_[p][11]=_[u+"11"],_[p][12]=_[u+"12"],_[p][13]=_[u+"13"],_[p][14]=_[u+"0"],_[p][15]=_[u+"0"]}function Lt(u){return u==x0||u==B0||u==Ef||u==b0}function Ts(){this.eb=[],this.size=this.A=this.fb=0}function Ar(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Yr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ts,this.f.kb=new Ar,this.sd=null}function Qn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Qe(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function De(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function We(u,p){var w=u.T,T=p.ba.f.RGBA,O=T.eb,H=T.fb+u.ka*T.A,M=ni[p.ba.S],z=u.y,W=u.O,re=u.f,me=u.N,Se=u.ea,Ne=u.W,Ce=p.cc,Pe=p.dc,ke=p.Mc,ge=p.Nc,xe=u.ka,Le=u.ka+u.T,Oe=u.U,je=Oe+1>>1;for(xe==0?M(z,W,null,null,re,me,Se,Ne,re,me,Se,Ne,O,H,null,null,Oe):(M(p.ec,p.fc,z,W,Ce,Pe,ke,ge,re,me,Se,Ne,O,H-T.A,O,H,Oe),++w);xe+2<Le;xe+=2)Ce=re,Pe=me,ke=Se,ge=Ne,me+=u.Rc,Ne+=u.Rc,H+=2*T.A,M(z,(W+=2*u.fa)-u.fa,z,W,Ce,Pe,ke,ge,re,me,Se,Ne,O,H-T.A,O,H,Oe);return W+=u.fa,u.j+Le<u.o?(n(p.ec,p.fc,z,W,Oe),n(p.cc,p.dc,re,me,je),n(p.Mc,p.Nc,Se,Ne,je),w--):1&Le||M(z,W,null,null,re,me,Se,Ne,re,me,Se,Ne,O,H+T.A,null,null,Oe),w}function Nt(u,p,w){var T=u.F,O=[u.J];if(T!=null){var H=u.U,M=p.ba.S,z=M==Cf||M==Ef;p=p.ba.f.RGBA;var W=[0],re=u.ka;W[0]=u.T,u.Kb&&(re==0?--W[0]:(--re,O[0]-=u.width),u.j+u.ka+u.T==u.o&&(W[0]=u.o-u.j-re));var me=p.eb;re=p.fb+re*p.A,u=pr(T,O[0],u.width,H,W,me,re+(z?0:3),p.A),e(w==W),u&&Lt(M)&&ti(me,re,z,H,W,p.A)}return 0}function kt(u){var p=u.ma,w=p.ba.S,T=11>w,O=w==Bf||w==bf||w==Cf||w==w0||w==12||Lt(w);if(p.memory=null,p.Ib=null,p.Jb=null,p.Nd=null,!Zu(p.Oa,u,O?11:12))return 0;if(O&&Lt(w)&&He(),u.da)alert("todo:use_scaling");else{if(T){if(p.Ib=De,u.Kb){if(w=u.U+1>>1,p.memory=i(u.U+2*w),p.memory==null)return 0;p.ec=p.memory,p.fc=0,p.cc=p.ec,p.dc=p.fc+u.U,p.Mc=p.cc,p.Nc=p.dc+w,p.Ib=We,He()}}else alert("todo:EmitYUV");O&&(p.Jb=Nt,T&&be())}if(T&&!px){for(u=0;256>u;++u)xF[u]=89858*(u-128)+If>>_f,CF[u]=-22014*(u-128)+If,bF[u]=-45773*(u-128),BF[u]=113618*(u-128)+If>>_f;for(u=od;u<_0;++u)p=76283*(u-16)+If>>_f,EF[u-od]=Jt(p,255),_F[u-od]=Jt(p+8>>4,15);px=1}return 1}function ht(u){var p=u.ma,w=u.U,T=u.T;return e(!(1&u.ka)),0>=w||0>=T?0:(w=p.Ib(u,p),p.Jb!=null&&p.Jb(u,p,w),p.Dc+=w,1)}function Ut(u){u.ma.memory=null}function Ze(u,p,w,T){return ye(u,8)!=47?0:(p[0]=ye(u,14)+1,w[0]=ye(u,14)+1,T[0]=ye(u,1),ye(u,3)!=0?0:!u.h)}function Jr(u,p){if(4>u)return u+1;var w=u-2>>1;return(2+(1&u)<<w)+ye(p,w)+1}function Tr(u,p){return 120<p?p-120:1<=(w=((w=aF[p-1])>>4)*u+(8-(15&w)))?w:1;var w}function hr(u,p,w){var T=q(w),O=u[p+=255&T].g-8;return 0<O&&(Y(w,w.u+8),T=q(w),p+=u[p].value,p+=T&(1<<O)-1),Y(w,w.u+u[p].g),u[p].value}function Dr(u,p,w){return w.g+=u.g,w.value+=u.value<<p>>>0,e(8>=w.g),u.g}function kr(u,p,w){var T=u.xc;return e((p=T==0?0:u.vc[u.md*(w>>T)+(p>>T)])<u.Wb),u.Ya[p]}function Xr(u,p,w,T){var O=u.ab,H=u.c*p,M=u.C;p=M+p;var z=w,W=T;for(T=u.Ta,w=u.Ua;0<O--;){var re=u.gc[O],me=M,Se=p,Ne=z,Ce=W,Pe=(W=T,z=w,re.Ea);switch(e(me<Se),e(Se<=re.nc),re.hc){case 2:pf(Ne,Ce,(Se-me)*Pe,W,z);break;case 0:var ke=me,ge=Se,xe=W,Le=z,Oe=(Xe=re).Ea;ke==0&&(v0(Ne,Ce,null,null,1,xe,Le),ot(Ne,Ce+1,0,0,Oe-1,xe,Le+1),Ce+=Oe,Le+=Oe,++ke);for(var je=1<<Xe.b,rt=je-1,$e=ie(Oe,Xe.b),ft=Xe.K,Xe=Xe.w+(ke>>Xe.b)*$e;ke<ge;){var $t=ft,tr=Xe,zt=1;for(rd(Ne,Ce,xe,Le-Oe,1,xe,Le);zt<Oe;){var Rt=(zt&~rt)+je;Rt>Oe&&(Rt=Oe),(0,La[$t[tr++]>>8&15])(Ne,Ce+ +zt,xe,Le+zt-Oe,Rt-zt,xe,Le+zt),zt=Rt}Ce+=Oe,Le+=Oe,++ke&rt||(Xe+=$e)}Se!=re.nc&&n(W,z-Pe,W,z+(Se-me-1)*Pe,Pe);break;case 1:for(Pe=Ne,ge=Ce,Oe=(Ne=re.Ea)-(Le=Ne&~(xe=(Ce=1<<re.b)-1)),ke=ie(Ne,re.b),je=re.K,re=re.w+(me>>re.b)*ke;me<Se;){for(rt=je,$e=re,ft=new Ve,Xe=ge+Le,$t=ge+Ne;ge<Xe;)Pt(rt[$e++],ft),ul(ft,Pe,ge,Ce,W,z),ge+=Ce,z+=Ce;ge<$t&&(Pt(rt[$e++],ft),ul(ft,Pe,ge,Oe,W,z),ge+=Oe,z+=Oe),++me&xe||(re+=ke)}break;case 3:if(Ne==W&&Ce==z&&0<re.b){for(ge=W,Ne=Pe=z+(Se-me)*Pe-(Le=(Se-me)*ie(re.Ea,re.b)),Ce=W,xe=z,ke=[],Le=(Oe=Le)-1;0<=Le;--Le)ke[Le]=Ce[xe+Le];for(Le=Oe-1;0<=Le;--Le)ge[Ne+Le]=ke[Le];Xs(re,me,Se,W,Pe,W,z)}else Xs(re,me,Se,Ne,Ce,W,z)}z=T,W=w}W!=w&&n(T,w,z,W,H)}function ga(u,p){var w=u.V,T=u.Ba+u.c*u.C,O=p-u.C;if(e(p<=u.l.o),e(16>=O),0<O){var H=u.l,M=u.Ta,z=u.Ua,W=H.width;if(Xr(u,O,w,T),O=z=[z],e((w=u.C)<(T=p)),e(H.v<H.va),T>H.o&&(T=H.o),w<H.j){var re=H.j-w;w=H.j,O[0]+=re*W}if(w>=T?w=0:(O[0]+=4*H.v,H.ka=w-H.j,H.U=H.va-H.v,H.T=T-w,w=1),w){if(z=z[0],11>(w=u.ca).S){var me=w.f.RGBA,Se=(T=w.S,O=H.U,H=H.T,re=me.eb,me.A),Ne=H;for(me=me.fb+u.Ma*me.A;0<Ne--;){var Ce=M,Pe=z,ke=O,ge=re,xe=me;switch(T){case xf:vs(Ce,Pe,ke,ge,xe);break;case Bf:ss(Ce,Pe,ke,ge,xe);break;case x0:ss(Ce,Pe,ke,ge,xe),ti(ge,xe,0,ke,1,0);break;case ix:LA(Ce,Pe,ke,ge,xe);break;case bf:Zt(Ce,Pe,ke,ge,xe,1);break;case B0:Zt(Ce,Pe,ke,ge,xe,1),ti(ge,xe,0,ke,1,0);break;case Cf:Zt(Ce,Pe,ke,ge,xe,0);break;case Ef:Zt(Ce,Pe,ke,ge,xe,0),ti(ge,xe,1,ke,1,0);break;case w0:ja(Ce,Pe,ke,ge,xe);break;case b0:ja(Ce,Pe,ke,ge,xe),fr(ge,xe,ke,1,0);break;case Ax:QA(Ce,Pe,ke,ge,xe);break;default:e(0)}z+=W,me+=Se}u.Ma+=H}else alert("todo:EmitRescaledRowsYUVA");e(u.Ma<=w.height)}}u.C=p,e(u.C<=u.i)}function mi(u){var p;if(0<u.ua)return 0;for(p=0;p<u.Wb;++p){var w=u.Ya[p].G,T=u.Ya[p].H;if(0<w[1][T[1]+0].g||0<w[2][T[2]+0].g||0<w[3][T[3]+0].g)return 0}return 1}function Ln(u,p,w,T,O,H){if(u.Z!=0){var M=u.qd,z=u.rd;for(e(Oa[u.Z]!=null);p<w;++p)Oa[u.Z](M,z,T,O,T,O,H),M=T,z=O,O+=H;u.qd=M,u.rd=z}}function ps(u,p){var w=u.l.ma,T=w.Z==0||w.Z==1?u.l.j:u.C;if(T=u.C<T?T:u.C,e(p<=u.l.o),p>T){var O=u.l.width,H=w.ca,M=w.tb+O*T,z=u.V,W=u.Ba+u.c*T,re=u.gc;e(u.ab==1),e(re[0].hc==3),mf(re[0],T,p,z,W,H,M),Ln(w,T,p,H,M,O)}u.C=u.Ma=p}function ts(u,p,w,T,O,H,M){var z=u.$/T,W=u.$%T,re=u.m,me=u.s,Se=w+u.$,Ne=Se;O=w+T*O;var Ce=w+T*H,Pe=280+me.ua,ke=u.Pb?z:16777216,ge=0<me.ua?me.Wa:null,xe=me.wc,Le=Se<Ce?kr(me,W,z):null;e(u.C<H),e(Ce<=O);var Oe=!1;e:for(;;){for(;Oe||Se<Ce;){var je=0;if(z>=ke){var rt=Se-w;e((ke=u).Pb),ke.wd=ke.m,ke.xd=rt,0<ke.s.ua&&we(ke.s.Wa,ke.s.vb),ke=z+lF}if(W&xe||(Le=kr(me,W,z)),e(Le!=null),Le.Qb&&(p[Se]=Le.qb,Oe=!0),!Oe)if(X(re),Le.jc){je=re,rt=p;var $e=Se,ft=Le.pd[q(je)&Bn-1];e(Le.jc),256>ft.g?(Y(je,je.u+ft.g),rt[$e]=ft.value,je=0):(Y(je,je.u+ft.g-256),e(256<=ft.value),je=ft.value),je==0&&(Oe=!0)}else je=hr(Le.G[0],Le.H[0],re);if(re.h)break;if(Oe||256>je){if(!Oe)if(Le.nd)p[Se]=(Le.qb|je<<8)>>>0;else{if(X(re),Oe=hr(Le.G[1],Le.H[1],re),X(re),rt=hr(Le.G[2],Le.H[2],re),$e=hr(Le.G[3],Le.H[3],re),re.h)break;p[Se]=($e<<24|Oe<<16|je<<8|rt)>>>0}if(Oe=!1,++Se,++W>=T&&(W=0,++z,M!=null&&z<=H&&!(z%16)&&M(u,z),ge!=null))for(;Ne<Se;)je=p[Ne++],ge.X[(506832829*je&4294967295)>>>ge.Mb]=je}else if(280>je){if(je=Jr(je-256,re),rt=hr(Le.G[4],Le.H[4],re),X(re),rt=Tr(T,rt=Jr(rt,re)),re.h)break;if(Se-w<rt||O-Se<je)break e;for($e=0;$e<je;++$e)p[Se+$e]=p[Se+$e-rt];for(Se+=je,W+=je;W>=T;)W-=T,++z,M!=null&&z<=H&&!(z%16)&&M(u,z);if(e(Se<=O),W&xe&&(Le=kr(me,W,z)),ge!=null)for(;Ne<Se;)je=p[Ne++],ge.X[(506832829*je&4294967295)>>>ge.Mb]=je}else{if(!(je<Pe))break e;for(Oe=je-280,e(ge!=null);Ne<Se;)je=p[Ne++],ge.X[(506832829*je&4294967295)>>>ge.Mb]=je;je=Se,e(!(Oe>>>(rt=ge).Xa)),p[je]=rt.X[Oe],Oe=!0}Oe||e(re.h==Z(re))}if(u.Pb&&re.h&&Se<O)e(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&we(u.s.vb,u.s.Wa);else{if(re.h)break e;M!=null&&M(u,z>H?H:z),u.a=0,u.$=Se-w}return 1}return u.a=3,0}function rs(u){e(u!=null),u.vc=null,u.yc=null,u.Ya=null;var p=u.Wa;p!=null&&(p.X=null),u.vb=null,e(u!=null)}function Rr(){var u=new uc;return u==null?null:(u.a=0,u.xb=lx,es("Predictor","VP8LPredictors"),es("Predictor","VP8LPredictors_C"),es("PredictorAdd","VP8LPredictorsAdd"),es("PredictorAdd","VP8LPredictorsAdd_C"),pf=dt,ul=ut,vs=Ye,ss=Cr,ja=Qt,QA=Un,LA=Vt,_.VP8LMapColor32b=mc,_.VP8LMapColor8b=gf,u)}function ks(u,p,w,T,O){var H=1,M=[u],z=[p],W=T.m,re=T.s,me=null,Se=0;e:for(;;){if(w)for(;H&&ye(W,1);){var Ne=M,Ce=z,Pe=T,ke=1,ge=Pe.m,xe=Pe.gc[Pe.ab],Le=ye(ge,2);if(Pe.Oc&1<<Le)H=0;else{switch(Pe.Oc|=1<<Le,xe.hc=Le,xe.Ea=Ne[0],xe.nc=Ce[0],xe.K=[null],++Pe.ab,e(4>=Pe.ab),Le){case 0:case 1:xe.b=ye(ge,3)+2,ke=ks(ie(xe.Ea,xe.b),ie(xe.nc,xe.b),0,Pe,xe.K),xe.K=xe.K[0];break;case 3:var Oe,je=ye(ge,8)+1,rt=16<je?0:4<je?1:2<je?2:3;if(Ne[0]=ie(xe.Ea,rt),xe.b=rt,Oe=ke=ks(je,1,0,Pe,xe.K)){var $e,ft=je,Xe=xe,$t=1<<(8>>Xe.b),tr=i($t);if(tr==null)Oe=0;else{var zt=Xe.K[0],Rt=Xe.w;for(tr[0]=Xe.K[0][0],$e=1;$e<1*ft;++$e)tr[$e]=fe(zt[Rt+$e],tr[$e-1]);for(;$e<4*$t;++$e)tr[$e]=0;Xe.K[0]=null,Xe.K[0]=tr,Oe=1}}ke=Oe;break;case 2:break;default:e(0)}H=ke}}if(M=M[0],z=z[0],H&&ye(W,1)&&!(H=1<=(Se=ye(W,4))&&11>=Se)){T.a=3;break e}var cr;if(cr=H)t:{var ar,Ft,Zr,ys=T,en=M,ws=z,rr=Se,Ps=w,Ds=ys.m,hn=ys.s,bn=[null],As=1,si=0,iA=oF[rr];r:for(;;){if(Ps&&ye(Ds,1)){var fn=ye(Ds,3)+2,RA=ie(en,fn),ml=ie(ws,fn),xc=RA*ml;if(!ks(RA,ml,0,ys,bn))break r;for(bn=bn[0],hn.xc=fn,ar=0;ar<xc;++ar){var Ha=bn[ar]>>8&65535;bn[ar]=Ha,Ha>=As&&(As=Ha+1)}}if(Ds.h)break r;for(Ft=0;5>Ft;++Ft){var Qr=ax[Ft];!Ft&&0<rr&&(Qr+=1<<rr),si<Qr&&(si=Qr)}var I0=A(As*iA,U),vx=As,yx=A(vx,j);if(yx==null)var Nf=null;else e(65536>=vx),Nf=yx;var ld=i(si);if(Nf==null||ld==null||I0==null){ys.a=1;break r}var Ff=I0;for(ar=Zr=0;ar<As;++ar){var _i=Nf[ar],Bc=_i.G,bc=_i.H,wx=0,Tf=1,xx=0;for(Ft=0;5>Ft;++Ft){Qr=ax[Ft],Bc[Ft]=Ff,bc[Ft]=Zr,!Ft&&0<rr&&(Qr+=1<<rr);s:{var kf,S0=Qr,Uf=ys,cd=ld,NF=Ff,FF=Zr,N0=0,Ma=Uf.m,TF=ye(Ma,1);if(s(cd,0,0,S0),TF){var kF=ye(Ma,1)+1,UF=ye(Ma,1),Bx=ye(Ma,UF==0?1:8);cd[Bx]=1,kF==2&&(cd[Bx=ye(Ma,8)]=1);var Qf=1}else{var bx=i(19),Cx=ye(Ma,4)+4;if(19<Cx){Uf.a=3;var Lf=0;break s}for(kf=0;kf<Cx;++kf)bx[AF[kf]]=ye(Ma,3);var F0=void 0,ud=void 0,Ex=Uf,QF=bx,jf=S0,_x=cd,T0=0,Va=Ex.m,Ix=8,Sx=A(128,U);n:for(;E(Sx,0,7,QF,19);){if(ye(Va,1)){var LF=2+2*ye(Va,3);if((F0=2+ye(Va,LF))>jf)break n}else F0=jf;for(ud=0;ud<jf&&F0--;){X(Va);var Nx=Sx[0+(127&q(Va))];Y(Va,Va.u+Nx.g);var Cc=Nx.value;if(16>Cc)_x[ud++]=Cc,Cc!=0&&(Ix=Cc);else{var jF=Cc==16,Fx=Cc-16,PF=sF[Fx],Tx=ye(Va,nF[Fx])+PF;if(ud+Tx>jf)break n;for(var DF=jF?Ix:0;0<Tx--;)_x[ud++]=DF}}T0=1;break n}T0||(Ex.a=3),Qf=T0}(Qf=Qf&&!Ma.h)&&(N0=E(NF,FF,8,cd,S0)),Qf&&N0!=0?Lf=N0:(Uf.a=3,Lf=0)}if(Lf==0)break r;if(Tf&&iF[Ft]==1&&(Tf=Ff[Zr].g==0),wx+=Ff[Zr].g,Zr+=Lf,3>=Ft){var dd,k0=ld[0];for(dd=1;dd<Qr;++dd)ld[dd]>k0&&(k0=ld[dd]);xx+=k0}}if(_i.nd=Tf,_i.Qb=0,Tf&&(_i.qb=(Bc[3][bc[3]+0].value<<24|Bc[1][bc[1]+0].value<<16|Bc[2][bc[2]+0].value)>>>0,wx==0&&256>Bc[0][bc[0]+0].value&&(_i.Qb=1,_i.qb+=Bc[0][bc[0]+0].value<<8)),_i.jc=!_i.Qb&&6>xx,_i.jc){var Pf,OA=_i;for(Pf=0;Pf<Bn;++Pf){var Ka=Pf,za=OA.pd[Ka],Df=OA.G[0][OA.H[0]+Ka];256<=Df.value?(za.g=Df.g+256,za.value=Df.value):(za.g=0,za.value=0,Ka>>=Dr(Df,8,za),Ka>>=Dr(OA.G[1][OA.H[1]+Ka],16,za),Ka>>=Dr(OA.G[2][OA.H[2]+Ka],0,za),Dr(OA.G[3][OA.H[3]+Ka],24,za))}}}hn.vc=bn,hn.Wb=As,hn.Ya=Nf,hn.yc=I0,cr=1;break t}cr=0}if(!(H=cr)){T.a=3;break e}if(0<Se){if(re.ua=1<<Se,!Te(re.Wa,Se)){T.a=1,H=0;break e}}else re.ua=0;var U0=T,kx=M,RF=z,Q0=U0.s,L0=Q0.xc;if(U0.c=kx,U0.i=RF,Q0.md=ie(kx,L0),Q0.wc=L0==0?-1:(1<<L0)-1,w){T.xb=mF;break e}if((me=i(M*z))==null){T.a=1,H=0;break e}H=(H=ts(T,me,0,M,z,z,null))&&!W.h;break e}return H?(O!=null?O[0]=me:(e(me==null),e(w)),T.$=0,w||rs(re)):rs(re),H}function qi(u,p){var w=u.c*u.i,T=w+p+16*p;return e(u.c<=p),u.V=i(T),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+w+p,1)}function Wi(u,p){var w=u.C,T=p-w,O=u.V,H=u.Ba+u.c*w;for(e(p<=u.l.o);0<T;){var M=16<T?16:T,z=u.l.ma,W=u.l.width,re=W*M,me=z.ca,Se=z.tb+W*w,Ne=u.Ta,Ce=u.Ua;Xr(u,M,O,H),Hr(Ne,Ce,me,Se,re),Ln(z,w,w+M,me,Se,W),T-=M,O+=M*u.c,w+=M}e(w==p),u.C=u.Ma=p}function $i(){this.ub=this.yd=this.td=this.Rb=0}function bA(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function CA(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function tc(){this.Yb=function(){var u=[];return function p(w,T,O){for(var H=O[T],M=0;M<H&&(w.push(O.length>T+1?[]:0),!(O.length<T+1));M++)p(w[M],T+1,O)}(u,0,[3,11]),u}()}function va(){this.jb=i(3),this.Wc=a([4,8],tc),this.Xc=a([4,17],tc)}function rc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Yi(){this.ld=this.La=this.dd=this.tc=0}function Ji(){this.Na=this.la=0}function gi(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function EA(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function $u(){this.uc=this.M=this.Nb=0,this.wa=Array(new Yi),this.Y=0,this.ya=Array(new EA),this.aa=0,this.l=new _A}function Jo(){this.y=i(16),this.f=i(8),this.ea=i(8)}function nc(){this.cb=this.a=0,this.sc="",this.m=new _e,this.Od=new $i,this.Kc=new bA,this.ed=new rc,this.Qa=new CA,this.Ic=this.$c=this.Aa=0,this.D=new $u,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=A(8,_e),this.ia=0,this.pb=A(4,gi),this.Pa=new va,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Jo),this.Hd=0,this.rb=Array(new Ji),this.sb=0,this.wa=Array(new Yi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new EA),this.L=this.aa=0,this.gd=a([4,2],Yi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function _A(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Xo(){var u=new nc;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,ad||(ad=sc)),u}function vr(u,p,w){return u.a==0&&(u.a=p,u.sc=w,u.cb=0),0}function Zo(u,p,w){return 3<=w&&u[p+0]==157&&u[p+1]==1&&u[p+2]==42}function el(u,p){if(u==null)return 0;if(u.a=0,u.sc="OK",p==null)return vr(u,2,"null VP8Io passed to VP8GetHeaders()");var w=p.data,T=p.w,O=p.ha;if(4>O)return vr(u,7,"Truncated header.");var H=w[T+0]|w[T+1]<<8|w[T+2]<<16,M=u.Od;if(M.Rb=!(1&H),M.td=H>>1&7,M.yd=H>>4&1,M.ub=H>>5,3<M.td)return vr(u,3,"Incorrect keyframe parameters.");if(!M.yd)return vr(u,4,"Frame not displayable.");T+=3,O-=3;var z=u.Kc;if(M.Rb){if(7>O)return vr(u,7,"cannot parse picture header");if(!Zo(w,T,O))return vr(u,3,"Bad code word");z.c=16383&(w[T+4]<<8|w[T+3]),z.Td=w[T+4]>>6,z.i=16383&(w[T+6]<<8|w[T+5]),z.Ud=w[T+6]>>6,T+=7,O-=7,u.za=z.c+15>>4,u.Ub=z.i+15>>4,p.width=z.c,p.height=z.i,p.Da=0,p.j=0,p.v=0,p.va=p.width,p.o=p.height,p.da=0,p.ib=p.width,p.hb=p.height,p.U=p.width,p.T=p.height,s((H=u.Pa).jb,0,255,H.jb.length),e((H=u.Qa)!=null),H.Cb=0,H.Bb=0,H.Fb=1,s(H.Zb,0,0,H.Zb.length),s(H.Lb,0,0,H.Lb)}if(M.ub>O)return vr(u,7,"bad partition length");$(H=u.m,w,T,M.ub),T+=M.ub,O-=M.ub,M.Rb&&(z.Ld=Ae(H),z.Kd=Ae(H)),z=u.Qa;var W,re=u.Pa;if(e(H!=null),e(z!=null),z.Cb=Ae(H),z.Cb){if(z.Bb=Ae(H),Ae(H)){for(z.Fb=Ae(H),W=0;4>W;++W)z.Zb[W]=Ae(H)?ne(H,7):0;for(W=0;4>W;++W)z.Lb[W]=Ae(H)?ne(H,6):0}if(z.Bb)for(W=0;3>W;++W)re.jb[W]=Ae(H)?ae(H,8):255}else z.Bb=0;if(H.Ka)return vr(u,3,"cannot parse segment header");if((z=u.ed).zd=Ae(H),z.Tb=ae(H,6),z.wb=ae(H,3),z.Pc=Ae(H),z.Pc&&Ae(H)){for(re=0;4>re;++re)Ae(H)&&(z.vd[re]=ne(H,6));for(re=0;4>re;++re)Ae(H)&&(z.od[re]=ne(H,6))}if(u.L=z.Tb==0?0:z.zd?1:2,H.Ka)return vr(u,3,"cannot parse filter header");var me=O;if(O=W=T,T=W+me,z=me,u.Xb=(1<<ae(u.m,2))-1,me<3*(re=u.Xb))w=7;else{for(W+=3*re,z-=3*re,me=0;me<re;++me){var Se=w[O+0]|w[O+1]<<8|w[O+2]<<16;Se>z&&(Se=z),$(u.Jc[+me],w,W,Se),W+=Se,z-=Se,O+=3}$(u.Jc[+re],w,W,z),w=W<T?0:5}if(w!=0)return vr(u,w,"cannot parse partitions");for(w=ae(W=u.m,7),O=Ae(W)?ne(W,4):0,T=Ae(W)?ne(W,4):0,z=Ae(W)?ne(W,4):0,re=Ae(W)?ne(W,4):0,W=Ae(W)?ne(W,4):0,me=u.Qa,Se=0;4>Se;++Se){if(me.Cb){var Ne=me.Zb[Se];me.Fb||(Ne+=w)}else{if(0<Se){u.pb[Se]=u.pb[0];continue}Ne=w}var Ce=u.pb[Se];Ce.Sc[0]=C0[Jt(Ne+O,127)],Ce.Sc[1]=E0[Jt(Ne+0,127)],Ce.Eb[0]=2*C0[Jt(Ne+T,127)],Ce.Eb[1]=101581*E0[Jt(Ne+z,127)]>>16,8>Ce.Eb[1]&&(Ce.Eb[1]=8),Ce.Qc[0]=C0[Jt(Ne+re,117)],Ce.Qc[1]=E0[Jt(Ne+W,127)],Ce.lc=Ne+W}if(!M.Rb)return vr(u,4,"Not a key frame.");for(Ae(H),M=u.Pa,w=0;4>w;++w){for(O=0;8>O;++O)for(T=0;3>T;++T)for(z=0;11>z;++z)re=le(H,fF[w][O][T][z])?ae(H,8):dF[w][O][T][z],M.Wc[w][O].Yb[T][z]=re;for(O=0;17>O;++O)M.Xc[w][O]=M.Wc[w][pF[O]]}return u.kc=Ae(H),u.kc&&(u.Bd=ae(H,8)),u.cb=1}function sc(u,p,w,T,O,H,M){var z=p[O].Yb[w];for(w=0;16>O;++O){if(!le(u,z[w+0]))return O;for(;!le(u,z[w+1]);)if(z=p[++O].Yb[0],w=0,O==16)return 16;var W=p[O+1].Yb;if(le(u,z[w+2])){var re=u,me=0;if(le(re,(Ne=z)[(Se=w)+3]))if(le(re,Ne[Se+6])){for(z=0,Se=2*(me=le(re,Ne[Se+8]))+(Ne=le(re,Ne[Se+9+me])),me=0,Ne=cF[Se];Ne[z];++z)me+=me+le(re,Ne[z]);me+=3+(8<<Se)}else le(re,Ne[Se+7])?(me=7+2*le(re,165),me+=le(re,145)):me=5+le(re,159);else me=le(re,Ne[Se+4])?3+le(re,Ne[Se+5]):2;z=W[2]}else me=1,z=W[1];W=M+uF[O],0>(re=u).b&&J(re);var Se,Ne=re.b,Ce=(Se=re.Ca>>1)-(re.I>>Ne)>>31;--re.b,re.Ca+=Ce,re.Ca|=1,re.I-=(Se+1&Ce)<<Ne,H[W]=((me^Ce)-Ce)*T[(0<O)+0]}return 16}function tl(u){var p=u.rb[u.sb-1];p.la=0,p.Na=0,s(u.zc,0,0,u.zc.length),u.ja=0}function ic(u,p){if(u==null)return 0;if(p==null)return vr(u,2,"NULL VP8Io parameter in VP8Decode().");if(!u.cb&&!el(u,p))return 0;if(e(u.cb),p.ac==null||p.ac(p)){p.ob&&(u.L=0);var w=Sf[u.L];if(u.L==2?(u.yb=0,u.zb=0):(u.yb=p.v-w>>4,u.zb=p.j-w>>4,0>u.yb&&(u.yb=0),0>u.zb&&(u.zb=0)),u.Va=p.o+15+w>>4,u.Hb=p.va+15+w>>4,u.Hb>u.za&&(u.Hb=u.za),u.Va>u.Ub&&(u.Va=u.Ub),0<u.L){var T=u.ed;for(w=0;4>w;++w){var O;if(u.Qa.Cb){var H=u.Qa.Lb[w];u.Qa.Fb||(H+=T.Tb)}else H=T.Tb;for(O=0;1>=O;++O){var M=u.gd[w][O],z=H;if(T.Pc&&(z+=T.vd[0],O&&(z+=T.od[0])),0<(z=0>z?0:63<z?63:z)){var W=z;0<T.wb&&(W=4<T.wb?W>>2:W>>1)>9-T.wb&&(W=9-T.wb),1>W&&(W=1),M.dd=W,M.tc=2*z+W,M.ld=40<=z?2:15<=z?1:0}else M.tc=0;M.La=O}}}w=0}else vr(u,6,"Frame setup failed"),w=u.a;if(w=w==0){if(w){u.$c=0,0<u.Aa||(u.Ic=SF);e:{w=u.Ic,T=4*(W=u.za);var re=32*W,me=W+1,Se=0<u.L?W*(0<u.Aa?2:1):0,Ne=(u.Aa==2?2:1)*W;if((M=T+832+(O=3*(16*w+Sf[u.L])/2*re)+(H=u.Fa!=null&&0<u.Fa.length?u.Kc.c*u.Kc.i:0))!=M)w=0;else{if(M>u.Vb){if(u.Vb=0,u.Ec=i(M),u.Fc=0,u.Ec==null){w=vr(u,1,"no memory during frame initialization.");break e}u.Vb=M}M=u.Ec,z=u.Fc,u.Ac=M,u.Bc=z,z+=T,u.Gd=A(re,Jo),u.Hd=0,u.rb=A(me+1,Ji),u.sb=1,u.wa=Se?A(Se,Yi):null,u.Y=0,u.D.Nb=0,u.D.wa=u.wa,u.D.Y=u.Y,0<u.Aa&&(u.D.Y+=W),e(!0),u.oc=M,u.pc=z,z+=832,u.ya=A(Ne,EA),u.aa=0,u.D.ya=u.ya,u.D.aa=u.aa,u.Aa==2&&(u.D.aa+=W),u.R=16*W,u.B=8*W,W=(re=Sf[u.L])*u.R,re=re/2*u.B,u.sa=M,u.ta=z+W,u.qa=u.sa,u.ra=u.ta+16*w*u.R+re,u.Ha=u.qa,u.Ia=u.ra+8*w*u.B+re,u.$c=0,z+=O,u.mb=H?M:null,u.nb=H?z:null,e(z+H<=u.Fc+u.Vb),tl(u),s(u.Ac,u.Bc,0,T),w=1}}if(w){if(p.ka=0,p.y=u.sa,p.O=u.ta,p.f=u.qa,p.N=u.ra,p.ea=u.Ha,p.Vd=u.Ia,p.fa=u.R,p.Rc=u.B,p.F=null,p.J=0,!yf){for(w=-255;255>=w;++w)ln[255+w]=0>w?-w:w;for(w=-1020;1020>=w;++w)PA[1020+w]=-128>w?-128:127<w?127:w;for(w=-112;112>=w;++w)Ad[112+w]=-16>w?-16:15<w?15:w;for(w=-255;510>=w;++w)wc[255+w]=0>w?0:255<w?255:w;yf=1}gc=NA,jA=wa,nd=rl,is=er,Zs=SA,Or=IA,vc=Ia,vf=Bi,sd=Na,dl=cl,hl=Sa,Pa=TA,fl=Fa,yc=tA,pl=FA,Da=Ls,id=on,ei=cc,Ei[0]=Js,Ei[1]=Yu,Ei[2]=Zi,Ei[3]=Xu,Ei[4]=oc,Ei[5]=ba,Ei[6]=Us,Ei[7]=sl,Ei[8]=Ea,Ei[9]=Ca,Ra[0]=Xi,Ra[1]=Ju,Ra[2]=yi,Ra[3]=xa,Ra[4]=yr,Ra[5]=ac,Ra[6]=nl,DA[0]=xi,DA[1]=Ac,DA[2]=lc,DA[3]=wi,DA[4]=Yt,DA[5]=il,DA[6]=Al,w=1}else w=0}w&&(w=function(Ce,Pe){for(Ce.M=0;Ce.M<Ce.Va;++Ce.M){var ke,ge=Ce.Jc[Ce.M&Ce.Xb],xe=Ce.m,Le=Ce;for(ke=0;ke<Le.za;++ke){var Oe=xe,je=Le,rt=je.Ac,$e=je.Bc+4*ke,ft=je.zc,Xe=je.ya[je.aa+ke];if(je.Qa.Bb?Xe.$b=le(Oe,je.Pa.jb[0])?2+le(Oe,je.Pa.jb[2]):le(Oe,je.Pa.jb[1]):Xe.$b=0,je.kc&&(Xe.Ad=le(Oe,je.Bd)),Xe.Za=!le(Oe,145)+0,Xe.Za){var $t=Xe.Ob,tr=0;for(je=0;4>je;++je){var zt,Rt=ft[0+je];for(zt=0;4>zt;++zt){Rt=hF[rt[$e+zt]][Rt];for(var cr=ox[le(Oe,Rt[0])];0<cr;)cr=ox[2*cr+le(Oe,Rt[cr])];Rt=-cr,rt[$e+zt]=Rt}n($t,tr,rt,$e,4),tr+=4,ft[0+je]=Rt}}else Rt=le(Oe,156)?le(Oe,128)?1:3:le(Oe,163)?2:0,Xe.Ob[0]=Rt,s(rt,$e,Rt,4),s(ft,0,Rt,4);Xe.Dd=le(Oe,142)?le(Oe,114)?le(Oe,183)?1:3:2:0}if(Le.m.Ka)return vr(Ce,7,"Premature end-of-partition0 encountered.");for(;Ce.ja<Ce.za;++Ce.ja){if(Le=ge,Oe=(xe=Ce).rb[xe.sb-1],rt=xe.rb[xe.sb+xe.ja],ke=xe.ya[xe.aa+xe.ja],$e=xe.kc?ke.Ad:0)Oe.la=rt.la=0,ke.Za||(Oe.Na=rt.Na=0),ke.Hc=0,ke.Gc=0,ke.ia=0;else{var ar,Ft;if(Oe=rt,rt=Le,$e=xe.Pa.Xc,ft=xe.ya[xe.aa+xe.ja],Xe=xe.pb[ft.$b],je=ft.ad,$t=0,tr=xe.rb[xe.sb-1],Rt=zt=0,s(je,$t,0,384),ft.Za)var Zr=0,ys=$e[3];else{cr=i(16);var en=Oe.Na+tr.Na;if(en=ad(rt,$e[1],en,Xe.Eb,0,cr,0),Oe.Na=tr.Na=(0<en)+0,1<en)gc(cr,0,je,$t);else{var ws=cr[0]+3>>3;for(cr=0;256>cr;cr+=16)je[$t+cr]=ws}Zr=1,ys=$e[0]}var rr=15&Oe.la,Ps=15&tr.la;for(cr=0;4>cr;++cr){var Ds=1&Ps;for(ws=Ft=0;4>ws;++ws)rr=rr>>1|(Ds=(en=ad(rt,ys,en=Ds+(1&rr),Xe.Sc,Zr,je,$t))>Zr)<<7,Ft=Ft<<2|(3<en?3:1<en?2:je[$t+0]!=0),$t+=16;rr>>=4,Ps=Ps>>1|Ds<<7,zt=(zt<<8|Ft)>>>0}for(ys=rr,Zr=Ps>>4,ar=0;4>ar;ar+=2){for(Ft=0,rr=Oe.la>>4+ar,Ps=tr.la>>4+ar,cr=0;2>cr;++cr){for(Ds=1&Ps,ws=0;2>ws;++ws)en=Ds+(1&rr),rr=rr>>1|(Ds=0<(en=ad(rt,$e[2],en,Xe.Qc,0,je,$t)))<<3,Ft=Ft<<2|(3<en?3:1<en?2:je[$t+0]!=0),$t+=16;rr>>=2,Ps=Ps>>1|Ds<<5}Rt|=Ft<<4*ar,ys|=rr<<4<<ar,Zr|=(240&Ps)<<ar}Oe.la=ys,tr.la=Zr,ft.Hc=zt,ft.Gc=Rt,ft.ia=43690&Rt?0:Xe.ia,$e=!(zt|Rt)}if(0<xe.L&&(xe.wa[xe.Y+xe.ja]=xe.gd[ke.$b][ke.Za],xe.wa[xe.Y+xe.ja].La|=!$e),Le.Ka)return vr(Ce,7,"Premature end-of-file encountered.")}if(tl(Ce),xe=Pe,Le=1,ke=(ge=Ce).D,Oe=0<ge.L&&ge.M>=ge.zb&&ge.M<=ge.Va,ge.Aa==0)e:{if(ke.M=ge.M,ke.uc=Oe,nA(ge,ke),Le=1,ke=(Ft=ge.D).Nb,Oe=(Rt=Sf[ge.L])*ge.R,rt=Rt/2*ge.B,cr=16*ke*ge.R,ws=8*ke*ge.B,$e=ge.sa,ft=ge.ta-Oe+cr,Xe=ge.qa,je=ge.ra-rt+ws,$t=ge.Ha,tr=ge.Ia-rt+ws,Ps=(rr=Ft.M)==0,zt=rr>=ge.Va-1,ge.Aa==2&&nA(ge,Ft),Ft.uc)for(Ds=(en=ge).D.M,e(en.D.uc),Ft=en.yb;Ft<en.Hb;++Ft){Zr=Ft,ys=Ds;var hn=(bn=(Qr=en).D).Nb;ar=Qr.R;var bn=bn.wa[bn.Y+Zr],As=Qr.sa,si=Qr.ta+16*hn*ar+16*Zr,iA=bn.dd,fn=bn.tc;if(fn!=0)if(e(3<=fn),Qr.L==1)0<Zr&&Da(As,si,ar,fn+4),bn.La&&ei(As,si,ar,fn),0<ys&&pl(As,si,ar,fn+4),bn.La&&id(As,si,ar,fn);else{var RA=Qr.B,ml=Qr.qa,xc=Qr.ra+8*hn*RA+8*Zr,Ha=Qr.Ha,Qr=Qr.Ia+8*hn*RA+8*Zr;hn=bn.ld,0<Zr&&(vf(As,si,ar,fn+4,iA,hn),dl(ml,xc,Ha,Qr,RA,fn+4,iA,hn)),bn.La&&(Pa(As,si,ar,fn,iA,hn),yc(ml,xc,Ha,Qr,RA,fn,iA,hn)),0<ys&&(vc(As,si,ar,fn+4,iA,hn),sd(ml,xc,Ha,Qr,RA,fn+4,iA,hn)),bn.La&&(hl(As,si,ar,fn,iA,hn),fl(ml,xc,Ha,Qr,RA,fn,iA,hn))}}if(ge.ia&&alert("todo:DitherRow"),xe.put!=null){if(Ft=16*rr,rr=16*(rr+1),Ps?(xe.y=ge.sa,xe.O=ge.ta+cr,xe.f=ge.qa,xe.N=ge.ra+ws,xe.ea=ge.Ha,xe.W=ge.Ia+ws):(Ft-=Rt,xe.y=$e,xe.O=ft,xe.f=Xe,xe.N=je,xe.ea=$t,xe.W=tr),zt||(rr-=Rt),rr>xe.o&&(rr=xe.o),xe.F=null,xe.J=null,ge.Fa!=null&&0<ge.Fa.length&&Ft<rr&&(xe.J=Qa(ge,xe,Ft,rr-Ft),xe.F=ge.mb,xe.F==null&&xe.F.length==0)){Le=vr(ge,3,"Could not decode alpha data.");break e}Ft<xe.j&&(Rt=xe.j-Ft,Ft=xe.j,e(!(1&Rt)),xe.O+=ge.R*Rt,xe.N+=ge.B*(Rt>>1),xe.W+=ge.B*(Rt>>1),xe.F!=null&&(xe.J+=xe.width*Rt)),Ft<rr&&(xe.O+=xe.v,xe.N+=xe.v>>1,xe.W+=xe.v>>1,xe.F!=null&&(xe.J+=xe.v),xe.ka=Ft-xe.j,xe.U=xe.va-xe.v,xe.T=rr-Ft,Le=xe.put(xe))}ke+1!=ge.Ic||zt||(n(ge.sa,ge.ta-Oe,$e,ft+16*ge.R,Oe),n(ge.qa,ge.ra-rt,Xe,je+8*ge.B,rt),n(ge.Ha,ge.Ia-rt,$t,tr+8*ge.B,rt))}if(!Le)return vr(Ce,6,"Output aborted.")}return 1}(u,p)),p.bc!=null&&p.bc(p),w&=1}return w?(u.cb=0,w):0}function ms(u,p,w,T,O){O=u[p+w+32*T]+(O>>3),u[p+w+32*T]=-256&O?0>O?0:255:O}function ya(u,p,w,T,O,H){ms(u,p,0,w,T+O),ms(u,p,1,w,T+H),ms(u,p,2,w,T-H),ms(u,p,3,w,T-O)}function Ur(u){return(20091*u>>16)+u}function ns(u,p,w,T){var O,H=0,M=i(16);for(O=0;4>O;++O){var z=u[p+0]+u[p+8],W=u[p+0]-u[p+8],re=(35468*u[p+4]>>16)-Ur(u[p+12]),me=Ur(u[p+4])+(35468*u[p+12]>>16);M[H+0]=z+me,M[H+1]=W+re,M[H+2]=W-re,M[H+3]=z-me,H+=4,p++}for(O=H=0;4>O;++O)z=(u=M[H+0]+4)+M[H+8],W=u-M[H+8],re=(35468*M[H+4]>>16)-Ur(M[H+12]),ms(w,T,0,0,z+(me=Ur(M[H+4])+(35468*M[H+12]>>16))),ms(w,T,1,0,W+re),ms(w,T,2,0,W-re),ms(w,T,3,0,z-me),H++,T+=32}function IA(u,p,w,T){var O=u[p+0]+4,H=35468*u[p+4]>>16,M=Ur(u[p+4]),z=35468*u[p+1]>>16;ya(w,T,0,O+M,u=Ur(u[p+1]),z),ya(w,T,1,O+H,u,z),ya(w,T,2,O-H,u,z),ya(w,T,3,O-M,u,z)}function wa(u,p,w,T,O){ns(u,p,w,T),O&&ns(u,p+16,w,T+4)}function rl(u,p,w,T){jA(u,p+0,w,T,1),jA(u,p+32,w,T+128,1)}function er(u,p,w,T){var O;for(u=u[p+0]+4,O=0;4>O;++O)for(p=0;4>p;++p)ms(w,T,p,O,u)}function SA(u,p,w,T){u[p+0]&&is(u,p+0,w,T),u[p+16]&&is(u,p+16,w,T+4),u[p+32]&&is(u,p+32,w,T+128),u[p+48]&&is(u,p+48,w,T+128+4)}function NA(u,p,w,T){var O,H=i(16);for(O=0;4>O;++O){var M=u[p+0+O]+u[p+12+O],z=u[p+4+O]+u[p+8+O],W=u[p+4+O]-u[p+8+O],re=u[p+0+O]-u[p+12+O];H[0+O]=M+z,H[8+O]=M-z,H[4+O]=re+W,H[12+O]=re-W}for(O=0;4>O;++O)M=(u=H[0+4*O]+3)+H[3+4*O],z=H[1+4*O]+H[2+4*O],W=H[1+4*O]-H[2+4*O],re=u-H[3+4*O],w[T+0]=M+z>>3,w[T+16]=re+W>>3,w[T+32]=M-z>>3,w[T+48]=re-W>>3,T+=64}function vi(u,p,w){var T,O=p-32,H=js,M=255-u[O-1];for(T=0;T<w;++T){var z,W=H,re=M+u[p-1];for(z=0;z<w;++z)u[p+z]=W[re+u[O+z]];p+=32}}function Yu(u,p){vi(u,p,4)}function Ac(u,p){vi(u,p,8)}function Ju(u,p){vi(u,p,16)}function yi(u,p){var w;for(w=0;16>w;++w)n(u,p+32*w,u,p-32,16)}function xa(u,p){var w;for(w=16;0<w;--w)s(u,p,u[p-1],16),p+=32}function Ba(u,p,w){var T;for(T=0;16>T;++T)s(p,w+32*T,u,16)}function Xi(u,p){var w,T=16;for(w=0;16>w;++w)T+=u[p-1+32*w]+u[p+w-32];Ba(T>>5,u,p)}function yr(u,p){var w,T=8;for(w=0;16>w;++w)T+=u[p-1+32*w];Ba(T>>4,u,p)}function ac(u,p){var w,T=8;for(w=0;16>w;++w)T+=u[p+w-32];Ba(T>>4,u,p)}function nl(u,p){Ba(128,u,p)}function gt(u,p,w){return u+2*p+w+2>>2}function Zi(u,p){var w,T=p-32;for(T=new Uint8Array([gt(u[T-1],u[T+0],u[T+1]),gt(u[T+0],u[T+1],u[T+2]),gt(u[T+1],u[T+2],u[T+3]),gt(u[T+2],u[T+3],u[T+4])]),w=0;4>w;++w)n(u,p+32*w,T,0,T.length)}function Xu(u,p){var w=u[p-1],T=u[p-1+32],O=u[p-1+64],H=u[p-1+96];oe(u,p+0,16843009*gt(u[p-1-32],w,T)),oe(u,p+32,16843009*gt(w,T,O)),oe(u,p+64,16843009*gt(T,O,H)),oe(u,p+96,16843009*gt(O,H,H))}function Js(u,p){var w,T=4;for(w=0;4>w;++w)T+=u[p+w-32]+u[p-1+32*w];for(T>>=3,w=0;4>w;++w)s(u,p+32*w,T,4)}function oc(u,p){var w=u[p-1+0],T=u[p-1+32],O=u[p-1+64],H=u[p-1-32],M=u[p+0-32],z=u[p+1-32],W=u[p+2-32],re=u[p+3-32];u[p+0+96]=gt(T,O,u[p-1+96]),u[p+1+96]=u[p+0+64]=gt(w,T,O),u[p+2+96]=u[p+1+64]=u[p+0+32]=gt(H,w,T),u[p+3+96]=u[p+2+64]=u[p+1+32]=u[p+0+0]=gt(M,H,w),u[p+3+64]=u[p+2+32]=u[p+1+0]=gt(z,M,H),u[p+3+32]=u[p+2+0]=gt(W,z,M),u[p+3+0]=gt(re,W,z)}function Us(u,p){var w=u[p+1-32],T=u[p+2-32],O=u[p+3-32],H=u[p+4-32],M=u[p+5-32],z=u[p+6-32],W=u[p+7-32];u[p+0+0]=gt(u[p+0-32],w,T),u[p+1+0]=u[p+0+32]=gt(w,T,O),u[p+2+0]=u[p+1+32]=u[p+0+64]=gt(T,O,H),u[p+3+0]=u[p+2+32]=u[p+1+64]=u[p+0+96]=gt(O,H,M),u[p+3+32]=u[p+2+64]=u[p+1+96]=gt(H,M,z),u[p+3+64]=u[p+2+96]=gt(M,z,W),u[p+3+96]=gt(z,W,W)}function ba(u,p){var w=u[p-1+0],T=u[p-1+32],O=u[p-1+64],H=u[p-1-32],M=u[p+0-32],z=u[p+1-32],W=u[p+2-32],re=u[p+3-32];u[p+0+0]=u[p+1+64]=H+M+1>>1,u[p+1+0]=u[p+2+64]=M+z+1>>1,u[p+2+0]=u[p+3+64]=z+W+1>>1,u[p+3+0]=W+re+1>>1,u[p+0+96]=gt(O,T,w),u[p+0+64]=gt(T,w,H),u[p+0+32]=u[p+1+96]=gt(w,H,M),u[p+1+32]=u[p+2+96]=gt(H,M,z),u[p+2+32]=u[p+3+96]=gt(M,z,W),u[p+3+32]=gt(z,W,re)}function sl(u,p){var w=u[p+0-32],T=u[p+1-32],O=u[p+2-32],H=u[p+3-32],M=u[p+4-32],z=u[p+5-32],W=u[p+6-32],re=u[p+7-32];u[p+0+0]=w+T+1>>1,u[p+1+0]=u[p+0+64]=T+O+1>>1,u[p+2+0]=u[p+1+64]=O+H+1>>1,u[p+3+0]=u[p+2+64]=H+M+1>>1,u[p+0+32]=gt(w,T,O),u[p+1+32]=u[p+0+96]=gt(T,O,H),u[p+2+32]=u[p+1+96]=gt(O,H,M),u[p+3+32]=u[p+2+96]=gt(H,M,z),u[p+3+64]=gt(M,z,W),u[p+3+96]=gt(z,W,re)}function Ca(u,p){var w=u[p-1+0],T=u[p-1+32],O=u[p-1+64],H=u[p-1+96];u[p+0+0]=w+T+1>>1,u[p+2+0]=u[p+0+32]=T+O+1>>1,u[p+2+32]=u[p+0+64]=O+H+1>>1,u[p+1+0]=gt(w,T,O),u[p+3+0]=u[p+1+32]=gt(T,O,H),u[p+3+32]=u[p+1+64]=gt(O,H,H),u[p+3+64]=u[p+2+64]=u[p+0+96]=u[p+1+96]=u[p+2+96]=u[p+3+96]=H}function Ea(u,p){var w=u[p-1+0],T=u[p-1+32],O=u[p-1+64],H=u[p-1+96],M=u[p-1-32],z=u[p+0-32],W=u[p+1-32],re=u[p+2-32];u[p+0+0]=u[p+2+32]=w+M+1>>1,u[p+0+32]=u[p+2+64]=T+w+1>>1,u[p+0+64]=u[p+2+96]=O+T+1>>1,u[p+0+96]=H+O+1>>1,u[p+3+0]=gt(z,W,re),u[p+2+0]=gt(M,z,W),u[p+1+0]=u[p+3+32]=gt(w,M,z),u[p+1+32]=u[p+3+64]=gt(T,w,M),u[p+1+64]=u[p+3+96]=gt(O,T,w),u[p+1+96]=gt(H,O,T)}function lc(u,p){var w;for(w=0;8>w;++w)n(u,p+32*w,u,p-32,8)}function wi(u,p){var w;for(w=0;8>w;++w)s(u,p,u[p-1],8),p+=32}function Qs(u,p,w){var T;for(T=0;8>T;++T)s(p,w+32*T,u,8)}function xi(u,p){var w,T=8;for(w=0;8>w;++w)T+=u[p+w-32]+u[p-1+32*w];Qs(T>>4,u,p)}function il(u,p){var w,T=4;for(w=0;8>w;++w)T+=u[p+w-32];Qs(T>>3,u,p)}function Yt(u,p){var w,T=4;for(w=0;8>w;++w)T+=u[p-1+32*w];Qs(T>>3,u,p)}function Al(u,p){Qs(128,u,p)}function _a(u,p,w){var T=u[p-w],O=u[p+0],H=3*(O-T)+y0[1020+u[p-2*w]-u[p+w]],M=wf[112+(H+4>>3)];u[p-w]=js[255+T+wf[112+(H+3>>3)]],u[p+0]=js[255+O-M]}function al(u,p,w,T){var O=u[p+0],H=u[p+w];return ri[255+u[p-2*w]-u[p-w]]>T||ri[255+H-O]>T}function ol(u,p,w,T){return 4*ri[255+u[p-w]-u[p+0]]+ri[255+u[p-2*w]-u[p+w]]<=T}function ll(u,p,w,T,O){var H=u[p-3*w],M=u[p-2*w],z=u[p-w],W=u[p+0],re=u[p+w],me=u[p+2*w],Se=u[p+3*w];return 4*ri[255+z-W]+ri[255+M-re]>T?0:ri[255+u[p-4*w]-H]<=O&&ri[255+H-M]<=O&&ri[255+M-z]<=O&&ri[255+Se-me]<=O&&ri[255+me-re]<=O&&ri[255+re-W]<=O}function FA(u,p,w,T){var O=2*T+1;for(T=0;16>T;++T)ol(u,p+T,w,O)&&_a(u,p+T,w)}function Ls(u,p,w,T){var O=2*T+1;for(T=0;16>T;++T)ol(u,p+T*w,1,O)&&_a(u,p+T*w,1)}function on(u,p,w,T){var O;for(O=3;0<O;--O)FA(u,p+=4*w,w,T)}function cc(u,p,w,T){var O;for(O=3;0<O;--O)Ls(u,p+=4,w,T)}function eA(u,p,w,T,O,H,M,z){for(H=2*H+1;0<O--;){if(ll(u,p,w,H,M))if(al(u,p,w,z))_a(u,p,w);else{var W=u,re=p,me=w,Se=W[re-2*me],Ne=W[re-me],Ce=W[re+0],Pe=W[re+me],ke=W[re+2*me],ge=27*(Le=y0[1020+3*(Ce-Ne)+y0[1020+Se-Pe]])+63>>7,xe=18*Le+63>>7,Le=9*Le+63>>7;W[re-3*me]=js[255+W[re-3*me]+Le],W[re-2*me]=js[255+Se+xe],W[re-me]=js[255+Ne+ge],W[re+0]=js[255+Ce-ge],W[re+me]=js[255+Pe-xe],W[re+2*me]=js[255+ke-Le]}p+=T}}function wn(u,p,w,T,O,H,M,z){for(H=2*H+1;0<O--;){if(ll(u,p,w,H,M))if(al(u,p,w,z))_a(u,p,w);else{var W=u,re=p,me=w,Se=W[re-me],Ne=W[re+0],Ce=W[re+me],Pe=wf[112+((ke=3*(Ne-Se))+4>>3)],ke=wf[112+(ke+3>>3)],ge=Pe+1>>1;W[re-2*me]=js[255+W[re-2*me]+ge],W[re-me]=js[255+Se+ke],W[re+0]=js[255+Ne-Pe],W[re+me]=js[255+Ce-ge]}p+=T}}function Ia(u,p,w,T,O,H){eA(u,p,w,1,16,T,O,H)}function Bi(u,p,w,T,O,H){eA(u,p,1,w,16,T,O,H)}function Sa(u,p,w,T,O,H){var M;for(M=3;0<M;--M)wn(u,p+=4*w,w,1,16,T,O,H)}function TA(u,p,w,T,O,H){var M;for(M=3;0<M;--M)wn(u,p+=4,1,w,16,T,O,H)}function Na(u,p,w,T,O,H,M,z){eA(u,p,O,1,8,H,M,z),eA(w,T,O,1,8,H,M,z)}function cl(u,p,w,T,O,H,M,z){eA(u,p,1,O,8,H,M,z),eA(w,T,1,O,8,H,M,z)}function Fa(u,p,w,T,O,H,M,z){wn(u,p+4*O,O,1,8,H,M,z),wn(w,T+4*O,O,1,8,H,M,z)}function tA(u,p,w,T,O,H,M,z){wn(u,p+4,1,O,8,H,M,z),wn(w,T+4,1,O,8,H,M,z)}function kA(){this.ba=new Yr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Qe,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ta(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function UA(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ka(){this.ua=0,this.Wa=new te,this.vb=new te,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new j,this.yc=new U}function uc(){this.xb=this.a=0,this.l=new _A,this.ca=new Yr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new P,this.Pb=0,this.wd=new P,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ka,this.ab=0,this.gc=A(4,UA),this.Oc=0}function bi(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new _A,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function rA(u,p,w,T,O,H,M){for(u=u==null?0:u[p+0],p=0;p<M;++p)O[H+p]=u+w[T+p]&255,u=O[H+p]}function Ua(u,p,w,T,O,H,M){var z;if(u==null)rA(null,null,w,T,O,H,M);else for(z=0;z<M;++z)O[H+z]=u[p+z]+w[T+z]&255}function jn(u,p,w,T,O,H,M){if(u==null)rA(null,null,w,T,O,H,M);else{var z,W=u[p+0],re=W,me=W;for(z=0;z<M;++z)re=me+(W=u[p+z])-re,me=w[T+z]+(-256&re?0>re?0:255:re)&255,re=W,O[H+z]=me}}function Qa(u,p,w,T){var O=p.width,H=p.o;if(e(u!=null&&p!=null),0>w||0>=T||w+T>H)return null;if(!u.Cc){if(u.ga==null){var M;if(u.ga=new bi,(M=u.ga==null)||(M=p.width*p.o,e(u.Gb.length==0),u.Gb=i(M),u.Uc=0,u.Gb==null?M=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,M=1),M=!M),!M){M=u.ga;var z=u.Fa,W=u.P,re=u.qc,me=u.mb,Se=u.nb,Ne=W+1,Ce=re-1,Pe=M.l;if(e(z!=null&&me!=null&&p!=null),Oa[0]=null,Oa[1]=rA,Oa[2]=Ua,Oa[3]=jn,M.ca=me,M.tb=Se,M.c=p.width,M.i=p.height,e(0<M.c&&0<M.i),1>=re)p=0;else if(M.$a=z[W+0]>>0&3,M.Z=z[W+0]>>2&3,M.Lc=z[W+0]>>4&3,W=z[W+0]>>6&3,0>M.$a||1<M.$a||4<=M.Z||1<M.Lc||W)p=0;else if(Pe.put=ht,Pe.ac=kt,Pe.bc=Ut,Pe.ma=M,Pe.width=p.width,Pe.height=p.height,Pe.Da=p.Da,Pe.v=p.v,Pe.va=p.va,Pe.j=p.j,Pe.o=p.o,M.$a)e:{e(M.$a==1),p=Rr();t:for(;;){if(p==null){p=0;break e}if(e(M!=null),M.mc=p,p.c=M.c,p.i=M.i,p.l=M.l,p.l.ma=M,p.l.width=M.c,p.l.height=M.i,p.a=0,ee(p.m,z,Ne,Ce),!ks(M.c,M.i,1,p,null)||(p.ab==1&&p.gc[0].hc==3&&mi(p.s)?(M.ic=1,z=p.c*p.i,p.Ta=null,p.Ua=0,p.V=i(z),p.Ba=0,p.V==null?(p.a=1,p=0):p=1):(M.ic=0,p=qi(p,M.c)),!p))break t;p=1;break e}M.mc=null,p=0}else p=Ce>=M.c*M.i;M=!p}if(M)return null;u.ga.Lc!=1?u.Ga=0:T=H-w}e(u.ga!=null),e(w+T<=H);e:{if(p=(z=u.ga).c,H=z.l.o,z.$a==0){if(Ne=u.rc,Ce=u.Vc,Pe=u.Fa,W=u.P+1+w*p,re=u.mb,me=u.nb+w*p,e(W<=u.P+u.qc),z.Z!=0)for(e(Oa[z.Z]!=null),M=0;M<T;++M)Oa[z.Z](Ne,Ce,Pe,W,re,me,p),Ne=re,Ce=me,me+=p,W+=p;else for(M=0;M<T;++M)n(re,me,Pe,W,p),Ne=re,Ce=me,me+=p,W+=p;u.rc=Ne,u.Vc=Ce}else{if(e(z.mc!=null),p=w+T,e((M=z.mc)!=null),e(p<=M.i),M.C>=p)p=1;else if(z.ic||be(),z.ic){z=M.V,Ne=M.Ba,Ce=M.c;var ke=M.i,ge=(Pe=1,W=M.$/Ce,re=M.$%Ce,me=M.m,Se=M.s,M.$),xe=Ce*ke,Le=Ce*p,Oe=Se.wc,je=ge<Le?kr(Se,re,W):null;e(ge<=xe),e(p<=ke),e(mi(Se));t:for(;;){for(;!me.h&&ge<Le;){if(re&Oe||(je=kr(Se,re,W)),e(je!=null),X(me),256>(ke=hr(je.G[0],je.H[0],me)))z[Ne+ge]=ke,++ge,++re>=Ce&&(re=0,++W<=p&&!(W%16)&&ps(M,W));else{if(!(280>ke)){Pe=0;break t}ke=Jr(ke-256,me);var rt,$e=hr(je.G[4],je.H[4],me);if(X(me),!(ge>=($e=Tr(Ce,$e=Jr($e,me)))&&xe-ge>=ke)){Pe=0;break t}for(rt=0;rt<ke;++rt)z[Ne+ge+rt]=z[Ne+ge+rt-$e];for(ge+=ke,re+=ke;re>=Ce;)re-=Ce,++W<=p&&!(W%16)&&ps(M,W);ge<Le&&re&Oe&&(je=kr(Se,re,W))}e(me.h==Z(me))}ps(M,W>p?p:W);break t}!Pe||me.h&&ge<xe?(Pe=0,M.a=me.h?5:3):M.$=ge,p=Pe}else p=ts(M,M.V,M.Ba,M.c,M.i,p,Wi);if(!p){T=0;break e}}w+T>=H&&(u.Cc=1),T=1}if(!T)return null;if(u.Cc&&((T=u.ga)!=null&&(T.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+w*O}function v(u,p,w,T,O,H){for(;0<O--;){var M,z=u,W=p+(w?1:0),re=u,me=p+(w?0:3);for(M=0;M<T;++M){var Se=re[me+4*M];Se!=255&&(Se*=32897,z[W+4*M+0]=z[W+4*M+0]*Se>>23,z[W+4*M+1]=z[W+4*M+1]*Se>>23,z[W+4*M+2]=z[W+4*M+2]*Se>>23)}p+=H}}function R(u,p,w,T,O){for(;0<T--;){var H;for(H=0;H<w;++H){var M=u[p+2*H+0],z=15&(re=u[p+2*H+1]),W=4369*z,re=(240&re|re>>4)*W>>16;u[p+2*H+0]=(240&M|M>>4)*W>>16&240|(15&M|M<<4)*W>>16>>4&15,u[p+2*H+1]=240&re|z}p+=O}}function se(u,p,w,T,O,H,M,z){var W,re,me=255;for(re=0;re<O;++re){for(W=0;W<T;++W){var Se=u[p+W];H[M+4*W]=Se,me&=Se}p+=w,M+=z}return me!=255}function de(u,p,w,T,O){var H;for(H=0;H<O;++H)w[T+H]=u[p+H]>>8}function be(){ti=v,fr=R,pr=se,Hr=de}function Ue(u,p,w){_[u]=function(T,O,H,M,z,W,re,me,Se,Ne,Ce,Pe,ke,ge,xe,Le,Oe){var je,rt=Oe-1>>1,$e=z[W+0]|re[me+0]<<16,ft=Se[Ne+0]|Ce[Pe+0]<<16;e(T!=null);var Xe=3*$e+ft+131074>>2;for(p(T[O+0],255&Xe,Xe>>16,ke,ge),H!=null&&(Xe=3*ft+$e+131074>>2,p(H[M+0],255&Xe,Xe>>16,xe,Le)),je=1;je<=rt;++je){var $t=z[W+je]|re[me+je]<<16,tr=Se[Ne+je]|Ce[Pe+je]<<16,zt=$e+$t+ft+tr+524296,Rt=zt+2*($t+ft)>>3;Xe=Rt+$e>>1,$e=(zt=zt+2*($e+tr)>>3)+$t>>1,p(T[O+2*je-1],255&Xe,Xe>>16,ke,ge+(2*je-1)*w),p(T[O+2*je-0],255&$e,$e>>16,ke,ge+(2*je-0)*w),H!=null&&(Xe=zt+ft>>1,$e=Rt+tr>>1,p(H[M+2*je-1],255&Xe,Xe>>16,xe,Le+(2*je-1)*w),p(H[M+2*je+0],255&$e,$e>>16,xe,Le+(2*je+0)*w)),$e=$t,ft=tr}1&Oe||(Xe=3*$e+ft+131074>>2,p(T[O+Oe-1],255&Xe,Xe>>16,ke,ge+(Oe-1)*w),H!=null&&(Xe=3*ft+$e+131074>>2,p(H[M+Oe-1],255&Xe,Xe>>16,xe,Le+(Oe-1)*w)))}}function He(){ni[xf]=gF,ni[Bf]=cx,ni[ix]=vF,ni[bf]=ux,ni[Cf]=dx,ni[w0]=hx,ni[Ax]=yF,ni[x0]=cx,ni[B0]=ux,ni[Ef]=dx,ni[b0]=hx}function Je(u){return u&~wF?0>u?0:255:u>>fx}function d(u,p){return Je((19077*u>>8)+(26149*p>>8)-14234)}function C(u,p,w){return Je((19077*u>>8)-(6419*p>>8)-(13320*w>>8)+8708)}function L(u,p){return Je((19077*u>>8)+(33050*p>>8)-17685)}function K(u,p,w,T,O){T[O+0]=d(u,w),T[O+1]=C(u,p,w),T[O+2]=L(u,p)}function Be(u,p,w,T,O){T[O+0]=L(u,p),T[O+1]=C(u,p,w),T[O+2]=d(u,w)}function Fe(u,p,w,T,O){var H=C(u,p,w);p=H<<3&224|L(u,p)>>3,T[O+0]=248&d(u,w)|H>>5,T[O+1]=p}function Me(u,p,w,T,O){var H=240&L(u,p)|15;T[O+0]=240&d(u,w)|C(u,p,w)>>4,T[O+1]=H}function bt(u,p,w,T,O){T[O+0]=255,K(u,p,w,T,O+1)}function Dt(u,p,w,T,O){Be(u,p,w,T,O),T[O+3]=255}function Ct(u,p,w,T,O){K(u,p,w,T,O),T[O+3]=255}function Jt(u,p){return 0>u?0:u>p?p:u}function lr(u,p,w){_[u]=function(T,O,H,M,z,W,re,me,Se){for(var Ne=me+(-2&Se)*w;me!=Ne;)p(T[O+0],H[M+0],z[W+0],re,me),p(T[O+1],H[M+0],z[W+0],re,me+w),O+=2,++M,++W,me+=2*w;1&Se&&p(T[O+0],H[M+0],z[W+0],re,me)}}function Ci(u,p,w){return w==0?u==0?p==0?6:5:p==0?4:0:w}function xn(u,p,w,T,O){switch(u>>>30){case 3:jA(p,w,T,O,0);break;case 2:Or(p,w,T,O);break;case 1:is(p,w,T,O)}}function nA(u,p){var w,T,O=p.M,H=p.Nb,M=u.oc,z=u.pc+40,W=u.oc,re=u.pc+584,me=u.oc,Se=u.pc+600;for(w=0;16>w;++w)M[z+32*w-1]=129;for(w=0;8>w;++w)W[re+32*w-1]=129,me[Se+32*w-1]=129;for(0<O?M[z-1-32]=W[re-1-32]=me[Se-1-32]=129:(s(M,z-32-1,127,21),s(W,re-32-1,127,9),s(me,Se-32-1,127,9)),T=0;T<u.za;++T){var Ne=p.ya[p.aa+T];if(0<T){for(w=-1;16>w;++w)n(M,z+32*w-4,M,z+32*w+12,4);for(w=-1;8>w;++w)n(W,re+32*w-4,W,re+32*w+4,4),n(me,Se+32*w-4,me,Se+32*w+4,4)}var Ce=u.Gd,Pe=u.Hd+T,ke=Ne.ad,ge=Ne.Hc;if(0<O&&(n(M,z-32,Ce[Pe].y,0,16),n(W,re-32,Ce[Pe].f,0,8),n(me,Se-32,Ce[Pe].ea,0,8)),Ne.Za){var xe=M,Le=z-32+16;for(0<O&&(T>=u.za-1?s(xe,Le,Ce[Pe].y[15],4):n(xe,Le,Ce[Pe+1].y,0,4)),w=0;4>w;w++)xe[Le+128+w]=xe[Le+256+w]=xe[Le+384+w]=xe[Le+0+w];for(w=0;16>w;++w,ge<<=2)xe=M,Le=z+mx[w],Ei[Ne.Ob[w]](xe,Le),xn(ge,ke,16*+w,xe,Le)}else if(xe=Ci(T,O,Ne.Ob[0]),Ra[xe](M,z),ge!=0)for(w=0;16>w;++w,ge<<=2)xn(ge,ke,16*+w,M,z+mx[w]);for(w=Ne.Gc,xe=Ci(T,O,Ne.Dd),DA[xe](W,re),DA[xe](me,Se),ge=ke,xe=W,Le=re,255&(Ne=w>>0)&&(170&Ne?nd(ge,256,xe,Le):Zs(ge,256,xe,Le)),Ne=me,ge=Se,255&(w>>=8)&&(170&w?nd(ke,320,Ne,ge):Zs(ke,320,Ne,ge)),O<u.Ub-1&&(n(Ce[Pe].y,0,M,z+480,16),n(Ce[Pe].f,0,W,re+224,8),n(Ce[Pe].ea,0,me,Se+224,8)),w=8*H*u.B,Ce=u.sa,Pe=u.ta+16*T+16*H*u.R,ke=u.qa,Ne=u.ra+8*T+w,ge=u.Ha,xe=u.Ia+8*T+w,w=0;16>w;++w)n(Ce,Pe+w*u.R,M,z+32*w,16);for(w=0;8>w;++w)n(ke,Ne+w*u.B,W,re+32*w,8),n(ge,xe+w*u.B,me,Se+32*w,8)}}function sA(u,p,w,T,O,H,M,z,W){var re=[0],me=[0],Se=0,Ne=W!=null?W.kd:0,Ce=W??new Ta;if(u==null||12>w)return 7;Ce.data=u,Ce.w=p,Ce.ha=w,p=[p],w=[w],Ce.gb=[Ce.gb];e:{var Pe=p,ke=w,ge=Ce.gb;if(e(u!=null),e(ke!=null),e(ge!=null),ge[0]=0,12<=ke[0]&&!r(u,Pe[0],"RIFF")){if(r(u,Pe[0]+8,"WEBP")){ge=3;break e}var xe=pe(u,Pe[0]+4);if(12>xe||4294967286<xe){ge=3;break e}if(Ne&&xe>ke[0]-8){ge=7;break e}ge[0]=xe,Pe[0]+=12,ke[0]-=12}ge=0}if(ge!=0)return ge;for(xe=0<Ce.gb[0],w=w[0];;){e:{var Le=u;ke=p,ge=w;var Oe=re,je=me,rt=Pe=[0];if((Xe=Se=[Se])[0]=0,8>ge[0])ge=7;else{if(!r(Le,ke[0],"VP8X")){if(pe(Le,ke[0]+4)!=10){ge=3;break e}if(18>ge[0]){ge=7;break e}var $e=pe(Le,ke[0]+8),ft=1+Ee(Le,ke[0]+12);if(2147483648<=ft*(Le=1+Ee(Le,ke[0]+15))){ge=3;break e}rt!=null&&(rt[0]=$e),Oe!=null&&(Oe[0]=ft),je!=null&&(je[0]=Le),ke[0]+=18,ge[0]-=18,Xe[0]=1}ge=0}}if(Se=Se[0],Pe=Pe[0],ge!=0)return ge;if(ke=!!(2&Pe),!xe&&Se)return 3;if(H!=null&&(H[0]=!!(16&Pe)),M!=null&&(M[0]=ke),z!=null&&(z[0]=0),M=re[0],Pe=me[0],Se&&ke&&W==null){ge=0;break}if(4>w){ge=7;break}if(xe&&Se||!xe&&!Se&&!r(u,p[0],"ALPH")){w=[w],Ce.na=[Ce.na],Ce.P=[Ce.P],Ce.Sa=[Ce.Sa];e:{$e=u,ge=p,xe=w;var Xe=Ce.gb;Oe=Ce.na,je=Ce.P,rt=Ce.Sa,ft=22,e($e!=null),e(xe!=null),Le=ge[0];var $t=xe[0];for(e(Oe!=null),e(rt!=null),Oe[0]=null,je[0]=null,rt[0]=0;;){if(ge[0]=Le,xe[0]=$t,8>$t){ge=7;break e}var tr=pe($e,Le+4);if(4294967286<tr){ge=3;break e}var zt=8+tr+1&-2;if(ft+=zt,0<Xe&&ft>Xe){ge=3;break e}if(!r($e,Le,"VP8 ")||!r($e,Le,"VP8L")){ge=0;break e}if($t[0]<zt){ge=7;break e}r($e,Le,"ALPH")||(Oe[0]=$e,je[0]=Le+8,rt[0]=tr),Le+=zt,$t-=zt}}if(w=w[0],Ce.na=Ce.na[0],Ce.P=Ce.P[0],Ce.Sa=Ce.Sa[0],ge!=0)break}w=[w],Ce.Ja=[Ce.Ja],Ce.xa=[Ce.xa];e:if(Xe=u,ge=p,xe=w,Oe=Ce.gb[0],je=Ce.Ja,rt=Ce.xa,$e=ge[0],Le=!r(Xe,$e,"VP8 "),ft=!r(Xe,$e,"VP8L"),e(Xe!=null),e(xe!=null),e(je!=null),e(rt!=null),8>xe[0])ge=7;else{if(Le||ft){if(Xe=pe(Xe,$e+4),12<=Oe&&Xe>Oe-12){ge=3;break e}if(Ne&&Xe>xe[0]-8){ge=7;break e}je[0]=Xe,ge[0]+=8,xe[0]-=8,rt[0]=ft}else rt[0]=5<=xe[0]&&Xe[$e+0]==47&&!(Xe[$e+4]>>5),je[0]=xe[0];ge=0}if(w=w[0],Ce.Ja=Ce.Ja[0],Ce.xa=Ce.xa[0],p=p[0],ge!=0)break;if(4294967286<Ce.Ja)return 3;if(z==null||ke||(z[0]=Ce.xa?2:1),M=[M],Pe=[Pe],Ce.xa){if(5>w){ge=7;break}z=M,Ne=Pe,ke=H,u==null||5>w?u=0:5<=w&&u[p+0]==47&&!(u[p+4]>>5)?(xe=[0],Xe=[0],Oe=[0],ee(je=new P,u,p,w),Ze(je,xe,Xe,Oe)?(z!=null&&(z[0]=xe[0]),Ne!=null&&(Ne[0]=Xe[0]),ke!=null&&(ke[0]=Oe[0]),u=1):u=0):u=0}else{if(10>w){ge=7;break}z=Pe,u==null||10>w||!Zo(u,p+3,w-3)?u=0:(Ne=u[p+0]|u[p+1]<<8|u[p+2]<<16,ke=16383&(u[p+7]<<8|u[p+6]),u=16383&(u[p+9]<<8|u[p+8]),1&Ne||3<(Ne>>1&7)||!(Ne>>4&1)||Ne>>5>=Ce.Ja||!ke||!u?u=0:(M&&(M[0]=ke),z&&(z[0]=u),u=1))}if(!u||(M=M[0],Pe=Pe[0],Se&&(re[0]!=M||me[0]!=Pe)))return 3;W!=null&&(W[0]=Ce,W.offset=p-W.w,e(4294967286>p-W.w),e(W.offset==W.ha-w));break}return ge==0||ge==7&&Se&&W==null?(H!=null&&(H[0]|=Ce.na!=null&&0<Ce.na.length),T!=null&&(T[0]=M),O!=null&&(O[0]=Pe),0):ge}function Zu(u,p,w){var T=p.width,O=p.height,H=0,M=0,z=T,W=O;if(p.Da=u!=null&&0<u.Da,p.Da&&(z=u.cd,W=u.bd,H=u.v,M=u.j,11>w||(H&=-2,M&=-2),0>H||0>M||0>=z||0>=W||H+z>T||M+W>O))return 0;if(p.v=H,p.j=M,p.va=H+z,p.o=M+W,p.U=z,p.T=W,p.da=u!=null&&0<u.da,p.da){if(!ve(z,W,w=[u.ib],H=[u.hb]))return 0;p.ib=w[0],p.hb=H[0]}return p.ob=u!=null&&u.ob,p.Kb=u==null||!u.Sd,p.da&&(p.ob=p.ib<3*T/4&&p.hb<3*O/4,p.Kb=0),1}function ed(u){if(u==null)return 2;if(11>u.S){var p=u.f.RGBA;p.fb+=(u.height-1)*p.A,p.A=-p.A}else p=u.f.kb,u=u.height,p.O+=(u-1)*p.fa,p.fa=-p.fa,p.N+=(u-1>>1)*p.Ab,p.Ab=-p.Ab,p.W+=(u-1>>1)*p.Db,p.Db=-p.Db,p.F!=null&&(p.J+=(u-1)*p.lb,p.lb=-p.lb);return 0}function dc(u,p,w,T){if(T==null||0>=u||0>=p)return 2;if(w!=null){if(w.Da){var O=w.cd,H=w.bd,M=-2&w.v,z=-2&w.j;if(0>M||0>z||0>=O||0>=H||M+O>u||z+H>p)return 2;u=O,p=H}if(w.da){if(!ve(u,p,O=[w.ib],H=[w.hb]))return 2;u=O[0],p=H[0]}}T.width=u,T.height=p;e:{var W=T.width,re=T.height;if(u=T.S,0>=W||0>=re||!(u>=xf&&13>u))u=2;else{if(0>=T.Rd&&T.sd==null){M=H=O=p=0;var me=(z=W*gx[u])*re;if(11>u||(H=(re+1)/2*(p=(W+1)/2),u==12&&(M=(O=W)*re)),(re=i(me+2*H+M))==null){u=1;break e}T.sd=re,11>u?((W=T.f.RGBA).eb=re,W.fb=0,W.A=z,W.size=me):((W=T.f.kb).y=re,W.O=0,W.fa=z,W.Fd=me,W.f=re,W.N=0+me,W.Ab=p,W.Cd=H,W.ea=re,W.W=0+me+H,W.Db=p,W.Ed=H,u==12&&(W.F=re,W.J=0+me+2*H),W.Tc=M,W.lb=O)}if(p=1,O=T.S,H=T.width,M=T.height,O>=xf&&13>O)if(11>O)u=T.f.RGBA,p&=(z=Math.abs(u.A))*(M-1)+H<=u.size,p&=z>=H*gx[O],p&=u.eb!=null;else{u=T.f.kb,z=(H+1)/2,me=(M+1)/2,W=Math.abs(u.fa),re=Math.abs(u.Ab);var Se=Math.abs(u.Db),Ne=Math.abs(u.lb),Ce=Ne*(M-1)+H;p&=W*(M-1)+H<=u.Fd,p&=re*(me-1)+z<=u.Cd,p=(p&=Se*(me-1)+z<=u.Ed)&W>=H&re>=z&Se>=z,p&=u.y!=null,p&=u.f!=null,p&=u.ea!=null,O==12&&(p&=Ne>=H,p&=Ce<=u.Tc,p&=u.F!=null)}else p=0;u=p?0:2}}return u!=0||w!=null&&w.fd&&(u=ed(T)),u}var Bn=64,hc=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],fc=24,pc=32,td=8,gs=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ie("Predictor0","PredictorAdd0"),_.Predictor0=function(){return 4278190080},_.Predictor1=function(u){return u},_.Predictor2=function(u,p,w){return p[w+0]},_.Predictor3=function(u,p,w){return p[w+1]},_.Predictor4=function(u,p,w){return p[w-1]},_.Predictor5=function(u,p,w){return ze(ze(u,p[w+1]),p[w+0])},_.Predictor6=function(u,p,w){return ze(u,p[w-1])},_.Predictor7=function(u,p,w){return ze(u,p[w+0])},_.Predictor8=function(u,p,w){return ze(p[w-1],p[w+0])},_.Predictor9=function(u,p,w){return ze(p[w+0],p[w+1])},_.Predictor10=function(u,p,w){return ze(ze(u,p[w-1]),ze(p[w+0],p[w+1]))},_.Predictor11=function(u,p,w){var T=p[w+0];return 0>=wt(T>>24&255,u>>24&255,(p=p[w-1])>>24&255)+wt(T>>16&255,u>>16&255,p>>16&255)+wt(T>>8&255,u>>8&255,p>>8&255)+wt(255&T,255&u,255&p)?T:u},_.Predictor12=function(u,p,w){var T=p[w+0];return(tt((u>>24&255)+(T>>24&255)-((p=p[w-1])>>24&255))<<24|tt((u>>16&255)+(T>>16&255)-(p>>16&255))<<16|tt((u>>8&255)+(T>>8&255)-(p>>8&255))<<8|tt((255&u)+(255&T)-(255&p)))>>>0},_.Predictor13=function(u,p,w){var T=p[w-1];return(lt((u=ze(u,p[w+0]))>>24&255,T>>24&255)<<24|lt(u>>16&255,T>>16&255)<<16|lt(u>>8&255,T>>8&255)<<8|lt(u>>0&255,T>>0&255))>>>0};var v0=_.PredictorAdd0;_.PredictorAdd1=ot,Ie("Predictor2","PredictorAdd2"),Ie("Predictor3","PredictorAdd3"),Ie("Predictor4","PredictorAdd4"),Ie("Predictor5","PredictorAdd5"),Ie("Predictor6","PredictorAdd6"),Ie("Predictor7","PredictorAdd7"),Ie("Predictor8","PredictorAdd8"),Ie("Predictor9","PredictorAdd9"),Ie("Predictor10","PredictorAdd10"),Ie("Predictor11","PredictorAdd11"),Ie("Predictor12","PredictorAdd12"),Ie("Predictor13","PredictorAdd13");var rd=_.PredictorAdd2;St("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),St("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var pf,Xs=_.ColorIndexInverseTransform,mc=_.MapARGB,mf=_.VP8LColorIndexInverseTransformAlpha,gf=_.MapAlpha,La=_.VP8LPredictorsAdd=[];La.length=16,(_.VP8LPredictors=[]).length=16,(_.VP8LPredictorsAdd_C=[]).length=16,(_.VP8LPredictors_C=[]).length=16;var ul,vs,ss,ja,QA,LA,gc,jA,Or,nd,is,Zs,vc,vf,sd,dl,hl,Pa,fl,yc,pl,Da,id,ei,ti,fr,pr,Hr,ln=i(511),PA=i(2041),Ad=i(225),wc=i(767),yf=0,y0=PA,wf=Ad,js=wc,ri=ln,xf=0,Bf=1,ix=2,bf=3,Cf=4,w0=5,Ax=6,x0=7,B0=8,Ef=9,b0=10,nF=[2,3,7],sF=[3,3,11],ax=[280,256,256,256,40],iF=[0,1,1,1,0],AF=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],aF=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],oF=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],lF=8,C0=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],E0=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ad=null,cF=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],uF=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ox=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],dF=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],hF=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],fF=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],pF=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ra=[],Ei=[],DA=[],mF=1,lx=2,Oa=[],ni=[];Ue("UpsampleRgbLinePair",K,3),Ue("UpsampleBgrLinePair",Be,3),Ue("UpsampleRgbaLinePair",Ct,4),Ue("UpsampleBgraLinePair",Dt,4),Ue("UpsampleArgbLinePair",bt,4),Ue("UpsampleRgba4444LinePair",Me,2),Ue("UpsampleRgb565LinePair",Fe,2);var gF=_.UpsampleRgbLinePair,vF=_.UpsampleBgrLinePair,cx=_.UpsampleRgbaLinePair,ux=_.UpsampleBgraLinePair,dx=_.UpsampleArgbLinePair,hx=_.UpsampleRgba4444LinePair,yF=_.UpsampleRgb565LinePair,_f=16,If=1<<_f-1,od=-227,_0=482,fx=6,wF=(256<<fx)-1,px=0,xF=i(256),BF=i(256),bF=i(256),CF=i(256),EF=i(_0-od),_F=i(_0-od);lr("YuvToRgbRow",K,3),lr("YuvToBgrRow",Be,3),lr("YuvToRgbaRow",Ct,4),lr("YuvToBgraRow",Dt,4),lr("YuvToArgbRow",bt,4),lr("YuvToRgba4444Row",Me,2),lr("YuvToRgb565Row",Fe,2);var mx=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Sf=[0,2,8],IF=[8,7,6,4,4,2,2,2,1,1,1,1],SF=1;this.WebPDecodeRGBA=function(u,p,w,T,O){var H=Bf,M=new kA,z=new Yr;M.ba=z,z.S=H,z.width=[z.width],z.height=[z.height];var W=z.width,re=z.height,me=new Qn;if(me==null||u==null)var Se=2;else e(me!=null),Se=sA(u,p,w,me.width,me.height,me.Pd,me.Qd,me.format,null);if(Se!=0?W=0:(W!=null&&(W[0]=me.width[0]),re!=null&&(re[0]=me.height[0]),W=1),W){z.width=z.width[0],z.height=z.height[0],T!=null&&(T[0]=z.width),O!=null&&(O[0]=z.height);e:{if(T=new _A,(O=new Ta).data=u,O.w=p,O.ha=w,O.kd=1,p=[0],e(O!=null),((u=sA(O.data,O.w,O.ha,null,null,null,p,null,O))==0||u==7)&&p[0]&&(u=4),(p=u)==0){if(e(M!=null),T.data=O.data,T.w=O.w+O.offset,T.ha=O.ha-O.offset,T.put=ht,T.ac=kt,T.bc=Ut,T.ma=M,O.xa){if((u=Rr())==null){M=1;break e}if(function(Ne,Ce){var Pe=[0],ke=[0],ge=[0];t:for(;;){if(Ne==null)return 0;if(Ce==null)return Ne.a=2,0;if(Ne.l=Ce,Ne.a=0,ee(Ne.m,Ce.data,Ce.w,Ce.ha),!Ze(Ne.m,Pe,ke,ge)){Ne.a=3;break t}if(Ne.xb=lx,Ce.width=Pe[0],Ce.height=ke[0],!ks(Pe[0],ke[0],1,Ne,null))break t;return 1}return e(Ne.a!=0),0}(u,T)){if(T=(p=dc(T.width,T.height,M.Oa,M.ba))==0){t:{T=u;r:for(;;){if(T==null){T=0;break t}if(e(T.s.yc!=null),e(T.s.Ya!=null),e(0<T.s.Wb),e((w=T.l)!=null),e((O=w.ma)!=null),T.xb!=0){if(T.ca=O.ba,T.tb=O.tb,e(T.ca!=null),!Zu(O.Oa,w,bf)){T.a=2;break r}if(!qi(T,w.width)||w.da)break r;if((w.da||Lt(T.ca.S))&&be(),11>T.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),T.ca.f.kb.F!=null&&be()),T.Pb&&0<T.s.ua&&T.s.vb.X==null&&!Te(T.s.vb,T.s.Wa.Xa)){T.a=1;break r}T.xb=0}if(!ts(T,T.V,T.Ba,T.c,T.i,w.o,ga))break r;O.Dc=T.Ma,T=1;break t}e(T.a!=0),T=0}T=!T}T&&(p=u.a)}else p=u.a}else{if((u=new Xo)==null){M=1;break e}if(u.Fa=O.na,u.P=O.P,u.qc=O.Sa,el(u,T)){if((p=dc(T.width,T.height,M.Oa,M.ba))==0){if(u.Aa=0,w=M.Oa,e((O=u)!=null),w!=null){if(0<(W=0>(W=w.Md)?0:100<W?255:255*W/100)){for(re=me=0;4>re;++re)12>(Se=O.pb[re]).lc&&(Se.ia=W*IF[0>Se.lc?0:Se.lc]>>3),me|=Se.ia;me&&(alert("todo:VP8InitRandom"),O.ia=1)}O.Ga=w.Id,100<O.Ga?O.Ga=100:0>O.Ga&&(O.Ga=0)}ic(u,T)||(p=u.a)}}else p=u.a}p==0&&M.Oa!=null&&M.Oa.fd&&(p=ed(M.ba))}M=p}H=M!=0?null:11>H?z.f.RGBA.eb:z.f.kb.y}else H=null;return H};var gx=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(_,k){for(var N="",E=0;E<4;E++)N+=String.fromCharCode(_[k++]);return N}function h(_,k){return(_[k+0]<<0|_[k+1]<<8|_[k+2]<<16)>>>0}function f(_,k){return(_[k+0]<<0|_[k+1]<<8|_[k+2]<<16|_[k+3]<<24)>>>0}new o;var g=[0],m=[0],B=[],b=new o,F=t,y=function(_,k){var N={},E=0,U=!1,I=0,j=0;if(N.frames=[],!function(q,Z,Y,X){for(var J=0;J<X;J++)if(q[Z+J]!=Y.charCodeAt(J))return!0;return!1}(_,k,"RIFF",4)){var $,ae;for(f(_,k+=4),k+=8;k<_.length;){var ne=c(_,k),ee=f(_,k+=4);k+=4;var ce=ee+(1&ee);switch(ne){case"VP8 ":case"VP8L":N.frames[E]===void 0&&(N.frames[E]={}),(P=N.frames[E]).src_off=U?j:k-8,P.src_size=I+ee+8,E++,U&&(U=!1,I=0,j=0);break;case"VP8X":(P=N.header={}).feature_flags=_[k];var ye=k+4;P.canvas_width=1+h(_,ye),ye+=3,P.canvas_height=1+h(_,ye),ye+=3;break;case"ALPH":U=!0,I=ce+8,j=k-8;break;case"ANIM":(P=N.header).bgcolor=f(_,k),ye=k+4,P.loop_count=($=_)[(ae=ye)+0]<<0|$[ae+1]<<8,ye+=2;break;case"ANMF":var _e,P;(P=N.frames[E]={}).offset_x=2*h(_,k),k+=3,P.offset_y=2*h(_,k),k+=3,P.width=1+h(_,k),k+=3,P.height=1+h(_,k),k+=3,P.duration=h(_,k),k+=3,_e=_[k++],P.dispose=1&_e,P.blend=_e>>1&1}ne!="ANMF"&&(k+=ce)}return N}}(F,0);y.response=F,y.rgbaoutput=!0,y.dataurl=!1;var x=y.header?y.header:null,S=y.frames?y.frames:null;if(x){x.loop_counter=x.loop_count,g=[x.canvas_height],m=[x.canvas_width];for(var D=0;D<S.length&&S[D].blend!=0;D++);}var V=S[0],G=b.WebPDecodeRGBA(F,V.src_off,V.src_size,m,g);V.rgba=G,V.imgwidth=m[0],V.imgheight=g[0];for(var Q=0;Q<m[0]*g[0]*4;Q++)B[Q]=G[Q];return this.width=m,this.height=g,this.data=B,this}(function(t){var e=function(){return typeof Wy=="function"},r=function(g,m,B,b){var F=4,y=A;switch(b){case t.image_compression.FAST:F=1,y=i;break;case t.image_compression.MEDIUM:F=6,y=a;break;case t.image_compression.SLOW:F=9,y=o}g=n(g,m,B,y);var x=Wy(g,{level:F});return t.__addimage__.arrayBufferToBinaryString(x)},n=function(g,m,B,b){for(var F,y,x,S=g.length/m,D=new Uint8Array(g.length+S),V=h(),G=0;G<S;G+=1){if(x=G*m,F=g.subarray(x,x+m),b)D.set(b(F,B,y),x+G);else{for(var Q,_=V.length,k=[];Q<_;Q+=1)k[Q]=V[Q](F,B,y);var N=f(k.concat());D.set(k[N],x+G)}y=F}return D},s=function(g){var m=Array.apply([],g);return m.unshift(0),m},i=function(g,m){var B,b=[],F=g.length;b[0]=1;for(var y=0;y<F;y+=1)B=g[y-m]||0,b[y+1]=g[y]-B+256&255;return b},A=function(g,m,B){var b,F=[],y=g.length;F[0]=2;for(var x=0;x<y;x+=1)b=B&&B[x]||0,F[x+1]=g[x]-b+256&255;return F},a=function(g,m,B){var b,F,y=[],x=g.length;y[0]=3;for(var S=0;S<x;S+=1)b=g[S-m]||0,F=B&&B[S]||0,y[S+1]=g[S]+256-(b+F>>>1)&255;return y},o=function(g,m,B){var b,F,y,x,S=[],D=g.length;S[0]=4;for(var V=0;V<D;V+=1)b=g[V-m]||0,F=B&&B[V]||0,y=B&&B[V-m]||0,x=c(b,F,y),S[V+1]=g[V]-x+256&255;return S},c=function(g,m,B){if(g===m&&m===B)return g;var b=Math.abs(m-B),F=Math.abs(g-B),y=Math.abs(g+m-B-B);return b<=F&&b<=y?g:F<=y?m:B},h=function(){return[s,i,A,a,o]},f=function(g){var m=g.map(function(B){return B.reduce(function(b,F){return b+Math.abs(F)},0)});return m.indexOf(Math.min.apply(null,m))};t.processPNG=function(g,m,B,b){var F,y,x,S,D,V,G,Q,_,k,N,E,U,I,j,$=this.decode.FLATE_DECODE,ae="";if(this.__addimage__.isArrayBuffer(g)&&(g=new Uint8Array(g)),this.__addimage__.isArrayBufferView(g)){if(g=(x=new mV(g)).imgData,y=x.bits,F=x.colorSpace,D=x.colors,[4,6].indexOf(x.colorType)!==-1){if(x.bits===8){_=(Q=x.pixelBitlength==32?new Uint32Array(x.decodePixels().buffer):x.pixelBitlength==16?new Uint16Array(x.decodePixels().buffer):new Uint8Array(x.decodePixels().buffer)).length,N=new Uint8Array(_*x.colors),k=new Uint8Array(_);var ne,ee=x.pixelBitlength-x.bits;for(I=0,j=0;I<_;I++){for(U=Q[I],ne=0;ne<ee;)N[j++]=U>>>ne&255,ne+=x.bits;k[I]=U>>>ne&255}}if(x.bits===16){_=(Q=new Uint32Array(x.decodePixels().buffer)).length,N=new Uint8Array(_*(32/x.pixelBitlength)*x.colors),k=new Uint8Array(_*(32/x.pixelBitlength)),E=x.colors>1,I=0,j=0;for(var ce=0;I<_;)U=Q[I++],N[j++]=U>>>0&255,E&&(N[j++]=U>>>16&255,U=Q[I++],N[j++]=U>>>0&255),k[ce++]=U>>>16&255;y=8}b!==t.image_compression.NONE&&e()?(g=r(N,x.width*x.colors,x.colors,b),G=r(k,x.width,1,b)):(g=N,G=k,$=void 0)}if(x.colorType===3&&(F=this.color_spaces.INDEXED,V=x.palette,x.transparency.indexed)){var ye=x.transparency.indexed,_e=0;for(I=0,_=ye.length;I<_;++I)_e+=ye[I];if((_e/=255)===_-1&&ye.indexOf(0)!==-1)S=[ye.indexOf(0)];else if(_e!==_){for(Q=x.decodePixels(),k=new Uint8Array(Q.length),I=0,_=Q.length;I<_;I++)k[I]=ye[Q[I]];G=r(k,x.width,1)}}var P=function(q){var Z;switch(q){case t.image_compression.FAST:Z=11;break;case t.image_compression.MEDIUM:Z=13;break;case t.image_compression.SLOW:Z=14;break;default:Z=12}return Z}(b);return $===this.decode.FLATE_DECODE&&(ae="/Predictor "+P+" "),ae+="/Colors "+D+" /BitsPerComponent "+y+" /Columns "+x.width,(this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),(G&&this.__addimage__.isArrayBuffer(G)||this.__addimage__.isArrayBufferView(G))&&(G=this.__addimage__.arrayBufferToBinaryString(G)),{alias:B,data:g,index:m,filter:$,decodeParameters:ae,transparency:S,palette:V,sMask:G,predictor:P,width:x.width,height:x.height,bitsPerComponent:y,colorSpace:F}}}})(pt.API),function(t){t.processGIF89A=function(e,r,n,s){var i=new gV(e),A=i.width,a=i.height,o=[];i.decodeAndBlitFrameRGBA(0,o);var c={data:o,width:A,height:a},h=new J1(100).encode(c,100);return t.processJPEG.call(this,h,r,n,s)},t.processGIF87A=t.processGIF89A}(pt.API),Ni.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ni.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){ur.log("bit decode error:"+r)}},Ni.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,s=0;s<e;s++)for(var i=this.datav.getUint8(this.pos++,!0),A=n*this.width*4+8*s*4,a=0;a<8&&8*s+a<this.width;a++){var o=this.palette[i>>7-a&1];this.data[A+4*a]=o.blue,this.data[A+4*a+1]=o.green,this.data[A+4*a+2]=o.red,this.data[A+4*a+3]=255}r!==0&&(this.pos+=4-r)}},Ni.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<t;s++){var i=this.datav.getUint8(this.pos++,!0),A=n*this.width*4+2*s*4,a=i>>4,o=15&i,c=this.palette[a];if(this.data[A]=c.blue,this.data[A+1]=c.green,this.data[A+2]=c.red,this.data[A+3]=255,2*s+1>=this.width)break;c=this.palette[o],this.data[A+4]=c.blue,this.data[A+4+1]=c.green,this.data[A+4+2]=c.red,this.data[A+4+3]=255}e!==0&&(this.pos+=4-e)}},Ni.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(s<this.palette.length){var A=this.palette[s];this.data[i]=A.red,this.data[i+1]=A.green,this.data[i+2]=A.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},Ni.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var A=(i&e)/e*255|0,a=(i>>5&e)/e*255|0,o=(i>>10&e)/e*255|0,c=i>>15?255:0,h=n*this.width*4+4*s;this.data[h]=o,this.data[h+1]=a,this.data[h+2]=A,this.data[h+3]=c}this.pos+=t}},Ni.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var A=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(A&e)/e*255|0,o=(A>>5&r)/r*255|0,c=(A>>11)/e*255|0,h=s*this.width*4+4*i;this.data[h]=c,this.data[h+1]=o,this.data[h+2]=a,this.data[h+3]=255}this.pos+=t}},Ni.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),A=e*this.width*4+4*r;this.data[A]=i,this.data[A+1]=s,this.data[A+2]=n,this.data[A+3]=255}this.pos+=this.width%4}},Ni.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),A=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*r;this.data[a]=i,this.data[a+1]=s,this.data[a+2]=n,this.data[a+3]=A}},Ni.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,s){var i=new Ni(e,!1),A=i.width,a=i.height,o={data:i.getData(),width:A,height:a},c=new J1(100).encode(o,100);return t.processJPEG.call(this,c,r,n,s)}}(pt.API),QC.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,s){var i=new QC(e),A=i.width,a=i.height,o={data:i.getData(),width:A,height:a},c=new J1(100).encode(o,100);return t.processJPEG.call(this,c,r,n,s)}}(pt.API),pt.API.processRGBA=function(t,e,r){for(var n=t.data,s=n.length,i=new Uint8Array(s/4*3),A=new Uint8Array(s/4),a=0,o=0,c=0;c<s;c+=4){var h=n[c],f=n[c+1],g=n[c+2],m=n[c+3];i[a++]=h,i[a++]=f,i[a++]=g,A[o++]=m}var B=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(A),data:B,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},pt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Uc=pt.API,Pp=Uc.getCharWidthsArray=function(t,e){var r,n,s=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),A=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:s.metadata.Unicode.widths,o=a.fof?a.fof:1,c=e.kerning?e.kerning:s.metadata.Unicode.kerning,h=c.fof?c.fof:1,f=e.doKerning!==!1,g=0,m=t.length,B=0,b=a[0]||o,F=[];for(r=0;r<m;r++)n=t.charCodeAt(r),typeof s.metadata.widthOfString=="function"?F.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+A*(1e3/i)||0)/1e3):(g=f&&nr(c[n])==="object"&&!isNaN(parseInt(c[n][B],10))?c[n][B]/h:0,F.push((a[n]||b)/o+g)),B=n;return F},FC=Uc.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return Uc.processArabic&&(t=Uc.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,s)/r:Pp.apply(this,arguments).reduce(function(i,A){return i+A},0)},TC=function(t,e,r,n){for(var s=[],i=0,A=t.length,a=0;i!==A&&a+e[i]<r;)a+=e[i],i++;s.push(t.slice(0,i));var o=i;for(a=0;i!==A;)a+e[i]>n&&(s.push(t.slice(o,i)),a=0,o=i),a+=e[i],i++;return o!==i&&s.push(t.slice(o,i)),s},kC=function(t,e,r){r||(r={});var n,s,i,A,a,o,c,h=[],f=[h],g=r.textIndent||0,m=0,B=0,b=t.split(" "),F=Pp.apply(this,[" ",r])[0];if(o=r.lineIndent===-1?b[0].length+2:r.lineIndent||0){var y=Array(o).join(" "),x=[];b.map(function(D){(D=D.split(/\s*\n/)).length>1?x=x.concat(D.map(function(V,G){return(G&&V.length?`
`:"")+V})):x.push(D[0])}),b=x,o=FC.apply(this,[y,r])}for(i=0,A=b.length;i<A;i++){var S=0;if(n=b[i],o&&n[0]==`
`&&(n=n.substr(1),S=1),g+m+(B=(s=Pp.apply(this,[n,r])).reduce(function(D,V){return D+V},0))>e||S){if(B>e){for(a=TC.apply(this,[n,s,e-(g+m),e]),h.push(a.shift()),h=[a.pop()];a.length;)f.push([a.shift()]);B=s.slice(n.length-(h[0]?h[0].length:0)).reduce(function(D,V){return D+V},0)}else h=[n];f.push(h),g=B+o,m=F}else h.push(n),g+=m+B,m=F}return c=o?function(D,V){return(V?y:"")+D.join(" ")}:function(D){return D.join(" ")},f.map(c)},Uc.splitTextToSize=function(t,e,r){var n,s=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var f=this.internal.getFont(h.fontName,h.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var A=1*this.internal.scaleFactor*e/s;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=r.lineIndent;var a,o,c=[];for(a=0,o=n.length;a<o;a++)c=c.concat(kC.apply(this,[n[a],A,i]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},n={},s=0;s<e.length;s++)r[e[s]]="0123456789abcdef"[s],n["0123456789abcdef"[s]]=e[s];var i=function(f){return"0x"+parseInt(f,10).toString(16)},A=t.__fontmetrics__.compress=function(f){var g,m,B,b,F=["{"];for(var y in f){if(g=f[y],isNaN(parseInt(y,10))?m="'"+y+"'":(y=parseInt(y,10),m=(m=i(y).slice(2)).slice(0,-1)+n[m.slice(-1)]),typeof g=="number")g<0?(B=i(g).slice(3),b="-"):(B=i(g).slice(2),b=""),B=b+B.slice(0,-1)+n[B.slice(-1)];else{if(nr(g)!=="object")throw new Error("Don't know what to do with value type "+nr(g)+".");B=A(g)}F.push(m+B)}return F.push("}"),F.join("")},a=t.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,m,B,b,F={},y=1,x=F,S=[],D="",V="",G=f.length-1,Q=1;Q<G;Q+=1)(b=f[Q])=="'"?g?(B=g.join(""),g=void 0):g=[]:g?g.push(b):b=="{"?(S.push([x,B]),x={},B=void 0):b=="}"?((m=S.pop())[0][m[1]]=x,B=void 0,x=m[0]):b=="-"?y=-1:B===void 0?r.hasOwnProperty(b)?(D+=r[b],B=parseInt(D,16)*y,y=1,D=""):D+=b:r.hasOwnProperty(b)?(V+=r[b],x[B]=parseInt(V,16)*y,y=1,B=void 0,V=""):V+=b;return F},o={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:o,"Courier-Bold":o,"Courier-BoldOblique":o,"Courier-Oblique":o,Helvetica:o,"Helvetica-Bold":o,"Helvetica-BoldOblique":o,"Helvetica-Oblique":o,"Times-Roman":o,"Times-Bold":o,"Times-BoldItalic":o,"Times-Italic":o}},h={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(f){var g=f.font,m=h.Unicode[g.postScriptName];m&&(g.metadata.Unicode={},g.metadata.Unicode.widths=m.widths,g.metadata.Unicode.kerning=m.kerning);var B=c.Unicode[g.postScriptName];B&&(g.metadata.Unicode.encoding=B,g.encoding=B.codePages[0])}])}(pt.API),function(t){var e=function(r){for(var n=r.length,s=new Uint8Array(n),i=0;i<n;i++)s[i]=r.charCodeAt(i);return s};t.API.events.push(["addFont",function(r){var n=void 0,s=r.font,i=r.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(A,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(ch(a)),A.metadata=t.API.TTFFont.open(a),A.metadata.Unicode=A.metadata.Unicode||{encoding:{},kerning:{},widths:[]},A.metadata.glyIdsUsed=[0]})(s,n)}}])}(pt),function(t){function e(){return(mt.canvg?Promise.resolve(mt.canvg):Vy(()=>import("./index.es-D1q2Ma-s.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}pt.API.addSvgAsImage=function(r,n,s,i,A,a,o,c){if(isNaN(n)||isNaN(s))throw ur.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(A))throw ur.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=i,h.height=A;var f=h.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,h.width,h.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return e().then(function(B){return B.fromString(f,r,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(B){return B.render(g)}).then(function(){m.addImage(h.toDataURL("image/jpeg",1),n,s,i,A,o,c)})}}(),pt.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(e,r);return this},pt.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,s,i,A={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(A),o=[],c=0,h=0,f=0;function g(B,b){var F,y=!1;for(F=0;F<B.length;F+=1)B[F]===b&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(A)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var m=a.length;for(f=0;f<m;f+=1)r[a[f]].value=r[a[f]].defaultValue,r[a[f]].explicitSet=!1}if(nr(t)==="object"){for(s in t)if(i=t[s],g(a,s)&&i!==void 0){if(r[s].type==="boolean"&&typeof i=="boolean")r[s].value=i;else if(r[s].type==="name"&&g(r[s].valueSet,i))r[s].value=i;else if(r[s].type==="integer"&&Number.isInteger(i))r[s].value=i;else if(r[s].type==="array"){for(c=0;c<i.length;c+=1)if(n=!0,i[c].length===1&&typeof i[c][0]=="number")o.push(String(i[c]-1));else if(i[c].length>1){for(h=0;h<i[c].length;h+=1)typeof i[c][h]!="number"&&(n=!1);n===!0&&o.push([i[c][0]-1,i[c][1]-1].join(" "))}r[s].value="["+o.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var B,b=[];for(B in r)r[B].explicitSet===!0&&(r[B].type==="name"?b.push("/"+B+" /"+r[B].value):b.push("/"+B+" "+r[B].value));b.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+b.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),A=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),o=unescape(encodeURIComponent("</x:xmpmeta>")),c=i.length+A.length+a.length+s.length+o.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(s+i+A+a+o),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(pt.API),function(t){var e=t.API,r=e.pdfEscape16=function(i,A){for(var a,o=A.metadata.Unicode.widths,c=["","0","00","000","0000"],h=[""],f=0,g=i.length;f<g;++f){if(a=A.metadata.characterToGlyph(i.charCodeAt(f)),A.metadata.glyIdsUsed.push(a),A.metadata.toUnicode[a]=i.charCodeAt(f),o.indexOf(a)==-1&&(o.push(a),o.push([parseInt(A.metadata.widthOfGlyph(a),10)])),a=="0")return h.join("");a=a.toString(16),h.push(c[4-a.length],a)}return h.join("")},n=function(i){var A,a,o,c,h,f,g;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,o=[],f=0,g=(a=Object.keys(i).sort(function(m,B){return m-B})).length;f<g;f++)A=a[f],o.length>=100&&(h+=`
`+o.length+` beginbfchar
`+o.join(`
`)+`
endbfchar`,o=[]),i[A]!==void 0&&i[A]!==null&&typeof i[A].toString=="function"&&(c=("0000"+i[A].toString(16)).slice(-4),A=("0000"+(+A).toString(16)).slice(-4),o.push("<"+A+"><"+c+">"));return o.length&&(h+=`
`+o.length+` beginbfchar
`+o.join(`
`)+`
endbfchar
`),h+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(A){var a=A.font,o=A.out,c=A.newObject,h=A.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var f=a.metadata.Unicode.widths,g=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),m="",B=0;B<g.length;B++)m+=String.fromCharCode(g[B]);var b=c();h({data:m,addLength1:!0,objectId:b}),o("endobj");var F=c();h({data:n(a.metadata.toUnicode),addLength1:!0,objectId:F}),o("endobj");var y=c();o("<<"),o("/Type /FontDescriptor"),o("/FontName /"+Oc(a.fontName)),o("/FontFile2 "+b+" 0 R"),o("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),o("/Flags "+a.metadata.flags),o("/StemV "+a.metadata.stemV),o("/ItalicAngle "+a.metadata.italicAngle),o("/Ascent "+a.metadata.ascender),o("/Descent "+a.metadata.decender),o("/CapHeight "+a.metadata.capHeight),o(">>"),o("endobj");var x=c();o("<<"),o("/Type /Font"),o("/BaseFont /"+Oc(a.fontName)),o("/FontDescriptor "+y+" 0 R"),o("/W "+t.API.PDFObject.convert(f)),o("/CIDToGIDMap /Identity"),o("/DW 1000"),o("/Subtype /CIDFontType2"),o("/CIDSystemInfo"),o("<<"),o("/Supplement 0"),o("/Registry (Adobe)"),o("/Ordering ("+a.encoding+")"),o(">>"),o(">>"),o("endobj"),a.objectNumber=c(),o("<<"),o("/Type /Font"),o("/Subtype /Type0"),o("/ToUnicode "+F+" 0 R"),o("/BaseFont /"+Oc(a.fontName)),o("/Encoding /"+a.encoding),o("/DescendantFonts ["+x+" 0 R]"),o(">>"),o("endobj"),a.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(A){var a=A.font,o=A.out,c=A.newObject,h=A.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var f=a.metadata.rawData,g="",m=0;m<f.length;m++)g+=String.fromCharCode(f[m]);var B=c();h({data:g,addLength1:!0,objectId:B}),o("endobj");var b=c();h({data:n(a.metadata.toUnicode),addLength1:!0,objectId:b}),o("endobj");var F=c();o("<<"),o("/Descent "+a.metadata.decender),o("/CapHeight "+a.metadata.capHeight),o("/StemV "+a.metadata.stemV),o("/Type /FontDescriptor"),o("/FontFile2 "+B+" 0 R"),o("/Flags 96"),o("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),o("/FontName /"+Oc(a.fontName)),o("/ItalicAngle "+a.metadata.italicAngle),o("/Ascent "+a.metadata.ascender),o(">>"),o("endobj"),a.objectNumber=c();for(var y=0;y<a.metadata.hmtx.widths.length;y++)a.metadata.hmtx.widths[y]=parseInt(a.metadata.hmtx.widths[y]*(1e3/a.metadata.head.unitsPerEm));o("<</Subtype/TrueType/Type/Font/ToUnicode "+b+" 0 R/BaseFont/"+Oc(a.fontName)+"/FontDescriptor "+F+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),o("endobj"),a.isAlreadyPutted=!0}})(i)}]);var s=function(i){var A,a=i.text||"",o=i.x,c=i.y,h=i.options||{},f=i.mutex||{},g=f.pdfEscape,m=f.activeFontKey,B=f.fonts,b=m,F="",y=0,x="",S=B[b].encoding;if(B[b].encoding!=="Identity-H")return{text:a,x:o,y:c,options:h,mutex:f};for(x=a,b=m,Array.isArray(a)&&(x=a[0]),y=0;y<x.length;y+=1)B[b].metadata.hasOwnProperty("cmap")&&(A=B[b].metadata.cmap.unicode.codeMap[x[y].charCodeAt(0)]),A||x[y].charCodeAt(0)<256&&B[b].metadata.hasOwnProperty("Unicode")?F+=x[y]:F+="";var D="";return parseInt(b.slice(1))<14||S==="WinAnsiEncoding"?D=g(F,b).split("").map(function(V){return V.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(D=r(F,B[b])),f.isHex=!0,{text:D,x:o,y:c,options:h,mutex:f}};e.events.push(["postProcessText",function(i){var A=i.text||"",a=[],o={text:A,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(A)){var c=0;for(c=0;c<A.length;c+=1)Array.isArray(A[c])&&A[c].length===3?a.push([s(Object.assign({},o,{text:A[c][0]})).text,A[c][1],A[c][2]]):a.push(s(Object.assign({},o,{text:A[c]})).text);i.text=a}else i.text=s(Object.assign({},o,{text:A})).text}])}(pt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(pt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var s,i,A,a,o,c,h,f=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],B={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},b={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},F=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),x=!1,S=0;this.__bidiEngine__={};var D=function(E){var U=E.charCodeAt(),I=U>>8,j=b[I];return j!==void 0?f[256*j+(255&U)]:I===252||I===253?"AL":y.test(I)?"L":I===8?"R":"N"},V=function(E){for(var U,I=0;I<E.length;I++){if((U=D(E.charAt(I)))==="L")return!1;if(U==="R")return!0}return!1},G=function(E,U,I,j){var $,ae,ne,ee,ce=U[j];switch(ce){case"L":case"R":x=!1;break;case"N":case"AN":break;case"EN":x&&(ce="AN");break;case"AL":x=!0,ce="R";break;case"WS":ce="N";break;case"CS":j<1||j+1>=U.length||($=I[j-1])!=="EN"&&$!=="AN"||(ae=U[j+1])!=="EN"&&ae!=="AN"?ce="N":x&&(ae="AN"),ce=ae===$?ae:"N";break;case"ES":ce=($=j>0?I[j-1]:"B")==="EN"&&j+1<U.length&&U[j+1]==="EN"?"EN":"N";break;case"ET":if(j>0&&I[j-1]==="EN"){ce="EN";break}if(x){ce="N";break}for(ne=j+1,ee=U.length;ne<ee&&U[ne]==="ET";)ne++;ce=ne<ee&&U[ne]==="EN"?"EN":"N";break;case"NSM":if(A&&!a){for(ee=U.length,ne=j+1;ne<ee&&U[ne]==="NSM";)ne++;if(ne<ee){var ye=E[j],_e=ye>=1425&&ye<=2303||ye===64286;if($=U[ne],_e&&($==="R"||$==="AL")){ce="R";break}}}ce=j<1||($=U[j-1])==="B"?"N":I[j-1];break;case"B":x=!1,s=!0,ce=S;break;case"S":i=!0,ce="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":x=!1;break;case"BN":ce="N"}return ce},Q=function(E,U,I){var j=E.split("");return I&&_(j,I,{hiLevel:S}),j.reverse(),U&&U.reverse(),j.join("")},_=function(E,U,I){var j,$,ae,ne,ee,ce=-1,ye=E.length,_e=0,P=[],q=S?m:g,Z=[];for(x=!1,s=!1,i=!1,$=0;$<ye;$++)Z[$]=D(E[$]);for(ae=0;ae<ye;ae++){if(ee=_e,P[ae]=G(E,Z,P,ae),j=240&(_e=q[ee][B[P[ae]]]),_e&=15,U[ae]=ne=q[_e][5],j>0)if(j===16){for($=ce;$<ae;$++)U[$]=1;ce=-1}else ce=-1;if(q[_e][6])ce===-1&&(ce=ae);else if(ce>-1){for($=ce;$<ae;$++)U[$]=ne;ce=-1}Z[ae]==="B"&&(U[ae]=0),I.hiLevel|=ne}i&&function(Y,X,J){for(var Ae=0;Ae<J;Ae++)if(Y[Ae]==="S"){X[Ae]=S;for(var le=Ae-1;le>=0&&Y[le]==="WS";le--)X[le]=S}}(Z,U,ye)},k=function(E,U,I,j,$){if(!($.hiLevel<E)){if(E===1&&S===1&&!s)return U.reverse(),void(I&&I.reverse());for(var ae,ne,ee,ce,ye=U.length,_e=0;_e<ye;){if(j[_e]>=E){for(ee=_e+1;ee<ye&&j[ee]>=E;)ee++;for(ce=_e,ne=ee-1;ce<ne;ce++,ne--)ae=U[ce],U[ce]=U[ne],U[ne]=ae,I&&(ae=I[ce],I[ce]=I[ne],I[ne]=ae);_e=ee}_e++}}},N=function(E,U,I){var j=E.split(""),$={hiLevel:S};return I||(I=[]),_(j,I,$),function(ae,ne,ee){if(ee.hiLevel!==0&&h)for(var ce,ye=0;ye<ae.length;ye++)ne[ye]===1&&(ce=F.indexOf(ae[ye]))>=0&&(ae[ye]=F[ce+1])}(j,I,$),k(2,j,U,I,$),k(1,j,U,I,$),j.join("")};return this.__bidiEngine__.doBidiReorder=function(E,U,I){if(function($,ae){if(ae)for(var ne=0;ne<$.length;ne++)ae[ne]=ne;a===void 0&&(a=V($)),c===void 0&&(c=V($))}(E,U),A||!o||c)if(A&&o&&a^c)S=a?1:0,E=Q(E,U,I);else if(!A&&o&&c)S=a?1:0,E=N(E,U,I),E=Q(E,U);else if(!A||a||o||c){if(A&&!o&&a^c)E=Q(E,U),a?(S=0,E=N(E,U,I)):(S=1,E=N(E,U,I),E=Q(E,U));else if(A&&a&&!o&&c)S=1,E=N(E,U,I),E=Q(E,U);else if(!A&&!o&&a^c){var j=h;a?(S=1,E=N(E,U,I),S=0,h=!1,E=N(E,U,I),h=j):(S=0,E=N(E,U,I),E=Q(E,U),S=1,h=!1,E=N(E,U,I),h=j,E=Q(E,U))}}else S=0,E=N(E,U,I);else S=a?1:0,E=N(E,U,I);return E},this.__bidiEngine__.setOptions=function(E){E&&(A=E.isInputVisual,o=E.isOutputVisual,a=E.isInputRtl,c=E.isOutputRtl,h=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var s=n.text,i=(n.x,n.y,n.options||{}),A=(n.mutex,i.lang,[]);if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var a=0;for(A=[],a=0;a<s.length;a+=1)Object.prototype.toString.call(s[a])==="[object Array]"?A.push([r.doBidiReorder(s[a][0]),s[a][1],s[a][2]]):A.push([r.doBidiReorder(s[a])]);n.text=A}else n.text=r.doBidiReorder(s);r.setOptions({isInputVisual:!0})}])}(pt),pt.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new Ho(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new kV(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new vV(this.contents),this.head=new wV(this),this.name=new EV(this),this.cmap=new eF(this),this.toUnicode={},this.hhea=new xV(this),this.maxp=new _V(this),this.hmtx=new IV(this),this.post=new bV(this),this.os2=new BV(this),this.loca=new TV(this),this.glyf=new SV(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var A,a,o,c;for(c=[],A=0,a=(o=this.bbox).length;A<a;A++)e=o[A],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(r=s>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var s,i,A,a;for(A=0,i=0,a=(e=""+e).length;0<=a?i<a:i>a;i=0<=a?++i:--i)s=e.charCodeAt(i),A+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/r)||0;return A*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var Gi,Ho=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,s;for(s=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)s.push(this.writeByte(e.charCodeAt(r)));return s},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,s,i,A,a,o;return e=this.readByte(),r=this.readByte(),n=this.readByte(),s=this.readByte(),i=this.readByte(),A=this.readByte(),a=this.readByte(),o=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^i)+65536*(255^A)+256*(255^a)+(255^o)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*s+16777216*i+65536*A+256*a+o},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,s,i;for(i=[],n=0,s=e.length;n<s;n++)r=e[n],i.push(this.writeByte(r));return i},t}(),vV=function(){var t;function e(r){var n,s,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,s,i,A,a,o,c,h,f,g,m,B,b;for(b in m=Object.keys(r).length,o=Math.log(2),f=16*Math.floor(Math.log(m)/o),A=Math.floor(f/o),h=16*m-f,(s=new Ho).writeInt(this.scalarType),s.writeShort(m),s.writeShort(f),s.writeShort(A),s.writeShort(h),i=16*m,c=s.pos+i,a=null,B=[],r)for(g=r[b],s.writeString(b),s.writeInt(t(g)),s.writeInt(c),s.writeInt(g.length),B=B.concat(g),b==="head"&&(a=c),c+=g.length;c%4;)B.push(0),c++;return s.write(B),n=2981146554-t(s.data),s.pos=a+8,s.writeUInt32(n),s.data},t=function(r){var n,s,i,A;for(r=tF.call(r);r.length%4;)r.push(0);for(i=new Ho(r),s=0,n=0,A=r.length;n<A;n=n+=4)s+=i.readUInt32();return 4294967295&s},e}(),yV={}.hasOwnProperty,BA=function(t,e){for(var r in e)yV.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Gi=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var wV=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return BA(e,Gi),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var n;return(n=new Ho).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},e}(),LC=function(){function t(e,r){var n,s,i,A,a,o,c,h,f,g,m,B,b,F,y,x,S;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(o=0;o<256;++o)this.codeMap[o]=e.readByte();break;case 4:for(m=e.readUInt16(),g=m/2,e.pos+=6,i=function(){var D,V;for(V=[],o=D=0;0<=g?D<g:D>g;o=0<=g?++D:--D)V.push(e.readUInt16());return V}(),e.pos+=2,b=function(){var D,V;for(V=[],o=D=0;0<=g?D<g:D>g;o=0<=g?++D:--D)V.push(e.readUInt16());return V}(),c=function(){var D,V;for(V=[],o=D=0;0<=g?D<g:D>g;o=0<=g?++D:--D)V.push(e.readUInt16());return V}(),h=function(){var D,V;for(V=[],o=D=0;0<=g?D<g:D>g;o=0<=g?++D:--D)V.push(e.readUInt16());return V}(),s=(this.length-e.pos+this.offset)/2,a=function(){var D,V;for(V=[],o=D=0;0<=s?D<s:D>s;o=0<=s?++D:--D)V.push(e.readUInt16());return V}(),o=y=0,S=i.length;y<S;o=++y)for(F=i[o],n=x=B=b[o];B<=F?x<=F:x>=F;n=B<=F?++x:--x)h[o]===0?A=n+c[o]:(A=a[h[o]/2+(n-B)-(g-o)]||0)!==0&&(A+=c[o]),this.codeMap[n]=65535&A}e.pos=f}return t.encode=function(e,r){var n,s,i,A,a,o,c,h,f,g,m,B,b,F,y,x,S,D,V,G,Q,_,k,N,E,U,I,j,$,ae,ne,ee,ce,ye,_e,P,q,Z,Y,X,J,Ae,le,oe,he,Ee;switch(j=new Ho,A=Object.keys(e).sort(function(pe,Te){return pe-Te}),r){case"macroman":for(b=0,F=function(){var pe=[];for(B=0;B<256;++B)pe.push(0);return pe}(),x={0:0},i={},$=0,ce=A.length;$<ce;$++)x[le=e[s=A[$]]]==null&&(x[le]=++b),i[s]={old:e[s],new:x[e[s]]},F[s]=x[e[s]];return j.writeUInt16(1),j.writeUInt16(0),j.writeUInt32(12),j.writeUInt16(0),j.writeUInt16(262),j.writeUInt16(0),j.write(F),{charMap:i,subtable:j.data,maxGlyphID:b+1};case"unicode":for(U=[],f=[],S=0,x={},n={},y=c=null,ae=0,ye=A.length;ae<ye;ae++)x[V=e[s=A[ae]]]==null&&(x[V]=++S),n[s]={old:V,new:x[V]},a=x[V]-s,y!=null&&a===c||(y&&f.push(y),U.push(s),c=a),y=s;for(y&&f.push(y),f.push(65535),U.push(65535),N=2*(k=U.length),_=2*Math.pow(Math.log(k)/Math.LN2,2),g=Math.log(_/2)/Math.LN2,Q=2*k-_,o=[],G=[],m=[],B=ne=0,_e=U.length;ne<_e;B=++ne){if(E=U[B],h=f[B],E===65535){o.push(0),G.push(0);break}if(E-(I=n[E].new)>=32768)for(o.push(0),G.push(2*(m.length+k-B)),s=ee=E;E<=h?ee<=h:ee>=h;s=E<=h?++ee:--ee)m.push(n[s].new);else o.push(I-E),G.push(0)}for(j.writeUInt16(3),j.writeUInt16(1),j.writeUInt32(12),j.writeUInt16(4),j.writeUInt16(16+8*k+2*m.length),j.writeUInt16(0),j.writeUInt16(N),j.writeUInt16(_),j.writeUInt16(g),j.writeUInt16(Q),J=0,P=f.length;J<P;J++)s=f[J],j.writeUInt16(s);for(j.writeUInt16(0),Ae=0,q=U.length;Ae<q;Ae++)s=U[Ae],j.writeUInt16(s);for(oe=0,Z=o.length;oe<Z;oe++)a=o[oe],j.writeUInt16(a);for(he=0,Y=G.length;he<Y;he++)D=G[he],j.writeUInt16(D);for(Ee=0,X=m.length;Ee<X;Ee++)b=m[Ee],j.writeUInt16(b);return{charMap:n,subtable:j.data,maxGlyphID:S+1}}},t}(),eF=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return BA(e,Gi),e.prototype.tag="cmap",e.prototype.parse=function(r){var n,s,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)n=new LC(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(r,n){var s,i;return n==null&&(n="macroman"),s=LC.encode(r,n),(i=new Ho).writeUInt16(0),i.writeUInt16(1),s.table=i.data.concat(s.subtable),s},e}(),xV=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return BA(e,Gi),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),BV=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return BA(e,Gi),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,s;for(s=[],n=0;n<10;++n)s.push(r.readByte());return s}(),this.charRange=function(){var n,s;for(s=[],n=0;n<4;++n)s.push(r.readInt());return s}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,s;for(s=[],n=0;n<2;n=++n)s.push(r.readInt());return s}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),bV=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return BA(e,Gi),e.prototype.tag="post",e.prototype.parse=function(r){var n,s,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var A;for(s=r.readUInt16(),this.glyphNameIndex=[],A=0;0<=s?A<s:A>s;A=0<=s?++A:--A)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return s=r.readUInt16(),this.offsets=r.read(s);case 196608:break;case 262144:return this.map=(function(){var a,o,c;for(c=[],A=a=0,o=this.file.maxp.numGlyphs;0<=o?a<o:a>o;A=0<=o?++a:--a)c.push(r.readUInt32());return c}).call(this)}},e}(),CV=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},EV=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return BA(e,Gi),e.prototype.tag="name",e.prototype.parse=function(r){var n,s,i,A,a,o,c,h,f,g,m;for(r.pos=this.offset,r.readShort(),n=r.readShort(),o=r.readShort(),s=[],A=0;0<=n?A<n:A>n;A=0<=n?++A:--A)s.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+o+r.readShort()});for(c={},A=f=0,g=s.length;f<g;A=++f)i=s[A],r.pos=i.offset,h=r.readString(i.length),a=new CV(h,i),c[m=i.nameID]==null&&(c[m]=[]),c[i.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),_V=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return BA(e,Gi),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),IV=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return BA(e,Gi),e.prototype.tag="hmtx",e.prototype.parse=function(r){var n,s,i,A,a,o,c;for(r.pos=this.offset,this.metrics=[],n=0,o=this.file.hhea.numberOfMetrics;0<=o?n<o:n>o;n=0<=o?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var h,f;for(f=[],n=h=0;0<=i?h<i:h>i;n=0<=i?++h:--h)f.push(r.readInt16());return f}(),this.widths=(function(){var h,f,g,m;for(m=[],h=0,f=(g=this.metrics).length;h<f;h++)A=g[h],m.push(A.advance);return m}).call(this),s=this.widths[this.widths.length-1],c=[],n=a=0;0<=i?a<i:a>i;n=0<=i?++a:--a)c.push(this.widths.push(s));return c},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),tF=[].slice,SV=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return BA(e,Gi),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var n,s,i,A,a,o,c,h,f,g;return r in this.cache?this.cache[r]:(A=this.file.loca,n=this.file.contents,s=A.indexOf(r),(i=A.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+s,a=(o=new Ho(n.read(i))).readShort(),h=o.readShort(),g=o.readShort(),c=o.readShort(),f=o.readShort(),this.cache[r]=a===-1?new FV(o,h,g,c,f):new NV(o,a,h,g,c,f),this.cache[r]))},e.prototype.encode=function(r,n,s){var i,A,a,o,c;for(a=[],A=[],o=0,c=n.length;o<c;o++)i=r[n[o]],A.push(a.length),i&&(a=a.concat(i.encode(s)));return A.push(a.length),{table:a,offsets:A}},e}(),NV=function(){function t(e,r,n,s,i,A){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=s,this.xMax=i,this.yMax=A,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),FV=function(){function t(e,r,n,s,i){var A,a;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],A=this.raw;a=A.readShort(),this.glyphOffsets.push(A.pos),this.glyphIDs.push(A.readUInt16()),32&a;)A.pos+=1&a?4:2,128&a?A.pos+=8:64&a?A.pos+=4:8&a&&(A.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new Ho(tF.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),TV=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return BA(e,Gi),e.prototype.tag="loca",e.prototype.parse=function(r){var n,s;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,A;for(A=[],s=0,i=this.length;s<i;s+=2)A.push(2*r.readUInt16());return A}).call(this):(function(){var i,A;for(A=[],s=0,i=this.length;s<i;s+=4)A.push(r.readUInt32());return A}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,n){for(var s=new Uint32Array(this.offsets.length),i=0,A=0,a=0;a<s.length;++a)if(s[a]=i,A<n.length&&n[A]==a){++A,s[a]=i;var o=this.offsets[a],c=this.offsets[a+1]-o;c>0&&(i+=c)}for(var h=new Array(4*s.length),f=0;f<s.length;++f)h[4*f+3]=255&s[f],h[4*f+2]=(65280&s[f])>>8,h[4*f+1]=(16711680&s[f])>>16,h[4*f]=(4278190080&s[f])>>24;return h},e}(),kV=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,s,i;for(r in s=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[r],e[r]=s[n];return e},t.prototype.glyphsFor=function(e){var r,n,s,i,A,a,o;for(s={},A=0,a=e.length;A<a;A++)s[i=e[A]]=this.font.glyf.glyphFor(i);for(i in r=[],s)(n=s[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in o=this.glyphsFor(r))n=o[i],s[i]=n;return s},t.prototype.encode=function(e,r){var n,s,i,A,a,o,c,h,f,g,m,B,b,F,y;for(s in n=eF.encode(this.generateCmap(),"unicode"),A=this.glyphsFor(e),m={0:0},y=n.charMap)m[(o=y[s]).old]=o.new;for(B in g=n.maxGlyphID,A)B in m||(m[B]=g++);return h=function(x){var S,D;for(S in D={},x)D[x[S]]=S;return D}(m),f=Object.keys(h).sort(function(x,S){return x-S}),b=function(){var x,S,D;for(D=[],x=0,S=f.length;x<S;x++)a=f[x],D.push(h[a]);return D}(),i=this.font.glyf.encode(A,b,m),c=this.font.loca.encode(i.offsets,b),F={cmap:this.font.cmap.raw(),glyf:i.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(F["OS/2"]=this.font.os2.raw()),this.font.directory.encode(F)},t}();pt.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,s,i,A;if(Array.isArray(r))return"["+function(){var a,o,c;for(c=[],a=0,o=r.length;a<o;a++)n=r[a],c.push(e.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(s in i=["<<"],r)A=r[s],i.push("/"+s+" "+e.convert(A));return i.push(">>"),i.join(`
`)}return""+r},e}();const rF=({teacher:t,schedule:e,subjects:r,classes:n})=>{const s=(a,o)=>{var f;const c=(f=e.schedule[a])==null?void 0:f[o];return c!=null&&c.classId?{classItem:n.find(g=>g.id===c.classId)}:null},i=(a,o,c)=>{var f;const h=(f=e.schedule[a])==null?void 0:f[o];return!h||h.classId!=="fixed-period"?null:h.subjectId==="fixed-prep"?{title:"Hazırlık",subtitle:c==="Ortaokul"?"08:30-08:40":"08:30-08:50",color:"bg-blue-100 border-blue-300 text-blue-800"}:h.subjectId==="fixed-breakfast"?{title:"Kahvaltı",subtitle:c==="Ortaokul"?"09:15-09:35":"08:30-08:50",color:"bg-orange-100 border-orange-300 text-orange-800"}:h.subjectId==="fixed-lunch"?{title:"Yemek",subtitle:c==="İlkokul"||c==="Anaokulu"?"11:50-12:25":"12:30-13:05",color:"bg-green-100 border-green-300 text-green-800"}:h.subjectId==="fixed-afternoon-breakfast"?{title:"İkindi Kahvaltısı",subtitle:"14:35-14:45",color:"bg-yellow-100 border-yellow-300 text-yellow-800"}:null},A=a=>{const o=Mh(a,t.level);return o?s0(o.startTime,o.endTime):`${a}. Ders`};return l.jsxs("div",{style:{width:"297mm",height:"210mm",padding:"10mm",fontSize:"12px",lineHeight:"1.4",fontFamily:'"Segoe UI", Tahoma, Geneva, Verdana, sans-serif',backgroundColor:"white",color:"#000000"},children:[l.jsxs("div",{style:{marginBottom:"8mm",paddingBottom:"4mm",borderBottom:"2px solid #000000"},children:[l.jsx("h1",{style:{fontSize:"18px",fontWeight:"bold",margin:"0 0 4px 0",color:"#000000"},children:t.name}),l.jsxs("p",{style:{fontSize:"14px",margin:0,color:"#000000"},children:[t.branch," - ",t.level]})]}),l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"11px"},children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",fontWeight:"bold",backgroundColor:"#e6f3ff",width:"80px"},children:"SAAT"}),Tt.map(a=>l.jsx("th",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",fontWeight:"bold",backgroundColor:"#e6f3ff"},children:a.toUpperCase()},a))]})}),l.jsxs("tbody",{children:[l.jsxs("tr",{style:{backgroundColor:"#f0f8ff"},children:[l.jsxs("td",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",fontWeight:"bold",backgroundColor:"#e6f3ff"},children:[l.jsx("div",{style:{fontSize:"10px",fontWeight:"bold"},children:t.level==="Ortaokul"?"Hazırlık":"Kahvaltı"}),l.jsx("div",{style:{fontSize:"8px",color:"#666666",marginTop:"2px"},children:t.level==="Ortaokul"?"08:30-08:40":"08:30-08:50"})]}),Tt.map(a=>{const o=i(a,"prep",t.level);return l.jsx("td",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",backgroundColor:"#f0f8ff"},children:(o==null?void 0:o.title)||(t.level==="Ortaokul"?"Hazırlık":"Kahvaltı")},`${a}-prep`)})]}),An.map((a,o)=>{const c=A(a),h=(t.level==="İlkokul"||t.level==="Anaokulu")&&a==="5"||t.level==="Ortaokul"&&a==="6",f=t.level==="Ortaokul"&&a==="1",g=a==="8";return l.jsxs(hi.Fragment,{children:[l.jsxs("tr",{style:{backgroundColor:h?"#f0fff0":o%2===0?"#ffffff":"#f8f9fa"},children:[l.jsxs("td",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",fontWeight:"bold",backgroundColor:h?"#e6ffe6":"#e6f3ff"},children:[l.jsx("div",{style:{fontSize:"10px",fontWeight:"bold"},children:h?"Yemek":`${a}.`}),l.jsx("div",{style:{fontSize:"8px",color:"#666666",marginTop:"2px"},children:h?t.level==="İlkokul"||t.level==="Anaokulu"?"11:50-12:25":"12:30-13:05":c})]}),Tt.map(m=>{var b;if(h)return l.jsx("td",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",backgroundColor:"#f0fff0"},children:"Yemek"},`${m}-${a}`);const B=s(m,a);return l.jsx("td",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",backgroundColor:o%2===0?"#ffffff":"#f8f9fa"},children:B?l.jsx("div",{style:{fontWeight:"bold",fontSize:"10px"},children:(b=B.classItem)==null?void 0:b.name}):l.jsx("span",{style:{color:"#999999",fontSize:"9px"},children:"Boş"})},`${m}-${a}`)})]}),f&&l.jsxs("tr",{style:{backgroundColor:"#fff8f0"},children:[l.jsxs("td",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",fontWeight:"bold",backgroundColor:"#ffe6cc"},children:[l.jsx("div",{style:{fontSize:"10px",fontWeight:"bold"},children:"Kahvaltı"}),l.jsx("div",{style:{fontSize:"8px",color:"#666666",marginTop:"2px"},children:"09:15-09:35"})]}),Tt.map(m=>{const B=i(m,"breakfast",t.level);return l.jsx("td",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",backgroundColor:"#fff8f0"},children:(B==null?void 0:B.title)||"Kahvaltı"},`${m}-breakfast`)})]}),g&&l.jsxs("tr",{style:{backgroundColor:"#fffbf0"},children:[l.jsxs("td",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",fontWeight:"bold",backgroundColor:"#fff3e0"},children:[l.jsx("div",{style:{fontSize:"10px",fontWeight:"bold"},children:"İkindi Kahvaltısı"}),l.jsx("div",{style:{fontSize:"8px",color:"#666666",marginTop:"2px"},children:"14:35-14:45"})]}),Tt.map(m=>l.jsx("td",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",backgroundColor:"#fffbf0"},children:"İkindi Kahvaltısı"},`${m}-afternoon-breakfast`))]})]},a)})]})]})]})},UV=()=>{const{data:t}=yt("teachers"),{data:e}=yt("classes"),{data:r}=yt("subjects"),{data:n,remove:s}=yt("schedules"),{data:i}=yt("schedule-templates"),{success:A,error:a,warning:o}=Ys(),{confirmation:c,showConfirmation:h,hideConfirmation:f,confirmDelete:g}=pa(),[m,B]=ue.useState(""),[b,F]=ue.useState(""),[y,x]=ue.useState(""),[S,D]=ue.useState(""),[V,G]=ue.useState(!1),[Q,_]=ue.useState(!1),k=ue.useRef({}),N=[...t].sort((oe,he)=>oe.name.localeCompare(he.name,"tr"));[...e].sort((oe,he)=>oe.name.localeCompare(he.name,"tr"));const E=[{value:"",label:"Tüm Seviyeler"},{value:"Anaokulu",label:"Anaokulu"},{value:"İlkokul",label:"İlkokul"},{value:"Ortaokul",label:"Ortaokul"}],U=[{value:"",label:"Tüm Günler"},...Tt.map(oe=>({value:oe,label:oe}))],I=[{value:"",label:"Tüm Saatler"},...An.map(oe=>({value:oe,label:`${oe}. Ders`}))],j=()=>N.filter(oe=>{const he=!m||oe.level===m,Ee=!S||oe.name.toLowerCase().includes(S.toLowerCase())||oe.branch.toLowerCase().includes(S.toLowerCase());return he&&Ee}),$=oe=>n.find(he=>he.teacherId===oe),ae=(oe,he,Ee)=>{var te;const pe=$(oe),Te=(te=pe==null?void 0:pe.schedule[he])==null?void 0:te[Ee];return Te!=null&&Te.classId?{classItem:e.find(ve=>ve.id===Te.classId)}:null},ne=(oe,he,Ee,pe)=>{var te;const Te=$(Ee),we=(te=Te==null?void 0:Te.schedule[oe])==null?void 0:te[he];return!we||we.classId!=="fixed-period"?null:we.subjectId==="fixed-prep"?{title:"Hazırlık",subtitle:pe==="Ortaokul"?"08:30-08:40":"08:30-08:50",color:"bg-blue-100 border-blue-300 text-blue-800"}:we.subjectId==="fixed-breakfast"?{title:"Kahvaltı",subtitle:"08:30-08:50",color:"bg-orange-100 border-orange-300 text-orange-800"}:we.subjectId==="fixed-lunch"?{title:"Yemek",subtitle:pe==="İlkokul"||pe==="Anaokulu"?"11:50-12:25":"12:30-13:05",color:"bg-green-100 border-green-300 text-green-800"}:we.subjectId==="fixed-afternoon-breakfast"?{title:"İkindi Kahvaltısı",subtitle:"14:35-14:45",color:"bg-yellow-100 border-yellow-300 text-yellow-800"}:null},ee=(oe,he)=>{const Ee={};return n.forEach(pe=>{var we;const Te=(we=pe.schedule[oe])==null?void 0:we[he];if(Te!=null&&Te.classId&&Te.classId!=="fixed-period"){const te=t.find(ve=>ve.id===pe.teacherId);te&&(Ee[Te.classId]={teacher:te})}}),Ee},ce=()=>{const oe=[];return Tt.forEach(he=>{An.forEach(Ee=>{const pe=ee(he,Ee),Te=Object.keys(pe);Te.filter((te,ve)=>Te.indexOf(te)!==ve).forEach(te=>{var ie;const ve=((ie=e.find(fe=>fe.id===te))==null?void 0:ie.name)||"Bilinmeyen Sınıf";oe.push(`${he} ${Ee}. ders: ${ve} sınıfı çakışıyor`)})})}),[...new Set(oe)]},ye=oe=>{const he=i.find(Ee=>{var pe,Te,we;return(we=(Te=(pe=Ee.wizardData)==null?void 0:pe.teachers)==null?void 0:Te.selectedTeachers)==null?void 0:we.includes(oe)});return he?he.name:null},_e=()=>{const oe=J.filter(he=>n.some(Ee=>Ee.teacherId===he.id));if(oe.length===0){o("⚠️ Silinecek Program Yok","Filtrelenen öğretmenler arasında silinecek program bulunamadı");return}g(`${oe.length} Öğretmen Programı`,async()=>{_(!0);try{let he=0;const Ee=n.filter(pe=>oe.some(Te=>Te.id===pe.teacherId));console.log("🗑️ Silinecek öğretmen programları:",{totalSchedules:n.length,schedulesToDelete:Ee.length,teachersWithSchedules:oe.length});for(const pe of Ee)try{await s(pe.id),he++,console.log(`✅ Öğretmen programı silindi: ${pe.id}`)}catch(Te){console.error(`❌ Program silinemedi: ${pe.id}`,Te)}he>0?A("🗑️ Programlar Silindi",`${he} öğretmen programı başarıyla silindi`):a("❌ Silme Hatası","Hiçbir program silinemedi")}catch(he){console.error("❌ Toplu silme hatası:",he),a("❌ Silme Hatası","Programlar silinirken bir hata oluştu")}finally{_(!1)}})},P=async(oe,he)=>{const Ee=k.current[oe.id];if(!Ee)return null;try{await new Promise(fe=>setTimeout(fe,100));const pe=await ju(Ee,{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff",width:Ee.scrollWidth,height:Ee.scrollHeight,scrollX:0,scrollY:0,logging:!1,removeContainer:!0,imageTimeout:0,onclone:fe=>{const Ie=fe.querySelector('[data-teacher-id="'+oe.id+'"]');Ie&&(Ie.style.transform="none",Ie.style.position="static")}}),Te=new pt({orientation:"landscape",unit:"mm",format:"a4"}),we=pe.toDataURL("image/png",1),te=297,ve=pe.height*te/pe.width,ie=ve<210?(210-ve)/2:0;return Te.addImage(we,"PNG",0,ie,te,ve),Te}catch(pe){return console.error(`${oe.name} için PDF oluşturma hatası:`,pe),null}},q=async oe=>{if(!$(oe.id))return;const Ee=await P(oe);if(Ee){const Te=`${oe.name.replace(/ğ/g,"g").replace(/Ğ/g,"G").replace(/ü/g,"u").replace(/Ü/g,"U").replace(/ş/g,"s").replace(/Ş/g,"S").replace(/ı/g,"i").replace(/İ/g,"I").replace(/ö/g,"o").replace(/Ö/g,"O").replace(/ç/g,"c").replace(/Ç/g,"C").replace(/[^a-zA-Z\s]/g,"").replace(/\s+/g,"_")}_Ders_Programi_${new Date().getFullYear()}.pdf`;Ee.save(Te)}},Z=async()=>{const oe=J.filter(he=>n.some(Ee=>Ee.teacherId===he.id));if(oe.length===0){alert("İndirilecek program bulunamadı");return}G(!0);try{let he=null;for(let Ee=0;Ee<oe.length;Ee++){const pe=oe[Ee],Te=n.find(we=>we.teacherId===pe.id);if(Te){const we=await P(pe,Te);if(we){if(Ee===0)he=we;else if(he){he.addPage();const te=k.current[pe.id];if(te){await new Promise(ze=>setTimeout(ze,100));const ve=await ju(te,{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff",logging:!1}),ie=ve.toDataURL("image/png",1),fe=297,Ie=ve.height*fe/ve.width,Ve=Ie<210?(210-Ie)/2:0;he.addImage(ie,"PNG",0,Ve,fe,Ie)}}}}}if(he){const Ee=`Tum_Ders_Programlari_${new Date().getFullYear()}.pdf`;he.save(Ee)}}catch(he){console.error("Toplu PDF oluşturma hatası:",he),alert("PDF oluşturulurken bir hata oluştu")}finally{G(!1)}},Y=()=>{D("")},X=oe=>{oe.key==="Enter"&&(oe.preventDefault(),console.log("🔍 Enter ile öğretmen araması:",S),oe.target.blur()),oe.key==="Escape"&&(Y(),oe.target.blur())},J=j(),Ae=ce(),le=J.filter(oe=>n.some(he=>he.teacherId===oe.id));return l.jsxs("div",{className:"container-mobile",children:[l.jsxs("div",{className:"header-mobile",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(ds,{className:"w-8 h-8 text-indigo-600 mr-3"}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-responsive-xl font-bold text-gray-900",children:"Öğretmen Ders Programları"}),l.jsx("p",{className:"text-responsive-sm text-gray-600",children:"Okuldaki tüm öğretmen programlarını görüntüleyin"})]})]}),l.jsxs("div",{className:"button-group-mobile",children:[le.length>0&&l.jsx(Ge,{onClick:_e,icon:Jn,variant:"danger",disabled:Q,className:"w-full sm:w-auto",children:Q?"Siliniyor...":`Tüm Programları Sil (${le.length})`}),l.jsx(Ge,{onClick:Z,icon:Ul,variant:"primary",disabled:le.length===0||V,className:"w-full sm:w-auto",children:V?"PDF Oluşturuluyor...":`Tüm Programları İndir (${le.length})`})]})]}),l.jsxs("div",{className:"mobile-card mobile-spacing mb-6",children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:"🔍 Öğretmen Ara"}),l.jsxs("div",{className:"relative",children:[l.jsx(SS,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{type:"text",value:S,onChange:oe=>D(oe.target.value),onKeyDown:X,placeholder:"Öğretmen adı veya branş ara... (Enter ile ara)",className:"w-full pl-10 pr-10 py-3 text-base border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200",title:"Enter ile ara, ESC ile temizle"}),S&&l.jsx("button",{onClick:Y,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors btn-touch",title:"Aramayı temizle",children:l.jsx(ca,{className:"w-5 h-5"})})]}),S&&l.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[l.jsxs("p",{className:"text-sm text-blue-600",children:['🔍 "',S,'" için ',J.length," sonuç bulundu"]}),l.jsx("button",{onClick:Y,className:"text-xs text-gray-500 hover:text-gray-700 underline",children:"Temizle"})]})]}),l.jsxs("div",{className:"responsive-grid gap-responsive",children:[l.jsx(qt,{label:"Seviye Filtresi",value:m,onChange:B,options:E}),l.jsx(qt,{label:"Gün Filtresi",value:b,onChange:F,options:U}),l.jsx(qt,{label:"Ders Saati",value:y,onChange:x,options:I})]})]}),Ae.length>0&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx(Sl,{className:"w-5 h-5 text-red-600 mt-0.5"})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Program Çakışmaları Tespit Edildi"}),l.jsx("div",{className:"mt-2 text-sm text-red-700",children:l.jsx("ul",{className:"list-disc list-inside space-y-1",children:Ae.map((oe,he)=>l.jsx("li",{children:oe},he))})})]})]})}),l.jsxs("div",{className:"responsive-grid mb-6",children:[l.jsx("div",{className:"mobile-card mobile-spacing",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(ls,{className:"w-8 h-8 text-blue-600 mr-3"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Toplam Öğretmen"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.length})]})]})}),l.jsx("div",{className:"mobile-card mobile-spacing",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(Di,{className:"w-8 h-8 text-emerald-600 mr-3"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Toplam Sınıf"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]})]})}),l.jsx("div",{className:"mobile-card mobile-spacing",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(Mi,{className:"w-8 h-8 text-indigo-600 mr-3"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Toplam Ders"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.length})]})]})}),l.jsx("div",{className:"mobile-card mobile-spacing",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(ds,{className:"w-8 h-8 text-purple-600 mr-3"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Hazır Program"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.length})]})]})})]}),l.jsx("div",{className:"space-y-6",children:J.map(oe=>{const he=$(oe.id),Ee=ye(oe.id);return l.jsxs("div",{className:"mobile-card overflow-hidden",children:[l.jsx("div",{className:"p-4 bg-gray-50 border-b",children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between space-y-3 sm:space-y-0",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-gray-900",children:oe.name}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsxs("p",{className:"text-sm text-gray-600",children:[oe.branch," - ",oe.level]}),Ee&&l.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:Ee})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[he&&l.jsx(Ge,{onClick:()=>q(oe),icon:Ul,variant:"secondary",size:"sm",className:"flex-1 sm:flex-none",children:"PDF İndir"}),!he&&l.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"Program Yok"})]})]})}),he?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"table-responsive schedule-mobile",children:l.jsxs("table",{className:"min-w-full schedule-table",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Saat"}),Tt.map(pe=>l.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-gray-500 uppercase",children:pe},pe))]})}),l.jsxs("tbody",{className:"divide-y divide-gray-200",children:[l.jsxs("tr",{className:"bg-blue-50",children:[l.jsx("td",{className:"px-3 py-2 font-medium text-gray-900 bg-blue-100 text-sm",children:"Hazırlık"}),Tt.map(pe=>{const Te=ne(pe,"prep",oe.id,oe.level);return l.jsx("td",{className:"px-2 py-2",children:l.jsx("div",{className:"text-center p-2 bg-blue-50 rounded border border-blue-200",children:l.jsx("div",{className:"font-medium text-blue-900 text-sm",children:(Te==null?void 0:Te.title)||"Hazırlık"})})},`${pe}-prep`)})]}),An.map(pe=>{if(b&&!Tt.includes(b)||y&&pe!==y)return null;const Te=(oe.level==="İlkokul"||oe.level==="Anaokulu")&&pe==="5"||oe.level==="Ortaokul"&&pe==="6",we=pe==="8";return l.jsxs(hi.Fragment,{children:[l.jsxs("tr",{className:Te?"bg-green-50":"",children:[l.jsx("td",{className:`px-3 py-2 font-medium text-gray-900 text-sm ${Te?"bg-green-100":"bg-gray-50"}`,children:Te?"Yemek":`${pe}.`}),Tt.map(te=>{var ie;if(b&&te!==b)return null;if(Te)return ne(te,pe,oe.id,oe.level),l.jsx("td",{className:"px-2 py-2",children:l.jsx("div",{className:"text-center p-2 bg-green-50 rounded border border-green-200",children:l.jsx("div",{className:"font-medium text-green-900 text-sm",children:"Yemek"})})},`${te}-${pe}`);const ve=ae(oe.id,te,pe);return l.jsx("td",{className:"px-2 py-2",children:ve?l.jsx("div",{className:"text-center p-2 bg-blue-50 rounded border border-blue-200",children:l.jsx("div",{className:"font-medium text-blue-900 text-sm",children:(ie=ve.classItem)==null?void 0:ie.name})}):l.jsx("div",{className:"text-center p-2 bg-gray-50 rounded border border-gray-200",children:l.jsx("div",{className:"text-gray-400 text-xs",children:"Boş"})})},`${te}-${pe}`)})]}),we&&l.jsxs("tr",{className:"bg-yellow-50",children:[l.jsx("td",{className:"px-3 py-2 font-medium text-gray-900 bg-yellow-100 text-sm",children:"İkindi Kahvaltısı"}),Tt.map(te=>(ne(te,"afternoon-breakfast",oe.id,oe.level),l.jsx("td",{className:"px-2 py-2",children:l.jsx("div",{className:"text-center p-2 bg-yellow-50 rounded border border-yellow-200",children:l.jsx("div",{className:"font-medium text-yellow-900 text-sm",children:"İkindi Kahvaltısı"})})},`${te}-afternoon-breakfast`)))]})]},pe)})]})]})}),l.jsx("div",{style:{position:"absolute",left:"-9999px",top:"-9999px",zIndex:-1,opacity:0,pointerEvents:"none"},children:l.jsx("div",{ref:pe=>k.current[oe.id]=pe,"data-teacher-id":oe.id,style:{transform:"none",position:"static"},children:l.jsx(rF,{teacher:oe,schedule:he,subjects:r,classes:e})})})]}):l.jsxs("div",{className:"p-8 text-center",children:[l.jsx(ds,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),l.jsx("p",{className:"text-gray-500",children:"Bu öğretmen için henüz program oluşturulmamış"})]})]},oe.id)})}),J.length===0&&l.jsxs("div",{className:"text-center py-12 mobile-card",children:[l.jsx(ls,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:S?"Arama Sonucu Bulunamadı":"Öğretmen Bulunamadı"}),l.jsx("p",{className:"text-gray-500 mb-4",children:S?`"${S}" araması için sonuç bulunamadı`:"Seçilen filtrelere uygun öğretmen bulunmuyor"}),(S||m)&&l.jsxs("div",{className:"button-group-mobile",children:[S&&l.jsx(Ge,{onClick:Y,variant:"secondary",children:"Aramayı Temizle"}),m&&l.jsx(Ge,{onClick:()=>B(""),variant:"secondary",children:"Filtreleri Temizle"})]})]}),l.jsx(ma,{isOpen:c.isOpen,onClose:f,onConfirm:c.onConfirm,title:c.title,message:c.message,type:c.type,confirmText:c.confirmText,cancelText:c.cancelText,confirmVariant:c.confirmVariant})]})},jC=({classItem:t,schedule:e,teachers:r,subjects:n})=>{const s=()=>{let o=0;return e?(Tt.forEach(c=>{e[c]&&An.forEach(h=>{const f=e[c][h];f&&!f.isFixed&&o++})}),o):0},i=o=>{const c=Mh(o,t.level);return c?s0(c.startTime,c.endTime):`${o}. Ders`},A=o=>{const c=t.level==="Ortaokul"?"6":"5";return o==="prep"?{title:t.level==="Ortaokul"?"Hazırlık":"Kahvaltı",time:t.level==="Ortaokul"?"08:30-08:40":"08:30-08:50",isFixed:!0,bg:"#e6f3ff"}:o==="breakfast"?{title:"Kahvaltı",time:"09:15-09:35",isFixed:!0,bg:"#fff8f0"}:o===c?{title:"Yemek",time:i(o),isFixed:!0,bg:"#e6ffe6"}:o==="afternoon-breakfast"?{title:"İkindi Kahvaltısı",time:"14:35-14:45",isFixed:!0,bg:"#fffbf0"}:{title:`${o}.`,time:i(o),isFixed:!1,bg:"#e6f3ff"}},a=["prep","1","2","3","4","5","6","7","8","9","10","breakfast","afternoon-breakfast"].filter(o=>{var c;return((c=e==null?void 0:e[Tt[0]])==null?void 0:c[o])!==void 0}).sort((o,c)=>{const h=f=>f==="prep"?0:isNaN(parseInt(f))?f==="breakfast"?1.5:f==="afternoon-breakfast"?8.5:99:parseInt(f);return h(o)-h(c)});return l.jsxs("div",{style:{width:"297mm",height:"210mm",padding:"10mm",fontSize:"12px",lineHeight:"1.4",fontFamily:'"Segoe UI", Tahoma, Geneva, Verdana, sans-serif',backgroundColor:"white",color:"#000000"},children:[l.jsxs("div",{style:{marginBottom:"8mm",paddingBottom:"4mm",borderBottom:"2px solid #000000"},children:[l.jsxs("h1",{style:{fontSize:"18px",fontWeight:"bold",margin:0},children:[t.name," Sınıfı Ders Programı"]}),l.jsxs("p",{style:{fontSize:"14px",margin:"4px 0 0 0"},children:[t.level," • Haftalık Toplam: ",s()," ders saati"]})]}),l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"11px"},children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",fontWeight:"bold",backgroundColor:"#e6f3ff",width:"80px"},children:"SAAT"}),Tt.map(o=>l.jsx("th",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",fontWeight:"bold",backgroundColor:"#e6f3ff"},children:o.toUpperCase()},o))]})}),l.jsx("tbody",{children:a.map((o,c)=>{const h=A(o),f=h.isFixed?h.bg:c%2===0?"#ffffff":"#f8f9fa";return l.jsxs("tr",{style:{backgroundColor:f},children:[l.jsxs("td",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",fontWeight:"bold",backgroundColor:h.bg},children:[l.jsx("div",{style:{fontSize:"10px",fontWeight:"bold"},children:h.title}),l.jsx("div",{style:{fontSize:"8px",color:"#666666",marginTop:"2px"},children:h.time})]}),Tt.map(g=>{var F;const m=(F=e==null?void 0:e[g])==null?void 0:F[o];if(!m)return l.jsx("td",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center"},children:l.jsx("span",{style:{color:"#999999",fontSize:"9px"},children:"-"})},`${g}-${o}`);if(m.isFixed)return l.jsx("td",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",backgroundColor:h.bg},children:m.subjectId},`${g}-${o}`);const B=r.find(y=>{var x;return y.id===((x=m.teacher)==null?void 0:x.id)}),b=m.subject;return l.jsx("td",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center"},children:B?l.jsxs("div",{children:[l.jsx("div",{style:{fontWeight:"bold",fontSize:"10px",marginBottom:"2px"},children:B.name}),l.jsx("div",{style:{fontSize:"9px",color:"#666666"},children:(b==null?void 0:b.name)||(b==null?void 0:b.branch)||""})]}):l.jsx("span",{style:{color:"#999999",fontSize:"9px"},children:"Boş"})},`${g}-${o}`)})]},o)})})]}),l.jsxs("div",{style:{marginTop:"10mm",display:"flex",justifyContent:"space-between",fontSize:"10px",color:"#666666"},children:[l.jsxs("div",{children:["Haftalık Toplam: ",s()," ders saati"]}),l.jsx("div",{children:"İDE Okulları Ders Programı"})]})]})},QV=()=>{const t=qo(),{data:e}=yt("teachers"),{data:r}=yt("classes"),{data:n}=yt("subjects"),{data:s,remove:i}=yt("schedules"),{success:A,error:a,info:o,warning:c}=Ys(),{confirmation:h,showConfirmation:f,hideConfirmation:g,confirmDelete:m}=pa(),[B,b]=ue.useState(""),[F,y]=ue.useState(""),[x,S]=ue.useState(!1),[D,V]=ue.useState(!1),[G,Q]=ue.useState(!1),_=ue.useRef({}),k=ue.useRef(null);ue.useEffect(()=>{const Ae=new URLSearchParams(t.search).get("classId");Ae&&r.length>0&&r.find(oe=>oe.id===Ae)&&(b(Ae),setTimeout(()=>{var oe;(oe=k.current)==null||oe.scrollIntoView({behavior:"smooth",block:"start"})},500))},[t.search,r]);const N=[...r].sort((J,Ae)=>J.name.localeCompare(Ae.name,"tr")),E=[{value:"",label:"Tüm Seviyeler"},{value:"Anaokulu",label:"Anaokulu"},{value:"İlkokul",label:"İlkokul"},{value:"Ortaokul",label:"Ortaokul"}],U=()=>N.filter(J=>!F||J.level===F),I=J=>{const Ae={};return Tt.forEach(le=>{Ae[le]={},An.forEach(oe=>{Ae[le][oe]=null,s.forEach(he=>{var pe;const Ee=(pe=he.schedule[le])==null?void 0:pe[oe];if((Ee==null?void 0:Ee.classId)===J){const Te=e.find(te=>te.id===he.teacherId),we=n.find(te=>te.id===Ee.subjectId);Te&&(Ae[le][oe]={teacher:Te,subject:we})}})})}),Ae},j=(J,Ae,le)=>Ae==="prep"||Ae==="afternoon-breakfast",$=(J,Ae)=>J==="prep"?{title:"Hazırlık",subtitle:Ae==="Ortaokul"?"08:30-08:40":"08:30-08:50",color:"bg-blue-100 border-blue-300 text-blue-800"}:(Ae==="İlkokul"||Ae==="Anaokulu")&&J==="5"?{title:"Yemek",subtitle:"11:50-12:25",color:"bg-green-100 border-green-300 text-green-800"}:Ae==="Ortaokul"&&J==="6"?{title:"Yemek",subtitle:"12:30-13:05",color:"bg-green-100 border-green-300 text-green-800"}:J==="afternoon-breakfast"?{title:"İkindi Kahvaltısı",subtitle:"14:35-14:45",color:"bg-yellow-100 border-yellow-300 text-yellow-800"}:null,ae=J=>{let Ae=0;const le=I(J);return Tt.forEach(oe=>{An.forEach(he=>{le[oe][he]&&!j(oe,he)&&Ae++})}),Ae},ne=(J,Ae)=>{let le=0;const oe=I(J);return An.forEach(he=>{oe[Ae][he]&&!j(Ae,he)&&le++}),le},ee=J=>{const Ae=r.find(le=>le.id===J);Ae&&(console.log("👁️ Sınıf görüntüleme:",{classId:J,className:Ae.name}),b(J),setTimeout(()=>{var le;(le=k.current)==null||le.scrollIntoView({behavior:"smooth",block:"start"})},100),o("Program Görüntülendi",`${Ae.name} sınıfının programı yukarıda görüntüleniyor`))},ce=()=>{const J=q.filter(Ae=>ae(Ae.id)>0);if(J.length===0){c("⚠️ Silinecek Program Yok","Filtrelenen sınıflar arasında silinecek program bulunamadı");return}m(`${J.length} Sınıf Programı`,async()=>{Q(!0);try{let Ae=0;const le=s.filter(oe=>Object.values(oe.schedule).some(he=>Object.values(he).some(Ee=>(Ee==null?void 0:Ee.classId)&&J.some(pe=>pe.id===Ee.classId))));console.log("🗑️ Silinecek programlar:",{totalSchedules:s.length,schedulesToDelete:le.length,classesWithSchedules:J.length});for(const oe of le)try{await i(oe.id),Ae++,console.log(`✅ Program silindi: ${oe.id}`)}catch(he){console.error(`❌ Program silinemedi: ${oe.id}`,he)}Ae>0?(A("🗑️ Programlar Silindi",`${Ae} sınıf programı başarıyla silindi`),B&&J.some(oe=>oe.id===B)&&b("")):a("❌ Silme Hatası","Hiçbir program silinemedi")}catch(Ae){console.error("❌ Toplu silme hatası:",Ae),a("❌ Silme Hatası","Programlar silinirken bir hata oluştu")}finally{Q(!1)}})},ye=async J=>{const Ae=_.current[J.id];if(!Ae)return null;try{await new Promise(we=>setTimeout(we,200));const le=await ju(Ae,{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff",width:Ae.scrollWidth,height:Ae.scrollHeight,scrollX:0,scrollY:0,logging:!1,removeContainer:!0,imageTimeout:0}),oe=new pt({orientation:"landscape",unit:"mm",format:"a4"}),he=le.toDataURL("image/png",1),Ee=297,pe=le.height*Ee/le.width,Te=pe<210?(210-pe)/2:0;return oe.addImage(he,"PNG",0,Te,Ee,pe),oe}catch(le){return console.error(`${J.name} için PDF oluşturma hatası:`,le),null}},_e=async J=>{S(!0);try{const Ae=await ye(J);if(Ae){const oe=`${J.name.replace(/ğ/g,"g").replace(/Ğ/g,"G").replace(/ü/g,"u").replace(/Ü/g,"U").replace(/ş/g,"s").replace(/Ş/g,"S").replace(/ı/g,"i").replace(/İ/g,"I").replace(/ö/g,"o").replace(/Ö/g,"O").replace(/ç/g,"c").replace(/Ç/g,"C").replace(/[^a-zA-Z0-9\s]/g,"").replace(/\s+/g,"_")}_Sinif_Programi_${new Date().getFullYear()}.pdf`;Ae.save(oe),A("PDF İndirildi",`${J.name} sınıfı programı başarıyla indirildi`)}else a("PDF Hatası","PDF oluşturulurken bir hata oluştu")}catch{a("PDF Hatası","PDF oluşturulurken bir hata oluştu")}finally{S(!1)}},P=async()=>{const Ae=U().filter(le=>ae(le.id)>0);if(Ae.length===0){a("Program Bulunamadı","İndirilecek sınıf programı bulunamadı");return}V(!0);try{let le=null;for(let oe=0;oe<Ae.length;oe++){const he=Ae[oe],Ee=await ye(he);if(Ee){if(oe===0)le=Ee;else if(le){le.addPage();const pe=_.current[he.id];if(pe){await new Promise(fe=>setTimeout(fe,100));const Te=await ju(pe,{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff",logging:!1}),we=Te.toDataURL("image/png",1),te=297,ve=Te.height*te/Te.width,ie=ve<210?(210-ve)/2:0;le.addImage(we,"PNG",0,ie,te,ve)}}}}if(le){const oe=`Tum_Sinif_Programlari_${new Date().getFullYear()}.pdf`;le.save(oe),A("Toplu PDF İndirildi",`${Ae.length} sınıf programı başarıyla indirildi`)}}catch{a("PDF Hatası","Toplu PDF oluşturulurken bir hata oluştu")}finally{V(!1)}},q=U(),Z=q.filter(J=>ae(J.id)>0),Y=r.find(J=>J.id===B),X=Y?ae(Y.id)>0:!1;return l.jsxs("div",{className:"container-mobile",children:[l.jsxs("div",{className:"header-mobile",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Di,{className:"w-8 h-8 text-emerald-600 mr-3"}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-responsive-xl font-bold text-gray-900",children:"Sınıf Ders Programları"}),l.jsx("p",{className:"text-responsive-sm text-gray-600",children:"Sınıf bazında ders programlarını görüntüleyin"})]})]}),l.jsxs("div",{className:"button-group-mobile",children:[Z.length>0&&l.jsx(Ge,{onClick:ce,icon:Jn,variant:"danger",disabled:G,className:"w-full sm:w-auto",children:G?"Siliniyor...":`Tüm Programları Sil (${Z.length})`}),l.jsx(Ge,{onClick:P,icon:Ul,variant:"primary",disabled:Z.length===0||D,className:"w-full sm:w-auto",children:D?"PDF Oluşturuluyor...":`Tüm Programları İndir (${Z.length})`})]})]}),l.jsx("div",{className:"mobile-card mobile-spacing mb-6",children:l.jsxs("div",{className:"responsive-grid-2 gap-responsive",children:[l.jsx(qt,{label:"Seviye Filtresi",value:F,onChange:y,options:E}),l.jsx(qt,{label:"Sınıf Seçin",value:B,onChange:J=>{console.log("🔄 Sınıf değiştirildi:",{oldClass:B,newClass:J}),b(J),J&&r.find(le=>le.id===J)&&ae(J)>0&&setTimeout(()=>{var le;(le=k.current)==null||le.scrollIntoView({behavior:"smooth",block:"start"})},100)},options:q.map(J=>({value:J.id,label:`${J.name} (${J.level})`}))})]})}),l.jsxs("div",{className:"responsive-grid gap-responsive mb-6",children:[l.jsx("div",{className:"mobile-card mobile-spacing",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(Di,{className:"w-8 h-8 text-emerald-600 mr-3"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Toplam Sınıf"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.length})]})]})}),l.jsx("div",{className:"mobile-card mobile-spacing",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(ds,{className:"w-8 h-8 text-blue-600 mr-3"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Programlı Sınıf"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Z.length})]})]})}),l.jsx("div",{className:"mobile-card mobile-spacing",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(ls,{className:"w-8 h-8 text-purple-600 mr-3"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Aktif Öğretmen"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]})]})}),l.jsx("div",{className:"mobile-card mobile-spacing",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(Mi,{className:"w-8 h-8 text-indigo-600 mr-3"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Toplam Ders"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.length})]})]})})]}),Y&&l.jsxs("div",{ref:k,className:"mobile-card overflow-hidden mb-6 scroll-mt-6",children:[l.jsx("div",{className:"p-4 bg-emerald-50 border-b border-emerald-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"font-bold text-emerald-900 text-lg",children:["📚 ",Y.name," Sınıfı Ders Programı"]}),l.jsxs("p",{className:"text-emerald-700 mt-1",children:[l.jsx("span",{className:"font-medium",children:Y.level})," •",l.jsxs("span",{className:"ml-2",children:["Haftalık toplam: ",l.jsxs("strong",{children:[ae(Y.id)," ders saati"]})]})]})]}),X&&l.jsx("div",{className:"flex items-center space-x-2",children:l.jsx(Ge,{onClick:()=>_e(Y),icon:Ul,variant:"primary",size:"sm",disabled:x,children:x?"PDF Oluşturuluyor...":"PDF İndir"})})]})}),X?l.jsx("div",{className:"table-responsive",children:l.jsxs("table",{className:"min-w-full",children:[l.jsx("thead",{className:"bg-emerald-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-emerald-800 uppercase tracking-wider",children:"Ders Saati"}),Tt.map(J=>l.jsxs("th",{className:"px-4 py-3 text-center text-xs font-bold text-emerald-800 uppercase tracking-wider",children:[l.jsx("div",{className:"font-bold",children:J}),l.jsx("div",{className:"text-xs mt-1 font-normal",children:l.jsxs("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-emerald-100 text-emerald-700",children:[ne(Y.id,J)," ders"]})})]},J))]})}),l.jsxs("tbody",{className:"divide-y divide-gray-200",children:[l.jsxs("tr",{className:"bg-blue-50",children:[l.jsxs("td",{className:"px-4 py-4 font-bold text-gray-900 bg-blue-100 text-center",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-8 h-8 bg-blue-600 text-white rounded-full font-bold",children:"H"}),l.jsx("div",{className:"text-xs mt-1",children:"Hazırlık"})]}),Tt.map(J=>{const Ae=$("prep",Y.level);return l.jsx("td",{className:"px-3 py-3",children:l.jsx("div",{className:"text-center p-3 bg-blue-50 rounded-lg border-2 border-blue-200 hover:bg-blue-100 transition-colors",children:l.jsx("div",{className:"font-bold text-blue-900 text-sm",children:(Ae==null?void 0:Ae.title)||"Hazırlık"})})},`${J}-prep`)})]}),An.map((J,Ae)=>{const le=I(Y.id),oe=(Y.level==="İlkokul"||Y.level==="Anaokulu")&&J==="5"||Y.level==="Ortaokul"&&J==="6",he=J==="8";return l.jsxs(hi.Fragment,{children:[l.jsxs("tr",{className:oe?"bg-green-50":Ae%2===0?"bg-white":"bg-gray-50",children:[l.jsx("td",{className:`px-4 py-4 font-bold text-gray-900 text-center ${oe?"bg-green-100":"bg-emerald-50"}`,children:oe?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"inline-flex items-center justify-center w-8 h-8 bg-green-600 text-white rounded-full font-bold",children:"Y"}),l.jsx("div",{className:"text-xs mt-1",children:"Yemek"})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"inline-flex items-center justify-center w-8 h-8 bg-emerald-600 text-white rounded-full font-bold",children:J}),l.jsxs("div",{className:"text-xs mt-1",children:[J,". Ders"]})]})}),Tt.map(Ee=>{var Te,we;if(oe)return $(J,Y.level),l.jsx("td",{className:"px-3 py-3",children:l.jsx("div",{className:"text-center p-3 bg-green-50 rounded-lg border-2 border-green-200 hover:bg-green-100 transition-colors",children:l.jsx("div",{className:"font-bold text-green-900 text-sm",children:"Yemek"})})},`${Ee}-${J}`);const pe=le[Ee][J];return l.jsx("td",{className:"px-3 py-3",children:pe?l.jsxs("div",{className:"text-center p-3 bg-emerald-50 rounded-lg border-2 border-emerald-200 hover:bg-emerald-100 transition-colors",children:[l.jsx("div",{className:"font-bold text-emerald-900 text-sm",children:pe.teacher.name.length>20?pe.teacher.name.substring(0,20)+"...":pe.teacher.name}),l.jsx("div",{className:"text-emerald-700 text-xs mt-1 font-medium",children:((Te=pe.subject)==null?void 0:Te.name)||((we=pe.subject)==null?void 0:we.branch)||""})]}):l.jsx("div",{className:"text-center p-3 bg-gray-50 rounded-lg border border-gray-200",children:l.jsx("div",{className:"text-gray-400 text-xs font-medium",children:"Boş Ders"})})},`${Ee}-${J}`)})]}),he&&l.jsxs("tr",{className:"bg-yellow-50",children:[l.jsxs("td",{className:"px-4 py-4 font-bold text-gray-900 bg-yellow-100 text-center",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-8 h-8 bg-yellow-600 text-white rounded-full font-bold",children:"İ"}),l.jsx("div",{className:"text-xs mt-1",children:"İkindi Kahvaltısı"})]}),Tt.map(Ee=>($("afternoon-breakfast",Y.level),l.jsx("td",{className:"px-3 py-3",children:l.jsx("div",{className:"text-center p-3 bg-yellow-50 rounded-lg border-2 border-yellow-200 hover:bg-yellow-100 transition-colors",children:l.jsx("div",{className:"font-bold text-yellow-900 text-sm",children:"İkindi Kahvaltısı"})})},`${Ee}-afternoon-breakfast`)))]})]},J)})]})]})}):l.jsxs("div",{className:"p-12 text-center",children:[l.jsx(ds,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Program Bulunamadı"}),l.jsx("p",{className:"text-gray-500",children:"Bu sınıf için henüz program oluşturulmamış"}),l.jsx("p",{className:"text-sm text-gray-400 mt-2",children:'Program oluşturmak için "Program Oluştur" sayfasını kullanın'})]}),X&&l.jsx("div",{style:{position:"absolute",left:"-9999px",top:"-9999px",zIndex:-1,opacity:0,pointerEvents:"none"},children:l.jsx("div",{ref:J=>_.current[Y.id]=J,"data-class-id":Y.id,style:{transform:"none",position:"static"},children:l.jsx(jC,{classItem:Y,schedule:I(Y.id),teachers:e,subjects:n})})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center",children:[l.jsx(yy,{className:"w-6 h-6 mr-2 text-emerald-600"}),"Tüm Sınıf Programları"]}),l.jsxs("p",{className:"text-sm text-gray-600",children:[q.length," sınıf • ",Z.length," programlı"]})]}),q.map(J=>{const Ae=ae(J.id),le=B===J.id;return l.jsxs("div",{className:`mobile-card mobile-spacing hover:shadow-md transition-shadow ${le?"ring-2 ring-emerald-500 shadow-lg":""}`,children:[l.jsx("div",{className:"p-4 bg-gray-50 border-b",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:`w-3 h-3 rounded-full ${Ae>0?"bg-emerald-500":"bg-gray-300"}`}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:J.name}),l.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[l.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${J.level==="Anaokulu"?"bg-green-100 text-green-800":J.level==="İlkokul"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:J.level}),l.jsx("span",{className:"text-sm text-gray-600",children:Ae>0?`${Ae} ders saati`:"Program yok"})]})]})]}),l.jsx("div",{className:"flex items-center space-x-2",children:Ae>0?l.jsxs(l.Fragment,{children:[l.jsx(Ge,{onClick:()=>ee(J.id),variant:le?"primary":"secondary",size:"sm",children:le?"Görüntüleniyor":"Görüntüle"}),l.jsx(Ge,{onClick:()=>_e(J),icon:Ul,variant:"primary",size:"sm",disabled:x,children:"PDF İndir"})]}):l.jsx("span",{className:"inline-flex px-3 py-2 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"Program Yok"})})]})}),Ae>0&&l.jsx(l.Fragment,{children:l.jsx("div",{style:{position:"absolute",left:"-9999px",top:"-9999px",zIndex:-1,opacity:0,pointerEvents:"none"},children:l.jsx("div",{ref:oe=>_.current[J.id]=oe,"data-class-id":J.id,style:{transform:"none",position:"static"},children:l.jsx(jC,{classItem:J,schedule:I(J.id),teachers:e,subjects:n})})})})]},J.id)})]}),q.length===0&&l.jsxs("div",{className:"text-center py-12 mobile-card",children:[l.jsx(Di,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Sınıf Bulunamadı"}),l.jsx("p",{className:"text-gray-500 mb-4",children:"Seçilen filtrelere uygun sınıf bulunmuyor"}),l.jsx(Ge,{onClick:()=>y(""),variant:"secondary",children:"Filtreleri Temizle"})]}),l.jsx(ma,{isOpen:h.isOpen,onClose:g,onConfirm:h.onConfirm,title:h.title,message:h.message,type:h.type,confirmText:h.confirmText,cancelText:h.cancelText,confirmVariant:h.confirmVariant})]})},LV=()=>{const{data:t}=yt("teachers"),{data:e}=yt("classes"),{data:r}=yt("subjects"),{data:n}=yt("schedules"),[s,i]=ue.useState(""),[A,a]=ue.useState(!1),[o,c]=ue.useState(!1),h=ue.useRef(null),f=[...t].sort((F,y)=>F.name.localeCompare(y.name,"tr")),g=async()=>{if(!s||!h.current)return;const F=t.find(x=>x.id===s),y=n.find(x=>x.teacherId===s);if(!F||!y){alert("Seçilen öğretmen için program bulunamadı");return}c(!0);try{const x=A;x||(a(!0),await new Promise(E=>setTimeout(E,200)));const S=await ju(h.current,{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff",width:h.current.scrollWidth,height:h.current.scrollHeight,scrollX:0,scrollY:0,logging:!1,removeContainer:!0,imageTimeout:0}),D=new pt({orientation:"landscape",unit:"mm",format:"a4"}),V=S.toDataURL("image/png",1),G=297,Q=S.height*G/S.width,_=Q<210?(210-Q)/2:0;D.addImage(V,"PNG",0,_,G,Q);const N=`${F.name.replace(/ğ/g,"g").replace(/Ğ/g,"G").replace(/ü/g,"u").replace(/Ü/g,"U").replace(/ş/g,"s").replace(/Ş/g,"S").replace(/ı/g,"i").replace(/İ/g,"I").replace(/ö/g,"o").replace(/Ö/g,"O").replace(/ç/g,"c").replace(/Ç/g,"C").replace(/[^a-zA-Z\s]/g,"").replace(/\s+/g,"_")}_Ders_Programi_${new Date().getFullYear()}.pdf`;D.save(N),x||a(!1)}catch(x){console.error("PDF oluşturma hatası:",x),alert("PDF oluşturulurken bir hata oluştu")}finally{c(!1)}},m=f.map(F=>({value:F.id,label:`${F.name} (${F.branch} - ${F.level})`})),B=t.find(F=>F.id===s),b=n.find(F=>F.teacherId===s);return l.jsxs("div",{className:"container-mobile",children:[l.jsx("div",{className:"header-mobile",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(Sl,{className:"w-8 h-8 text-orange-600 mr-3"}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-responsive-xl font-bold text-gray-900",children:"PDF Çıktı"}),l.jsx("p",{className:"text-responsive-sm text-gray-600",children:"Öğretmen ders programlarını PDF olarak indirin"})]})]})}),l.jsxs("div",{className:"mobile-card mobile-spacing",children:[l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 items-center",children:[l.jsx("div",{className:"lg:col-span-4",children:l.jsx(qt,{label:"Öğretmen Seçin",value:s,onChange:i,options:m,required:!0})}),l.jsx("div",{className:"lg:col-span-4 flex items-end justify-center",children:B&&b&&l.jsx(Ge,{onClick:()=>a(!A),icon:n0,variant:"secondary",className:"w-full",children:A?"Önizlemeyi Gizle":"Önizleme Göster"})}),l.jsx("div",{className:"lg:col-span-4 flex items-end justify-end",children:B&&b&&l.jsx(Ge,{onClick:g,icon:Ul,variant:"primary",disabled:o,className:"w-full",children:o?"PDF Oluşturuluyor...":"PDF İndir"})})]}),l.jsxs("div",{className:"mt-6",children:[B&&!b&&l.jsx("div",{className:"ide-notification ide-notification-warning",children:l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx(Sl,{className:"w-5 h-5 text-ide-accent-600 mt-0.5"})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("h3",{className:"text-sm font-medium text-ide-accent-800",children:"Program Bulunamadı"}),l.jsxs("p",{className:"text-sm text-ide-accent-700 mt-1",children:[l.jsx("strong",{children:B.name}),' için henüz program oluşturulmamış. Önce "Program Oluştur\\" bölümünden program oluşturun, sonra PDF olarak indirebilirsiniz.']})]})]})}),B&&b&&l.jsx("div",{className:"ide-notification ide-notification-success",children:l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx(Sl,{className:"w-5 h-5 text-ide-secondary-600 mt-0.5"})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("h3",{className:"text-sm font-medium text-ide-secondary-800",children:"Program Hazır"}),l.jsxs("p",{className:"text-sm text-ide-secondary-700 mt-1",children:[l.jsx("strong",{children:B.name})," için program hazır. Önizleme gösterip PDF olarak indirebilirsiniz."]}),l.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-4 text-xs text-ide-secondary-600",children:[l.jsxs("div",{children:[l.jsx("p",{children:"✓ Gerçek ekran görüntüsü"}),l.jsx("p",{children:"✓ Tam Türkçe karakter desteği"}),l.jsx("p",{children:"✓ Yüksek çözünürlük"}),l.jsx("p",{children:"✓ Renkli görünüm"})]}),l.jsxs("div",{children:[l.jsx("p",{children:"✓ Profesyonel tasarım"}),l.jsx("p",{children:"✓ Yazdırma dostu"}),l.jsx("p",{children:"✓ Okul logosu"}),l.jsx("p",{children:"✓ İmza alanları"})]})]})]})]})})]})]}),!B&&l.jsxs("div",{className:"text-center py-12 mobile-card mt-6",children:[l.jsx(Sl,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"PDF İndirmek İçin Öğretmen Seçin"}),l.jsx("p",{className:"text-gray-500 mb-4",children:"Bir öğretmen seçerek ders programını PDF olarak indirebilirsiniz"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-400 max-w-md mx-auto",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{children:"✓ Gerçek ekran görüntüsü"}),l.jsx("p",{children:"✓ Tam Türkçe karakter desteği"}),l.jsx("p",{children:"✓ Yüksek çözünürlük"}),l.jsx("p",{children:"✓ Renkli görünüm"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{children:"✓ Profesyonel tasarım"}),l.jsx("p",{children:"✓ Yazdırma dostu"}),l.jsx("p",{children:"✓ Okul logosu"}),l.jsx("p",{children:"✓ İmza alanları"})]})]})]}),B&&b&&l.jsx("div",{className:`mt-8 ${A?"block":"hidden"}`,children:l.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Program Önizlemesi"}),l.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:l.jsx("div",{ref:h,children:l.jsx(rF,{teacher:B,schedule:b,subjects:r,classes:e})})})]})})]})},jV=t=>{const e=t.trim().toLocaleLowerCase("tr-TR");return e.includes("anaokul")?"Anaokulu":e.includes("ilkokul")?"İlkokul":e.includes("ortaokul")?"Ortaokul":null},PV=t=>{const e=new Map,r=new Map,n=new Map,s=new Map,i=new Map,A=[];return t.split(`
`).filter(c=>c.trim()&&!c.startsWith(";")).slice(1).forEach((c,h)=>{var y,x,S,D,V;const g=c.replace(/^\uFEFF/,"").replace(/\r$/,"").split(";").map(G=>G.trim().replace(/^"|"$/g,"")),m={teacherName:((y=g[0])==null?void 0:y.trim())||"",branch:((x=g[1])==null?void 0:x.trim())||"",level:((S=g[2])==null?void 0:S.trim())||"",subjectName:((D=g[3])==null?void 0:D.trim())||"",className:((V=g[4])==null?void 0:V.trim())||"",weeklyHours:parseInt(g[5]||"0",10)};if(!m.teacherName||!m.branch||!m.level||!m.subjectName||!m.className){c.trim()&&A.push(`${h+2}. satırda eksik veri: ${c}`);return}const B=m.level.split("|").map(G=>jV(G.trim())).filter(G=>!!G);if(B.length===0){A.push(`${h+2}. satırda geçersiz eğitim seviyesi: "${m.level}"`);return}const b=m.branch.split("|").map(G=>G.trim()),F=`${m.subjectName.toLowerCase()}-${m.branch.toLowerCase()}`;i.has(m.teacherName)||i.set(m.teacherName,new Set),i.get(m.teacherName).add(F),B.forEach(G=>{e.has(m.teacherName)||e.set(m.teacherName,{name:m.teacherName,branches:new Set,levels:new Set});const Q=e.get(m.teacherName);b.forEach(k=>Q.branches.add(k)),Q.levels.add(G),m.className.split("/").map(k=>k.trim()).forEach(k=>{r.has(k)||r.set(k,{name:k,level:G,levels:[G]});const N=r.get(k),E=new Set(N.levels||[N.level]);E.add(G),N.levels=Array.from(E),s.has(k)||s.set(k,{classTeacherName:null,teacherNames:new Set});const U=s.get(k);U.teacherNames.add(m.teacherName),m.branch.toUpperCase().includes("SINIF ÖĞRETMENLİĞİ")&&G!=="Ortaokul"&&(U.classTeacherName=m.teacherName)}),n.has(F)?n.get(F).levels.add(G):n.set(F,{name:m.subjectName,branch:m.branch,level:G,levels:new Set([G]),weeklyHours:m.weeklyHours||1})})}),e.forEach(c=>{c.branches=Array.from(c.branches),c.levels=Array.from(c.levels),c.branch=c.branches[0],c.level=c.levels[0]}),r.forEach(c=>{c.levels=Array.from(c.levels),c.level=c.levels[0]}),n.forEach(c=>{c.levels=Array.from(c.levels),c.level=c.levels[0]}),{teachers:e,classes:r,subjects:n,classTeacherAssignments:s,teacherSubjectAssignments:i,errors:A}},DV=(t,e)=>{const r=new Uint8Array([239,187,191]),n=new Blob([r,t],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a"),i=URL.createObjectURL(n);s.setAttribute("href",i),s.setAttribute("download",e),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)},RV=()=>{const t=Yl(),{data:e,remove:r,add:n}=yt("teachers"),{data:s,remove:i,add:A,update:a}=yt("classes"),{data:o,remove:c,add:h}=yt("subjects"),{data:f,remove:g}=yt("schedules"),{data:m,remove:B}=yt("schedule-templates"),{data:b,remove:F}=yt("classrooms"),{success:y,error:x,warning:S,info:D}=Ys(),{confirmation:V,hideConfirmation:G,confirmDelete:Q}=pa(),[_,k]=ue.useState(!1),N=ue.useRef(null),[E,U]=ue.useState(!1),[I,j]=ue.useState(null),[$,ae]=ue.useState([]),[ne,ee]=ue.useState(!1),ce=Z=>{var J;const Y=(J=Z.target.files)==null?void 0:J[0];if(!Y)return;const X=new FileReader;X.onload=Ae=>{var oe;const le=(oe=Ae.target)==null?void 0:oe.result;if(!le){x("❌ Dosya Hatası","Dosya içeriği okunamadı");return}try{const he=PV(le);j({teachers:Array.from(he.teachers.values()),classes:Array.from(he.classes.values()),subjects:Array.from(he.subjects.values()),classTeacherAssignments:he.classTeacherAssignments,teacherSubjectAssignments:he.teacherSubjectAssignments}),ae(he.errors),U(!0)}catch(he){console.error("Kapsamlı CSV işleme hatası:",he),x("❌ CSV Hatası","Dosya işlenirken beklenmedik bir hata oluştu.")}finally{N.current&&(N.current.value="")}},X.readAsText(Y,"UTF-8")},ye=()=>{DV(`öğretmen adı;branş;eğitim seviyesi;ders Adı;sınıf ve şube;haftalık saat
"Öğretmen 1";"SINIF ÖĞRETMENLİĞİ";"İLKOKUL";"TÜRKÇE";"1A";"10"
"Öğretmen 1";"SINIF ÖĞRETMENLİĞİ";"İLKOKUL";"MATEMATİK";"1A";"5"
"Öğretmen 2";"SINIF ÖĞRETMENLİĞİ";"İLKOKUL";"TÜRKÇE";"1B";"10"
"Öğretmen 3";"İNGİLİZCE";"İLKOKUL|ORTAOKUL";"İNGİLİZCE";"4A";"6"
"Öğretmen 3";"İNGİLİZCE";"İLKOKUL|ORTAOKUL";"İNGİLİZCE";"5A";"6"
"Öğretmen 4";"MATEMATİK|GEOMETRİ";"ORTAOKUL";"MATEMATİK";"5A";"5"
"Öğretmen 4";"MATEMATİK|GEOMETRİ";"ORTAOKUL";"SEÇMELİ GEOMETRİ";"8A";"2"
"Öğretmen 5";"ANAOKULU ÖĞRETMENLİĞİ";"ANAOKULU";"SINIF ÖĞRETMENİ";"Papatyalar";"15"
"Öğretmen 6";"BEDEN EĞİTİMİ";"İLKOKUL|ORTAOKUL";"BEDEN EĞİTİMİ";"4A";"2"
"Öğretmen 6";"BEDEN EĞİTİMİ";"İLKOKUL|ORTAOKUL";"BEDEN EĞİTİMİ";"8A";"2"
"Öğretmen 7";"FEN BİLİMLERİ";"ORTAOKUL";"FEN BİLİMLERİ";"5A";"4"
"Öğretmen 8";"SOSYAL BİLGİLER";"ORTAOKUL";"SOSYAL BİLGİLER";"5A";"3"
"Öğretmen 9";"GÖRSEL SANATLAR";"ANAOKULU";"GÖRSEL";"Papatyalar";"2"
"Öğretmen 9";"GÖRSEL SANATLAR";"İLKOKUL";"GÖRSEL";"2B";"2"
"Öğretmen 10";"İSPANYOLCA";"ORTAOKUL";"İSPANYOLCA";"7A";"2"
"Öğretmen 11";"ALMANCA";"ORTAOKUL";"ALMANCA";"7A";"2"
"Öğretmen 12";"BİLİŞİM TEKNOLOJİLERİ";"ORTAOKUL";"BİLİŞİM TEKNOLOJİLERİ";"7A";"2"
"Öğretmen 13";"REHBERLİK";"ORTAOKUL";"REHBERLİK";"8A";"1"
"Öğretmen 14";"DİN KÜLTÜRÜ";"ORTAOKUL";"DİN KÜLTÜRÜ";"8A";"2"`,"kapsamli_veri_sablonu.csv"),y("✅ Şablon İndirildi","CSV şablonu başarıyla indirildi")},_e=async()=>{if(!I)return;ee(!0),D("Veri aktarımı başladı...","Lütfen bekleyin.");const{teachers:Z,classes:Y,subjects:X,classTeacherAssignments:J,teacherSubjectAssignments:Ae}=I;let le={teachers:0,classes:0,subjects:0,assignments:0};try{const oe=d5(Ms),he=new Map,Ee=new Map,pe=new Map;e.forEach(Te=>he.set(Te.name.toLowerCase(),Te.id)),s.forEach(Te=>Ee.set(Te.name.toLowerCase(),Te.id)),o.forEach(Te=>{const we=`${Te.name.toLowerCase()}-${Te.branch.toLowerCase()}`;pe.set(we,Te.id)}),X.forEach(Te=>{var te,ve;const we=`${(te=Te.name)==null?void 0:te.toLowerCase()}-${(ve=Te.branch)==null?void 0:ve.toLowerCase()}`;if(!pe.has(we)){const ie=GA(du(Ms,"subjects"));oe.set(ie,{...Te,createdAt:new Date}),pe.set(we,ie.id),le.subjects++}}),Y.forEach(Te=>{if(!Ee.has(Te.name.toLowerCase())){const we=GA(du(Ms,"classes"));oe.set(we,{...Te,createdAt:new Date}),Ee.set(Te.name.toLowerCase(),we.id),le.classes++}}),Z.forEach(Te=>{if(!he.has(Te.name.toLowerCase())){const we=GA(du(Ms,"teachers")),te=Ae.get(Te.name)||new Set,ve=Array.from(te).map(fe=>pe.get(fe)).filter(fe=>!!fe),ie={...Te,subjectIds:ve,createdAt:new Date};oe.set(we,ie),he.set(Te.name.toLowerCase(),we.id),le.teachers++}});for(const[Te,we]of J.entries()){const te=Te.split("/").map(ve=>ve.trim());for(const ve of te){const ie=Ee.get(ve.toLowerCase());if(ie){const fe=Array.from(we.teacherNames).map(tt=>he.get(tt.toLowerCase())).filter(tt=>!!tt);let Ie;we.classTeacherName&&(Ie=he.get(we.classTeacherName.toLowerCase()));const Ve=GA(Ms,"classes",ie),ze={teacherIds:fe};Ie&&(ze.classTeacherId=Ie),oe.update(Ve,ze),le.assignments++}else console.warn(`İlişki kurulamadı: '${ve}' sınıfı bulunamadı.`)}}await oe.commit(),y("✅ Aktarım Tamamlandı!",`${le.teachers} öğretmen, ${le.classes} sınıf, ${le.subjects} ders eklendi ve ${le.assignments} ilişki güncellendi.`)}catch(oe){x("❌ Aktarım Hatası","Veriler içe aktarılırken bir hata oluştu. Lütfen konsolu kontrol edin."),console.error(oe)}finally{ee(!1),U(!1)}},P=e.length+s.length+o.length+f.length+m.length+b.length,q=()=>{const Z=[...e.map(Y=>({...Y,collection:"teachers"})),...s.map(Y=>({...Y,collection:"classes"})),...o.map(Y=>({...Y,collection:"subjects"})),...f.map(Y=>({...Y,collection:"schedules"})),...m.map(Y=>({...Y,collection:"schedule-templates"})),...b.map(Y=>({...Y,collection:"classrooms"}))];if(Z.length===0){S("⚠️ Silinecek Veri Yok","Sistemde silinecek veri bulunamadı");return}Q(`Tüm Veriler (${Z.length} öğe)`,async()=>{k(!0);const Y=d5(Ms);Z.forEach(X=>{Y.delete(GA(Ms,X.collection,X.id))});try{await Y.commit(),y("🗑️ Tüm Veriler Silindi",`${Z.length} öğe başarıyla sistemden kaldırıldı.`)}catch{x("❌ Toplu Silme Hatası","Tüm veriler silinirken bir hata oluştu.")}finally{k(!1)}})};return l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex items-center justify-between h-16",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(G2,{className:"w-8 h-8 text-purple-600 mr-3"}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Veri Yönetimi"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Sistem verilerini yönetin ve temizleyin"})]})]}),l.jsx(Ge,{onClick:()=>t("/"),variant:"secondary",children:"Ana Sayfaya Dön"})]})}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx(df,{className:"w-6 h-6 text-yellow-500 mr-3"}),l.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Akıllı Veri Yükleme"})]}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Verilen CSV dosyasını tek seferde yükleyerek tüm öğretmen, sınıf ve ders verilerini sisteme otomatik olarak ekleyin. Sistem verileri ayrıştıracak ve tekrar edenleri birleştirecektir."}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("input",{type:"file",accept:".csv",onChange:ce,ref:N,className:"hidden",id:"comprehensive-csv-upload"}),l.jsx(Ge,{onClick:()=>{var Z;return(Z=N.current)==null?void 0:Z.click()},icon:TR,variant:"primary",children:"Kapsamlı CSV Yükle"}),l.jsx(Ge,{onClick:ye,icon:Ul,variant:"secondary",children:"Şablon İndir"})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(BS,{className:"w-6 h-6 text-purple-600 mr-2"}),l.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Veri İstatistikleri"})]}),l.jsxs("div",{className:"text-sm text-gray-600",children:["Toplam ",P," veri öğesi"]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-6",children:[l.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 border border-blue-100 flex flex-col items-center justify-between min-h-[200px] shadow-sm",children:[l.jsxs("div",{className:"flex flex-col items-center mb-4 text-center",children:[l.jsx(ls,{className:"w-8 h-8 text-blue-600 mb-2"}),l.jsx("h3",{className:"text-base font-semibold text-blue-900 mb-1",children:"Öğretmenler"}),l.jsx("span",{className:"text-3xl font-extrabold text-blue-700 mb-1",children:e.length})]}),l.jsx("div",{className:"flex flex-col w-full gap-2 mt-auto",children:l.jsx(Ge,{onClick:()=>t("/teachers"),variant:"secondary",size:"md",className:"w-full",children:"Yönet"})})]}),l.jsxs("div",{className:"bg-emerald-50 rounded-xl p-6 border border-emerald-100 flex flex-col items-center justify-between min-h-[200px] shadow-sm",children:[l.jsxs("div",{className:"flex flex-col items-center mb-4 text-center",children:[l.jsx(Di,{className:"w-8 h-8 text-emerald-600 mb-2"}),l.jsx("h3",{className:"text-base font-semibold text-emerald-900 mb-1",children:"Sınıflar"}),l.jsx("span",{className:"text-3xl font-extrabold text-emerald-700 mb-1",children:s.length})]}),l.jsx("div",{className:"flex flex-col w-full gap-2 mt-auto",children:l.jsx(Ge,{onClick:()=>t("/classes"),variant:"secondary",size:"md",className:"w-full",children:"Yönet"})})]}),l.jsxs("div",{className:"bg-indigo-50 rounded-xl p-6 border border-indigo-100 flex flex-col items-center justify-between min-h-[200px] shadow-sm",children:[l.jsxs("div",{className:"flex flex-col items-center mb-4 text-center",children:[l.jsx(Mi,{className:"w-8 h-8 text-indigo-600 mb-2"}),l.jsx("h3",{className:"text-base font-semibold text-indigo-900 mb-1",children:"Dersler"}),l.jsx("span",{className:"text-3xl font-extrabold text-indigo-700 mb-1",children:o.length})]}),l.jsx("div",{className:"flex flex-col w-full gap-2 mt-auto",children:l.jsx(Ge,{onClick:()=>t("/subjects"),variant:"secondary",size:"md",className:"w-full",children:"Yönet"})})]}),l.jsxs("div",{className:"bg-teal-50 rounded-xl p-6 border border-teal-100 flex flex-col items-center justify-between min-h-[200px] shadow-sm",children:[l.jsxs("div",{className:"flex flex-col items-center mb-4 text-center",children:[l.jsx(Hh,{className:"w-8 h-8 text-teal-600 mb-2"}),l.jsx("h3",{className:"text-base font-semibold text-teal-900 mb-1",children:"Derslikler"}),l.jsx("span",{className:"text-3xl font-extrabold text-teal-700 mb-1",children:b.length})]}),l.jsx("div",{className:"flex flex-col w-full gap-3 mt-auto pt-2",children:l.jsx(Ge,{onClick:()=>t("/classrooms"),variant:"secondary",size:"md",className:"w-full",children:"Yönet"})})]}),l.jsxs("div",{className:"bg-purple-50 rounded-xl p-6 border border-purple-100 flex flex-col items-center justify-between min-h-[200px] shadow-sm",children:[l.jsxs("div",{className:"flex flex-col items-center mb-4 text-center",children:[l.jsx(ds,{className:"w-8 h-8 text-purple-600 mb-2"}),l.jsx("h3",{className:"text-base font-semibold text-purple-900 mb-1",children:"Programlar"}),l.jsx("span",{className:"text-3xl font-extrabold text-purple-700 mb-1",children:f.length})]}),l.jsx("div",{className:"flex flex-col w-full gap-2 mt-auto",children:l.jsx(Ge,{onClick:()=>t("/all-schedules"),variant:"secondary",size:"md",className:"w-full",children:"Yönet"})})]}),l.jsxs("div",{className:"bg-orange-50 rounded-xl p-6 border border-orange-200 flex flex-col items-center justify-between min-h-[200px] shadow-sm",children:[l.jsxs("div",{className:"flex flex-col items-center mb-4 text-center",children:[l.jsx(W2,{className:"w-8 h-8 text-orange-600 mb-2"}),l.jsx("h3",{className:"text-base font-semibold text-orange-900 mb-1",children:"Şablonlar"}),l.jsx("span",{className:"text-3xl font-extrabold text-orange-700 mb-1",children:m.length})]}),l.jsx("div",{className:"flex flex-col w-full gap-2 mt-auto",children:l.jsx(Ge,{onClick:()=>t("/"),variant:"secondary",size:"md",className:"w-full",children:"Yönet"})})]})]})]}),l.jsxs("div",{className:"bg-red-50 rounded-lg shadow-sm border border-red-200 p-6",children:[l.jsxs("div",{className:"flex items-center mb-6",children:[l.jsx(ql,{className:"w-6 h-6 text-red-600 mr-2"}),l.jsx("h2",{className:"text-lg font-bold text-red-900",children:"Tehlikeli Bölge"})]}),l.jsx("div",{className:"p-4 bg-white rounded-lg border border-red-100",children:l.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-red-900",children:"Tüm Verileri Sil"}),l.jsx("p",{className:"text-sm text-red-700 mt-1",children:"Bu işlem tüm verileri kalıcı olarak silecektir. Bu işlem geri alınamaz!"})]}),l.jsx(Ge,{onClick:q,icon:Jn,variant:"danger",disabled:_||P===0,className:"w-full sm:w-auto flex-shrink-0",children:_?"Siliniyor...":`Tüm Verileri Sil (${P})`})]})})]})]}),l.jsx(Vi,{isOpen:E,onClose:()=>U(!1),title:"Kapsamlı Veri İçe Aktarma Önizlemesi",size:"xl",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[l.jsx("h4",{className:"font-medium text-green-800 mb-2",children:"Ayrıştırma Sonucu"}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4 text-center",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold text-green-700",children:(I==null?void 0:I.teachers.length)||0}),l.jsx("p",{className:"text-sm text-green-600",children:"Benzersiz Öğretmen"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold text-green-700",children:(I==null?void 0:I.classes.length)||0}),l.jsx("p",{className:"text-sm text-green-600",children:"Benzersiz Sınıf"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold text-green-700",children:(I==null?void 0:I.subjects.length)||0}),l.jsx("p",{className:"text-sm text-green-600",children:"Benzersiz Ders"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold text-green-700",children:(I==null?void 0:I.classTeacherAssignments.size)||0}),l.jsx("p",{className:"text-sm text-green-600",children:"Sınıf-Öğretmen İlişkisi"})]})]})]}),$.length>0&&l.jsxs("div",{className:"p-4 bg-red-50 rounded-lg border border-red-200",children:[l.jsxs("h4",{className:"font-medium text-red-800 mb-2",children:["Tespit Edilen Hatalar (",$.length,")"]}),l.jsx("ul",{className:"list-disc list-inside text-sm text-red-700 max-h-40 overflow-y-auto",children:$.map((Z,Y)=>l.jsx("li",{children:Z},Y))})]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"text-md font-semibold mb-2 flex items-center",children:[l.jsx(_R,{className:"w-4 h-4 mr-2"}),"Sınıf-Öğretmen Atamaları Önizlemesi"]}),l.jsx("div",{className:"border rounded-lg max-h-60 overflow-y-auto",children:l.jsxs("table",{className:"min-w-full text-sm",children:[l.jsx("thead",{className:"bg-gray-100 sticky top-0",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-2 text-left font-medium",children:"Sınıf"}),l.jsx("th",{className:"p-2 text-left font-medium",children:"Sınıf Öğretmeni"}),l.jsx("th",{className:"p-2 text-left font-medium",children:"Derse Girecek Diğer Öğretmenler"})]})}),l.jsx("tbody",{children:I&&Array.from(I.classTeacherAssignments.entries()).map(([Z,Y],X)=>l.jsxs("tr",{className:"border-b",children:[l.jsx("td",{className:"p-2 font-bold",children:Z}),l.jsx("td",{className:"p-2 text-blue-600 font-medium",children:Y.classTeacherName||l.jsx("span",{className:"text-gray-400",children:"Belirtilmemiş"})}),l.jsx("td",{className:"p-2 text-gray-600",children:Array.from(Y.teacherNames).filter(J=>J!==Y.classTeacherName).join(", ")})]},X))})]})})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[l.jsx(Ge,{type:"button",onClick:()=>U(!1),variant:"secondary",children:"İptal"}),l.jsx(Ge,{type:"button",onClick:_e,variant:"primary",disabled:ne,children:ne?"Aktarılıyor...":"Verileri İçe Aktar"})]})]})}),l.jsx(ma,{isOpen:V.isOpen,onClose:G,onConfirm:V.onConfirm,title:V.title,message:V.message,type:V.type,confirmText:V.confirmText,cancelText:V.cancelText,confirmVariant:V.confirmVariant})]})},OV=()=>{const t=Yl(),{data:e,loading:r,add:n,update:s,remove:i}=yt("classrooms"),{success:A,error:a,warning:o}=Ys(),{confirmation:c,showConfirmation:h,hideConfirmation:f,confirmDelete:g}=pa(),[m,B]=ue.useState(!1),[b,F]=ue.useState(null),[y,x]=ue.useState(""),[S,D]=ue.useState(""),[V,G]=ue.useState(!1),[Q,_]=ue.useState({name:"",shortName:"",type:"",capacity:"",floor:"",building:"",equipment:[],color:""}),k=X=>X?X.substring(0,2).toUpperCase():"",N=()=>{const X=["#3B82F6","#10B981","#8B5CF6","#F59E0B","#EF4444","#06B6D4"];return X[Math.floor(Math.random()*X.length)]},E=[{value:"normal",label:"Normal Sınıf"},{value:"laboratory",label:"Laboratuvar"},{value:"workshop",label:"Atölye"},{value:"gym",label:"Spor Salonu"},{value:"library",label:"Kütüphane"},{value:"computer",label:"Bilgisayar Sınıfı"}],U=[{id:"projector",label:"Projeksiyon",icon:ng},{id:"computer",label:"Bilgisayar",icon:ng},{id:"wifi",label:"WiFi",icon:FS},{id:"sound",label:"Ses Sistemi",icon:NS}],I=[{value:"Ana Bina",label:"Ana Bina"},{value:"Ek Bina",label:"Ek Bina"},{value:"Spor Kompleksi",label:"Spor Kompleksi"},{value:"Laboratuvar Binası",label:"Laboratuvar Binası"}],$=e.filter(X=>{const J=!y||X.type===y,Ae=!S||X.building===S;return J&&Ae}).sort((X,J)=>X.name.localeCompare(J.name,"tr")),ae=()=>{if(e.length===0){o("⚠️ Silinecek Derslik Yok","Sistemde silinecek derslik bulunamadı");return}g(`${e.length} Derslik`,async()=>{G(!0);try{let X=0;for(const J of e)try{await i(J.id),X++}catch(Ae){console.error(`❌ Derslik silinemedi: ${J.name}`,Ae)}X>0?(A("🗑️ Derslikler Silindi",`${X} derslik başarıyla silindi`),x(""),D("")):a("❌ Silme Hatası","Hiçbir derslik silinemedi")}catch(X){console.error("❌ Toplu silme hatası:",X),a("❌ Silme Hatası","Derslikler silinirken bir hata oluştu")}finally{G(!1)}})},ne=async X=>{X.preventDefault();const J={name:Q.name,type:Q.type||"normal",capacity:parseInt(Q.capacity)||30,floor:Q.floor||"1",building:Q.building||"Ana Bina",equipment:Q.equipment,shortName:Q.shortName||k(Q.name),color:Q.color||N()};try{b?(await s(b.id,J),A("✅ Güncellendi",`${Q.name} başarıyla güncellendi`)):(await n(J),A("✅ Eklendi",`${Q.name} başarıyla eklendi`)),ee()}catch{a("❌ Hata","Derslik kaydedilirken bir hata oluştu")}},ee=()=>{_({name:"",shortName:"",type:"",capacity:"",floor:"",building:"",equipment:[],color:""}),F(null),B(!1)},ce=X=>{_({name:X.name,shortName:X.shortName||k(X.name),type:X.type,capacity:X.capacity.toString(),floor:X.floor,building:X.building,equipment:X.equipment||[],color:X.color||N()}),F(X),B(!0)},ye=async X=>{const J=e.find(Ae=>Ae.id===X);J&&g(J.name,async()=>{await i(X),A("🗑️ Derslik Silindi",`${J.name} başarıyla silindi`)})},_e=(X,J)=>{_(J?Ae=>({...Ae,equipment:[...Ae.equipment,X]}):Ae=>({...Ae,equipment:Ae.equipment.filter(le=>le!==X)}))};hi.useEffect(()=>{Q.name&&!b&&_(X=>({...X,shortName:k(X.name)}))},[Q.name,b]),hi.useEffect(()=>{Q.name&&!b&&!Q.color&&_(X=>({...X,color:N()}))},[Q.name,b]);const P=X=>{var J;return((J=E.find(Ae=>Ae.value===X))==null?void 0:J.label)||X},q=X=>({normal:"bg-blue-100 text-blue-800",laboratory:"bg-purple-100 text-purple-800",workshop:"bg-orange-100 text-orange-800",gym:"bg-green-100 text-green-800",library:"bg-indigo-100 text-indigo-800",computer:"bg-red-100 text-red-800"})[X]||"bg-gray-100 text-gray-800",Z=[{value:"",label:"Tüm Türler"},...E],Y=[{value:"",label:"Tüm Binalar"},...I];return r?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsxs("div",{className:"mobile-loading",children:[l.jsx("div",{className:"mobile-loading-spinner"}),l.jsx("div",{className:"mobile-loading-text",children:"Yükleniyor..."})]})}):l.jsxs("div",{className:"container-mobile",children:[l.jsxs("div",{className:"header-mobile",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Hh,{className:"w-8 h-8 text-teal-600 mr-3"}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-responsive-xl font-bold text-gray-900",children:"Derslik Yönetimi"}),l.jsxs("p",{className:"text-responsive-sm text-gray-600",children:[e.length," derslik kayıtlı (",$.length," gösteriliyor)"]})]})]}),l.jsxs("div",{className:"button-group-mobile",children:[l.jsx(Ge,{onClick:()=>t("/data-management"),variant:"secondary",className:"w-full sm:w-auto",children:"Veri Yönetimine Dön"}),e.length>0&&l.jsx(Ge,{onClick:ae,icon:Jn,variant:"danger",disabled:V,className:"w-full sm:w-auto",children:V?"Siliniyor...":`Tümünü Sil (${e.length})`}),l.jsx(Ge,{onClick:()=>B(!0),icon:Yn,variant:"primary",className:"w-full sm:w-auto",children:"Yeni Derslik"})]})]}),l.jsx("div",{className:"mobile-card mobile-spacing mb-6",children:l.jsxs("div",{className:"responsive-grid-2 gap-responsive",children:[l.jsx(qt,{label:"Tür Filtresi",value:y,onChange:x,options:Z}),l.jsx(qt,{label:"Bina Filtresi",value:S,onChange:D,options:Y})]})}),$.length===0?l.jsxs("div",{className:"text-center py-12 mobile-card",children:[l.jsx(Hh,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:e.length===0?"Henüz derslik eklenmemiş":"Filtrelere uygun derslik bulunamadı"}),l.jsx("p",{className:"text-gray-500 mb-4",children:e.length===0?"İlk dersliğinizi ekleyerek başlayın":"Farklı filtre kriterleri deneyin"}),l.jsx("div",{className:"button-group-mobile",children:e.length===0&&l.jsx(Ge,{onClick:()=>B(!0),icon:Yn,variant:"primary",children:"Derslik Ekle"})})]}):l.jsx("div",{className:"responsive-grid gap-responsive",children:$.map(X=>l.jsxs("div",{className:"mobile-card mobile-spacing hover:shadow-md transition-shadow",children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-gray-900",children:X.name}),l.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${q(X.type)}`,children:P(X.type)})]}),l.jsxs("div",{className:"flex space-x-1",children:[l.jsx("button",{onClick:()=>ce(X),className:"p-1 text-gray-400 hover:text-blue-600 transition-colors",children:l.jsx(fa,{size:16})}),l.jsx("button",{onClick:()=>ye(X.id),className:"p-1 text-gray-400 hover:text-red-600 transition-colors",children:l.jsx(Jn,{size:16})})]})]}),l.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Kapasite:"}),l.jsxs("span",{className:"font-medium",children:[X.capacity," kişi"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Konum:"}),l.jsxs("span",{className:"font-medium",children:[X.building," - ",X.floor,". Kat"]})]}),X.equipment&&X.equipment.length>0&&l.jsxs("div",{children:[l.jsx("span",{className:"text-xs text-gray-500",children:"Ekipmanlar:"}),l.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:X.equipment.map(J=>{const Ae=U.find(le=>le.id===J);return Ae?l.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded",children:[l.jsx(Ae.icon,{size:12,className:"mr-1"}),Ae.label]},J):null})})]})]})]},X.id))}),l.jsx(Vi,{isOpen:m,onClose:ee,title:b?"Derslik Düzenle":"Yeni Derslik Ekle",size:"lg",children:l.jsxs("form",{onSubmit:ne,children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(dr,{label:"İsim",value:Q.name,onChange:X=>_({...Q,name:X}),placeholder:"Örn: A101, Fen Lab 1",required:!0}),l.jsx(dr,{label:"Kısaltma",value:Q.shortName,onChange:X=>_({...Q,shortName:X}),placeholder:"Otomatik oluşturulur",disabled:!0})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(qt,{label:"Derslik Türü",value:Q.type,onChange:X=>_({...Q,type:X}),options:E}),l.jsx(dr,{label:"Kapasite",type:"number",value:Q.capacity,onChange:X=>_({...Q,capacity:X}),placeholder:"30",min:"1",max:"100"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(qt,{label:"Bina",value:Q.building,onChange:X=>_({...Q,building:X}),options:I}),l.jsx(dr,{label:"Kat",value:Q.floor,onChange:X=>_({...Q,floor:X}),placeholder:"1"})]}),l.jsx(dr,{label:"Renk",value:Q.color,onChange:X=>_({...Q,color:X}),placeholder:"Otomatik atanır",disabled:!0}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:"Ekipmanlar"}),l.jsx("div",{className:"grid grid-cols-2 gap-3",children:U.map(X=>l.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:Q.equipment.includes(X.id),onChange:J=>_e(X.id,J.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),l.jsx(X.icon,{size:16,className:"text-gray-500"}),l.jsx("span",{className:"text-sm text-gray-700",children:X.label})]},X.id))})]}),l.jsxs("div",{className:"button-group-mobile mt-6",children:[l.jsx(Ge,{type:"button",onClick:ee,variant:"secondary",children:"İptal"}),l.jsx(Ge,{type:"submit",variant:"primary",children:b?"Güncelle":"Kaydet"})]})]})}),l.jsx(ma,{isOpen:c.isOpen,onClose:f,onConfirm:c.onConfirm,title:c.title,message:c.message,type:c.type,confirmText:c.confirmText,cancelText:c.cancelText,confirmVariant:c.confirmVariant})]})},HV=({id:t,type:e,title:r,message:n,duration:s=5e3,onClose:i})=>{const[A,a]=ue.useState(!1),[o,c]=ue.useState(!1),[h,f]=ue.useState(100);ue.useEffect(()=>{const S=setTimeout(()=>{a(!0)},e==="error"?50:100);return()=>clearTimeout(S)},[e]),ue.useEffect(()=>{if(s>0){const x=setInterval(()=>{f(D=>{const V=D-100/(s/100);return V<=0?0:V})},100),S=setTimeout(()=>{g()},s);return()=>{clearInterval(x),clearTimeout(S)}}},[s]);const g=()=>{c(!0),setTimeout(()=>{i(t)},300)},m={success:z2,error:TS,warning:Oh,info:ES},B={success:"bg-ide-secondary-50 border-ide-secondary-500 text-ide-secondary-800",error:"bg-ide-accent-50 border-ide-accent-500 text-ide-accent-800",warning:"bg-ide-orange-50 border-ide-orange-500 text-ide-orange-800",info:"bg-ide-primary-50 border-ide-primary-500 text-ide-primary-800"},b={success:"text-ide-secondary-600",error:"text-ide-accent-600",warning:"text-ide-orange-600",info:"text-ide-primary-600"},F={success:"bg-ide-secondary-500",error:"bg-ide-accent-600",warning:"bg-ide-orange-500",info:"bg-ide-primary-500"},y=m[e];return l.jsxs("div",{className:`
        w-full bg-white pointer-events-auto transform transition-all duration-500 ease-out relative overflow-hidden
        ${B[e]}
        ${A&&!o?"translate-x-0 opacity-100 scale-100":"translate-x-full opacity-0 scale-95"}
        ${e==="error"?"ring-8 ring-ide-accent-400 ring-opacity-75 shadow-ide-2xl":"shadow-ide-xl"}
        hover:shadow-ide-2xl hover:scale-105 rounded-xl border-l-8
      `,style:{minHeight:e==="error"?"120px":"90px",maxWidth:"400px",zIndex:2147483647,position:"relative",...e==="error"&&{animation:"shake 0.6s ease-in-out, glow 2s ease-in-out infinite",boxShadow:"0 25px 50px -12px rgba(220, 38, 38, 0.5), 0 0 0 4px rgba(220, 38, 38, 0.2), 0 0 30px rgba(220, 38, 38, 0.4)"}},children:[e==="error"&&l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-ide-accent-100 via-ide-accent-50 to-ide-accent-100 animate-pulse opacity-60"}),l.jsx("div",{className:"p-6 relative z-10",children:l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx(y,{className:`h-8 w-8 ${b[e]} ${e==="error"?"animate-bounce":""}`})}),l.jsxs("div",{className:"ml-4 w-0 flex-1",children:[l.jsx("p",{className:`text-lg font-bold leading-tight ${e==="error"?"text-ide-accent-900":"text-ide-gray-900"}`,children:r}),n&&l.jsx("p",{className:`mt-3 text-sm leading-relaxed whitespace-pre-line ${e==="error"?"text-ide-accent-800 font-semibold":"text-ide-gray-700"}`,children:n})]}),l.jsx("div",{className:"ml-4 flex-shrink-0 flex",children:l.jsx("button",{onClick:g,className:`rounded-full p-2 inline-flex transition-all duration-200 hover:scale-110 focus:outline-none focus:ring-2 focus:ring-offset-2 ${e==="error"?"text-ide-accent-600 hover:text-ide-accent-800 hover:bg-ide-accent-200 focus:ring-ide-accent-500":"text-ide-gray-400 hover:text-ide-gray-600 hover:bg-ide-gray-100 focus:ring-ide-primary-500"}`,children:l.jsx(ca,{className:"h-6 w-6"})})})]})}),s>0&&l.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-3 bg-ide-gray-200 overflow-hidden",children:l.jsx("div",{className:`h-full transition-all ease-linear ${F[e]}`,style:{width:`${h}%`,transition:"width 100ms linear"}})}),e==="error"&&l.jsx("div",{className:"absolute -inset-2 bg-ide-accent-500 rounded-xl blur-sm opacity-20 animate-pulse -z-10"})]})},MV=({toasts:t,onClose:e})=>t.length===0?null:l.jsx("div",{className:"space-y-4 w-full",style:{pointerEvents:"auto",position:"relative",zIndex:2147483647},children:t.map((r,n)=>l.jsx("div",{style:{transform:`translateY(${n*10}px) scale(${1-n*.02})`,zIndex:2147483647-n,position:"relative",opacity:1-n*.1},children:l.jsx(HV,{...r,onClose:e})},r.id))});function VV(){const{user:t,loading:e}=K2(),{toasts:r,removeToast:n}=Ys();return e?l.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:l.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),l.jsx("div",{className:"text-gray-600 font-medium",children:"Yükleniyor..."})]})}):l.jsxs(l.Fragment,{children:[l.jsx("div",{id:"toast-portal-root",style:{position:"fixed",top:"20px",right:"20px",zIndex:2147483647,pointerEvents:"none",width:"420px",maxWidth:"90vw"},children:l.jsx(MV,{toasts:r,onClose:n})}),t?l.jsx(hU,{children:l.jsx(iU,{children:l.jsxs(Rs,{path:"/",element:l.jsx(LR,{}),children:[l.jsx(Rs,{index:!0,element:l.jsx(PR,{})}),l.jsx(Rs,{path:"teachers",element:l.jsx(HR,{})}),l.jsx(Rs,{path:"classes",element:l.jsx(MR,{})}),l.jsx(Rs,{path:"subjects",element:l.jsx(VR,{})}),l.jsx(Rs,{path:"schedules",element:l.jsx($R,{})}),l.jsx(Rs,{path:"schedule-wizard",element:l.jsx(o8,{})}),l.jsx(Rs,{path:"class-schedules",element:l.jsx(QV,{})}),l.jsx(Rs,{path:"all-schedules",element:l.jsx(UV,{})}),l.jsx(Rs,{path:"pdf",element:l.jsx(LV,{})}),l.jsx(Rs,{path:"data-management",element:l.jsx(RV,{})}),l.jsx(Rs,{path:"classrooms",element:l.jsx(OV,{})})]})})}):l.jsx(jR,{})]})}$4(document.getElementById("root")).render(l.jsx(ue.StrictMode,{children:l.jsx(VV,{})}));export{nr as _,KV as c,HF as g};
